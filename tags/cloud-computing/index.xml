<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Cloud Computing on Jimmy Song&#39;s Blog</title>
    <link>http://rootsongjc.github.io/tags/cloud-computing/</link>
    <description>Recent content in Cloud Computing on Jimmy Song&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 08 Apr 2017 12:29:36 +0800</lastBuildDate>
    
	<atom:link href="http://rootsongjc.github.io/tags/cloud-computing/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>ã€Šäº‘è®¡ç®—æŠ€æœ¯æ¶æ„ä¸å®è·µï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹è¯»åæ„Ÿ</title>
      <link>http://rootsongjc.github.io/blogs/cloud-computing-architecture-practice/</link>
      <pubDate>Sat, 08 Apr 2017 12:29:36 +0800</pubDate>
      
      <guid>http://rootsongjc.github.io/blogs/cloud-computing-architecture-practice/</guid>
      <description>ï¼ˆé¢˜å›¾ï¼šé•¿æ±Ÿä¸‰å³¡å¤§å@æ¹–åŒ—å®œæ˜Œ Apr 6,2015ï¼‰
å‰è¨€ æœ€è¿‘ï¼ˆ2017å¹´3æœˆï¼‰å‹äººæ¨èäº†ä¸€æœ¬ä¹¦ï¼Œæ˜¯åä¸ºçš„å·¥ç¨‹å¸ˆå†™çš„ã€Šäº‘è®¡ç®—æ¶æ„ä¸å®è·µç¬¬äºŒç‰ˆã€‹ï¼Œæ­£å¥½åœ¨ç½‘ä¸Šæ‰¾åˆ°äº†è¿™æœ¬ä¹¦çš„pdfï¼Œåˆ†äº«ç»™å¤§å®¶ï¼Œç‚¹è¿™é‡Œä¸‹è½½ï¼Œä¹¦æ˜¯æ–‡å­—ç‰ˆçš„ï¼Œå¤§å°13.04MBï¼Œé™¤äº†ç« èŠ‚é¡ºåºæœ‰ç‚¹é—®é¢˜å¤–æ²¡æœ‰å…¶ä»–ä»€ä¹ˆé—®é¢˜ã€‚è¿™æ˜¯è¯¥ä¹¦çš„ç¬¬äºŒç‰ˆï¼Œç¬¬ä¸€ç‰ˆ2014å¹´9æœˆå‡ºç‰ˆï¼Œç¬¬äºŒç‰ˆ2016å¹´9æœˆå‡ºç‰ˆï¼Œç¬¬äºŒç‰ˆçš„ç¼–è€…å›¢é˜Ÿå±…ç„¶æœ‰50äººä¹‹å¤šğŸ˜“
ç¬¬äºŒç‰ˆåˆ†äº«äº†åä¸ºåœ¨äº‘è®¡ç®—æ ¸å¿ƒç«äº‰åŠ›æ„å»ºä¸ä»·å€¼è½¬æ¢æ–¹é¢çš„ç»éªŒä¸å»ºè®®ï¼Œå¹¶è¡¥å……äº†ä¸šç•Œåœ¨å…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€è¡Œä¸šäº‘ä»¥åŠç”µä¿¡ç½‘ç»œäº‘åŒ–å•†ç”¨è½åœ°ä¸æŠ€æœ¯åº”ç”¨æ–¹é¢çš„æˆåŠŸä¼˜ç§€å®è·µã€‚å¢åŠ äº†å¯¹Dockerå®¹å™¨ä¸å¾®æœåŠ¡æ•æ·è¿­ä»£ã€å¤§æ•°æ®ä¸æ•°æ®åº“äº‘åŒ–ã€è¡Œä¸šå»ºæ¨¡ä¸æœºå™¨å­¦ä¹ ç®—æ³•ã€æ··åˆäº‘ä¸ç®¡ç†è‡ªåŠ¨åŒ–ç¼–æ’ã€äº‘ç”Ÿæ€å»ºè®¾ç­‰æ–¹é¢çš„ä»‹ç»ã€‚
ç¬¬1ç«  äº‘è®¡ç®—çš„å•†ä¸šåŠ¨åŠ›ä¸æŠ€æœ¯è¶‹åŠ¿ â€‹
â€‹
â€‹
â€‹
â€‹
â€‹</description>
    </item>
    
    <item>
      <title>ä½¿ç”¨Fluentdå’ŒElasticSearchæ”¶é›†Kubernetesé›†ç¾¤æ—¥å¿—</title>
      <link>http://rootsongjc.github.io/blogs/kubernetes-fluentd-elasticsearch-installation/</link>
      <pubDate>Fri, 07 Apr 2017 20:13:24 +0800</pubDate>
      
      <guid>http://rootsongjc.github.io/blogs/kubernetes-fluentd-elasticsearch-installation/</guid>
      <description>ï¼ˆé¢˜å›¾ï¼šç å¤´@å¤åŒ—æ°´é•‡ Apr 30,2016ï¼‰
å‰è¨€ åœ¨å®‰è£…å¥½äº†Kubernetesé›†ç¾¤ã€é…ç½®å¥½äº†flannelç½‘ç»œã€å®‰è£…äº†Kubernetes Dashboardå’Œé…ç½®Heapsterç›‘æ§æ’ä»¶åï¼Œè¿˜æœ‰ä¸€é¡¹é‡è¦çš„å·¥ä½œï¼Œä¸ºäº†è°ƒè¯•å’Œæ•…éšœæ’æŸ¥ï¼Œè¿˜éœ€è¦è¿›è¡Œæ—¥å¿—æ”¶é›†å·¥ä½œã€‚
å®˜æ–¹æ–‡æ¡£
Kubernetes Logging and Monitoring Cluster Activity
Logging Using Elasticsearch and Kibanaï¼šä¸è¿‡è¿™ç¯‡æ–‡ç« æ˜¯åœ¨GCEä¸Šé…ç½®çš„ï¼Œå‚è€ƒä»·å€¼ä¸å¤§ã€‚
å®¹å™¨æ—¥å¿—çš„å­˜åœ¨å½¢å¼ ç›®å‰å®¹å™¨æ—¥å¿—æœ‰ä¸¤ç§è¾“å‡ºå½¢å¼ï¼š
stdout,stderræ ‡å‡†è¾“å‡º
è¿™ç§å½¢å¼çš„æ—¥å¿—è¾“å‡ºæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨docker logsæŸ¥çœ‹æ—¥å¿—ï¼Œkubernetesé›†ç¾¤ä¸­åŒæ ·å¯ä»¥ä½¿ç”¨kubectl logsç±»ä¼¼çš„å½¢å¼æŸ¥çœ‹æ—¥å¿—ã€‚
æ—¥å¿—æ–‡ä»¶è®°å½•
è¿™ç§æ—¥å¿—è¾“å‡ºæˆ‘ä»¬æ— æ³•ä»ä»¥ä¸Šæ–¹æ³•æŸ¥çœ‹æ—¥å¿—å†…å®¹ï¼Œåªèƒ½tailæ—¥å¿—æ–‡ä»¶æŸ¥çœ‹ã€‚
Fluentdä»‹ç» Fluentdæ˜¯ä½¿ç”¨Rubyç¼–å†™çš„ï¼Œé€šè¿‡åœ¨åç«¯ç³»ç»Ÿä¹‹é—´æä¾›ç»Ÿä¸€çš„æ—¥å¿—è®°å½•å±‚æ¥ä»åç«¯ç³»ç»Ÿä¸­è§£è€¦æ•°æ®æºã€‚ æ­¤å±‚å…è®¸å¼€å‘äººå‘˜å’Œæ•°æ®åˆ†æäººå‘˜åœ¨ç”Ÿæˆæ—¥å¿—æ—¶ä½¿ç”¨å¤šç§ç±»å‹çš„æ—¥å¿—ã€‚ ç»Ÿä¸€çš„æ—¥å¿—è®°å½•å±‚å¯ä»¥è®©æ‚¨å’Œæ‚¨çš„ç»„ç»‡æ›´å¥½åœ°ä½¿ç”¨æ•°æ®ï¼Œå¹¶æ›´å¿«åœ°åœ¨æ‚¨çš„è½¯ä»¶ä¸Šè¿›è¡Œè¿­ä»£ã€‚ ä¹Ÿå°±æ˜¯è¯´fluentdæ˜¯ä¸€ä¸ªé¢å‘å¤šç§æ•°æ®æ¥æºä»¥åŠé¢å‘å¤šç§æ•°æ®å‡ºå£çš„æ—¥å¿—æ”¶é›†å™¨ã€‚å¦å¤–å®ƒé™„å¸¦äº†æ—¥å¿—è½¬å‘çš„åŠŸèƒ½ã€‚
Fluentdæ”¶é›†çš„eventç”±ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ç»„æˆï¼š
 Tagï¼šå­—ç¬¦ä¸²ï¼Œä¸­é—´ç”¨ç‚¹éš”å¼€ï¼Œå¦‚myapp.access Timeï¼šUNIXæ—¶é—´æ ¼å¼ Recordï¼šJSONæ ¼å¼  Fluentdç‰¹ç‚¹  éƒ¨ç½²ç®€å•çµæ´» å¼€æº ç»è¿‡éªŒè¯çš„å¯é æ€§å’Œæ€§èƒ½ ç¤¾åŒºæ”¯æŒï¼Œæ’ä»¶è¾ƒå¤š ä½¿ç”¨jsonæ ¼å¼äº‹ä»¶æ ¼å¼ å¯æ‹”æ’çš„æ¶æ„è®¾è®¡ ä½èµ„æºè¦æ±‚ å†…ç½®é«˜å¯é æ€§  å®‰è£… æŸ¥çœ‹cluster/addons/fluentd-elasticsearchæ’ä»¶ç›®å½•ï¼Œè·å–åˆ°éœ€è¦ç”¨åˆ°çš„dockeré•œåƒåç§°ã€‚
$grep -rn &amp;quot;gcr.io&amp;quot; *.yaml es-controller.yaml:24: - image: gcr.io/google_containers/elasticsearch:v2.4.1-2 fluentd-es-ds.yaml:26: image: gcr.io/google_containers/fluentd-elasticsearch:1.22 kibana-controller.yaml:22: image: gcr.io/google_containers/kibana:v4.6.1-1  éœ€è¦ç”¨åˆ°çš„é•œåƒ
 gcr.io/google_containers/kibana:v4.6.1-1 gcr.io/google_containers/elasticsearch:v2.4.1-2 gcr.</description>
    </item>
    
    <item>
      <title>Kubernetes heapsterç›‘æ§æ’ä»¶å®‰è£…æ–‡æ¡£</title>
      <link>http://rootsongjc.github.io/blogs/kubernetes-heapster-installation/</link>
      <pubDate>Wed, 05 Apr 2017 18:41:19 +0800</pubDate>
      
      <guid>http://rootsongjc.github.io/blogs/kubernetes-heapster-installation/</guid>
      <description>ï¼ˆé¢˜å›¾ï¼šå—‘çŒ«è–„è·çš„ç™½åŒ–å­ŸåŠ æ‹‰è™@åŒ—äº¬åŠ¨ç‰©å›­ Apr 3,2017ï¼‰
å‰è¨€ å‰é¢å‡ ç¯‡æ–‡ç« ä¸­è®°å½•äº†æˆ‘ä»¬å®‰è£…å¥½äº†Kubernetesé›†ç¾¤ã€é…ç½®å¥½äº†flannelç½‘ç»œã€å®‰è£…äº†Kubernetes Dashboardï¼Œä½†æ˜¯è¿˜æ²¡æ³•æŸ¥çœ‹Podçš„ç›‘æ§ä¿¡æ¯ï¼Œè™½ç„¶kubeleté»˜è®¤é›†æˆäº†cAdvisorï¼ˆåœ¨æ¯ä¸ªnodeçš„4194ç«¯å£å¯ä»¥æŸ¥çœ‹åˆ°ï¼‰ï¼Œä½†æ˜¯å¾ˆä¸æ–¹ä¾¿ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹©å®‰è£…heapsterã€‚
å®‰è£… ä¸‹è½½heapsterçš„ä»£ç 
ç›´æ¥ç°åœ¨Githubä¸Šçš„æœ€æ–°ä»£ç ã€‚
git pull https://github.com/kubernetes/heapster.git  ç›®å‰çš„æœ€é«˜ç‰ˆæœ¬æ˜¯1.3.0ã€‚
åœ¨heapster/deploy/kube-config/influxdbç›®å½•ä¸‹æœ‰å‡ ä¸ªyamlæ–‡ä»¶ï¼š
grafana-deployment.yaml grafana-service.yaml heapster-deployment.yaml heapster-service.yaml influxdb-deployment.yaml influxdb-service.yaml  æˆ‘ä»¬å†çœ‹ä¸‹ç”¨äº†å“ªäº›é•œåƒï¼š
grafana-deployment.yaml:16: image: gcr.io/google_containers/heapster-grafana-amd64:v4.0.2 heapster-deployment.yaml:16: image: gcr.io/google_containers/heapster-amd64:v1.3.0-beta.1 influxdb-deployment.yaml:16: image: gcr.io/google_containers/heapster-influxdb-amd64:v1.1.1  ä¸‹è½½é•œåƒ
æˆ‘ä»¬ä¸‹è½½å¥½äº†è¿™äº›imagesåï¼Œå­˜å‚¨åˆ°ç§æœ‰é•œåƒä»“åº“é‡Œï¼š
 sz-pg-oam-docker-hub-001.tendcloud.com/library/heapster-amd64:v1.3.0-beta.1 sz-pg-oam-docker-hub-001.tendcloud.com/library/heapster-grafana-amd64:v4.0.2 sz-pg-oam-docker-hub-001.tendcloud.com/library/heapster-influxdb-amd64:v1.1.1  æˆ‘å·²ç»å°†å®˜æ–¹é•œåƒå…‹éš†åˆ°äº†æ—¶é€Ÿäº‘ä¸Šï¼Œé•œåƒåœ°å€ï¼š
 index.tenxcloud.com/jimmy/heapster-amd64:v1.3.0-beta.1 index.tenxcloud.com/jimmy/heapster-influxdb-amd64:v1.1.1 index.tenxcloud.com/jimmy/heapster-grafana-amd64:v4.0.2  éœ€è¦çš„å¯ä»¥å»ä¸‹è½½ï¼Œä¸‹è½½å‰éœ€è¦ç”¨æ—¶é€Ÿäº‘è´¦æˆ·ç™»é™†ï¼Œç„¶åå†æ‰§è¡Œpullæ“ä½œã€‚
docker login index.tendcloud.com  é…ç½® å‚è€ƒRun Heapster in a Kubernetes cluster with an InfluxDB backend and a Grafana UIå’ŒConfiguring Sourceï¼Œéœ€è¦ä¿®æ”¹yamlæ–‡ä»¶ä¸­çš„å‡ ä¸ªé…ç½®ã€‚
 é¦–å…ˆä¿®æ”¹ä¸‰ä¸ªdeployment.yamlæ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„é•œåƒæ–‡ä»¶åœ°å€æ”¹æˆæˆ‘ä»¬è‡ªå·±çš„ç§æœ‰é•œåƒä»“åº“çš„ ä¿®æ”¹heapster-deployment.</description>
    </item>
    
    <item>
      <title>Kubernetes Dashboard/Web UIå®‰è£…å…¨è®°å½•</title>
      <link>http://rootsongjc.github.io/blogs/kubernetes-dashboard-installation/</link>
      <pubDate>Wed, 05 Apr 2017 14:28:51 +0800</pubDate>
      
      <guid>http://rootsongjc.github.io/blogs/kubernetes-dashboard-installation/</guid>
      <description>ï¼ˆé¢˜å›¾ï¼šæ™’å¤ªé˜³çš„è¢‹é¼ @åŒ—äº¬åŠ¨ç‰©å›­ Apr 3,2017ï¼‰
å‰è¨€ å‰å‡ å¤©åœ¨CentOS7.2ä¸Šå®‰è£…Kubernetes1.6å’Œå®‰è£…å¥½flannelç½‘ç»œé…ç½®ï¼Œä»Šå¤©æˆ‘ä»¬æ¥å®‰è£…ä¸‹kuberentnesçš„dashboardã€‚
Dashboardæ˜¯Kubernetesçš„ä¸€ä¸ªæ’ä»¶ï¼Œä»£ç åœ¨å•ç‹¬çš„å¼€æºé¡¹ç›®é‡Œã€‚1å¹´å‰è¿˜æ˜¯ç‰¹åˆ«ç®€å•çš„ä¸€ä¸ªUIï¼Œåªèƒ½åœ¨ä¸Šé¢æŸ¥çœ‹podçš„ä¿¡æ¯å’Œéƒ¨ç½²podè€Œå·²ï¼Œç°åœ¨å·²ç»åšçš„è·ŸDocker Enterprise Editionçš„Docker Datacenterå¾ˆåƒäº†ã€‚
å®‰è£…Dashboard å®˜ç½‘çš„å®‰è£…æ–‡æ¡£https://kubernetes.io/docs/user-guide/ui/ï¼Œå…¶å®å®˜ç½‘æ˜¯è®©æˆ‘ä»¬ä½¿ç”¨ç°æˆçš„imageæ¥ç”¨kuberneteséƒ¨ç½²å³å¯ã€‚
é¦–å…ˆéœ€è¦ä¸€ä¸ªkubernetes-dashboard.yamlçš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥åœ¨Githubçš„src/deploy/kubernetes-dashboard.yamlä¸‹è½½ã€‚
æˆ‘ä»¬èƒ½çœ‹ä¸‹è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼š
# Copyright 2015 Google Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the &amp;quot;License&amp;quot;); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an &amp;quot;AS IS&amp;quot; BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</description>
    </item>
    
    <item>
      <title>å®¹å™¨æŠ€æœ¯åœ¨å¤§æ•°æ®åœºæ™¯ä¸‹çš„åº”ç”¨â€”â€”Yarn on Docker</title>
      <link>http://rootsongjc.github.io/projects/yarn-on-docker/</link>
      <pubDate>Tue, 04 Apr 2017 00:19:04 +0800</pubDate>
      
      <guid>http://rootsongjc.github.io/projects/yarn-on-docker/</guid>
      <description>ä½œè€…ï¼šå®‹å‡€è¶… TalkingDataäº‘è®¡ç®—åŠå¤§æ•°æ®å·¥ç¨‹å¸ˆ
å‰è¨€ æˆ‘å·²å°±è¯¥è¯é¢˜å·²åœ¨2016å¹´ä¸Šæµ·Qconä¸Šå‘è¡¨è¿‡æ¼”è®²ï¼Œç‚¹æ­¤è§‚çœ‹ã€‚
å¦å¤–InfoQç½‘ç«™ä¸Šçš„æ–‡å­—ç‰ˆæ•°æ®ä¸­å¿ƒçš„Yarn on Dockeré›†ç¾¤æ–¹æ¡ˆï¼Œå³æœ¬æ–‡ã€‚
é¡¹ç›®ä»£ç å¼€æºåœ¨Githubä¸Šï¼šMagpie
å½“å‰æ•°æ®ä¸­å¿ƒå­˜åœ¨çš„é—®é¢˜ æ•°æ®ä¸­å¿ƒä¸­çš„åº”ç”¨ä¸€èˆ¬ç‹¬ç«‹éƒ¨ç½²ï¼Œä¸ºäº†ä¿è¯ç¯å¢ƒéš”ç¦»ä¸æ–¹ä¾¿ç®¡ç†ï¼Œä¿è¯åº”ç”¨æœ€å¤§èµ„æºÂ æ•°æ®ä¸­å¿ƒä¸­æ™®éå­˜åœ¨å¦‚ä¸‹é—®é¢˜ï¼š
1.ä¸»æœºèµ„æºåˆ©ç”¨ç‡ä½
2.éƒ¨ç½²å’Œæ‰©å±•å¤æ‚
3.èµ„æºéš”ç¦»æ— æ³•åŠ¨æ€è°ƒæ•´
4.æ— æ³•å¿«é€Ÿå“åº”ä¸šåŠ¡
ä¸ºä½•ä½¿ç”¨Yarnon Docker
å½»åº•éš”ç¦»é˜Ÿåˆ—Â 
â€¢Â ä¸ºäº†åˆç†åˆ©ç”¨Hadoopyarnçš„èµ„æºï¼Œé˜Ÿåˆ—é—´ä¼šäº’ç›¸æŠ¢å è®¡ç®—èµ„æºï¼Œé€ æˆé‡è¦ä»»åŠ¡é˜»å¡
â€¢Â æ ¹æ®éƒ¨é—¨ç”³è¯·çš„æœºå™¨æ•°é‡åˆ’åˆ†Yarné›†ç¾¤æ–¹ä¾¿è´¢åŠ¡ç®¡ç†
â€¢Â æ›´ç»†ç²’åº¦çš„èµ„æºåˆ†é…Â ç»Ÿä¸€çš„èµ„æºåˆ†é…
â€¢Â æ¯ä¸ªNodeManagerå’Œå®¹å™¨éƒ½å¯ä»¥é™å®šCPUã€å†…å­˜èµ„æº
â€¢Â Yarnèµ„æºåˆ’åˆ†ç²¾ç¡®åˆ°CPUæ ¸æ•°å’Œå†…å­˜å¤§å°Â å¼¹æ€§ä¼¸ç¼©æ€§æœåŠ¡
â€¢Â æ¯ä¸ªå®¹å™¨ä¸­è¿è¡Œä¸€ä¸ªNodeManagerï¼Œå¢å‡yarnèµ„æºåªéœ€å¢å‡å®¹å™¨ä¸ªæ•°
â€¢Â å¯ä»¥æŒ‡å®šæ¯ä¸ªNodeManageræ‹¥æœ‰çš„è®¡ç®—èµ„æºå¤šå°‘ï¼ŒæŒ‰éœ€ç”³è¯·èµ„æºÂ ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆå¥½å¤„ï¼ŸÂ  Swarmç»Ÿä¸€é›†ç¾¤èµ„æºè°ƒåº¦
Â â€¢Â ç»Ÿä¸€èµ„æº
â€¢Â å¢åŠ Dockerè™šæ‹ŸåŒ–å±‚ï¼Œé™ä½è¿ç»´æˆæœ¬
å¢åŠ Hadoopé›†ç¾¤èµ„æºåˆ©ç”¨ç‡
â€¢Â Fordatacenterï¼šé¿å…äº†é™æ€èµ„æºéš”ç¦»
â€¢Â Forclusterï¼šåŠ å¼ºé›†ç¾¤å†…éƒ¨èµ„æºéš”ç¦»
Â ç³»ç»Ÿæ¶æ„ Â æ¯”å¦‚æ•°æ®ä¸­å¿ƒä¸­è¿è¡Œçš„Hadoopé›†ç¾¤ï¼Œæˆ‘ä»¬å°†HDFSä¾ç„¶è¿è¡Œåœ¨ç‰©ç†æœºä¸Šï¼Œå³DataNodeä¾ç„¶éƒ¨ç½²åœ¨å®ä½“æœºå™¨ä¸Šï¼Œå°†Yarnè®¡ç®—å±‚è¿è¡Œåœ¨Dockerå®¹å™¨ä¸­ï¼Œæ•´ä¸ªç³»ç»Ÿä½¿ç”¨äºŒå±‚èµ„æºè°ƒåº¦ï¼ŒSparkã€Flinekã€MapReduceç­‰åº”ç”¨è¿è¡Œåœ¨Yarnä¸Šã€‚
Â Â Swarmè°ƒåº¦æœ€åº•å±‚çš„ä¸»æœºç¡¬ä»¶èµ„æºï¼ŒCPUå’Œå†…å­˜å°è£…ä¸ºDockerå®¹å™¨ï¼Œå®¹å™¨ä¸­è¿è¡ŒNodeManagerï¼Œæä¾›ç»™Yarné›†ç¾¤ï¼Œä¸€ä¸ªSwarmé›†ç¾¤ä¸­å¯ä»¥è¿è¡Œå¤šä¸ªYarné›†ç¾¤ï¼Œå½¢æˆåœˆåœ°å¼çš„Yarnè®¡ç®—é›†ç¾¤ã€‚
å…·ä½“æµç¨‹
1.swarm nodeå‘swarm masteræ³¨å†Œä¸»æœºèµ„æºå¹¶åŠ å…¥åˆ°swarmclusterä¸­
2.swarm masterå‘clusterç”³è¯·èµ„æºè¯·æ±‚å¯åŠ¨å®¹å™¨
3.swarmæ ¹æ®è°ƒåº¦ç­–ç•¥é€‰æ‹©åœ¨æŸä¸ªnodeä¸Šå¯åŠ¨dockercontainer
4.swarm nodeçš„docker deamonæ ¹æ®å®¹å™¨å¯åŠ¨å‚æ•°å¯åŠ¨ç›¸åº”èµ„æºå¤§å°çš„NodeManager
5.NodeManagerè‡ªåŠ¨å‘YARNçš„ResourceManageræ³¨å†Œèµ„æºä¸€ä¸ªNodeManagerèµ„æºæ·»åŠ å®Œæˆã€‚
Â Swarmä¸ºæ•°æ®ä¸­å¿ƒåšå®¹å™¨å³ä¸»æœºèµ„æºè°ƒåº¦ï¼Œæ¯ä¸ªswarmnodeçš„èŠ‚ç‚¹ç»“æ„å¦‚å›¾ï¼š
ä¸€ä¸ªSwarmnodeå°±æ˜¯ä¸€å°ç‰©ç†æœºï¼Œæ¯å°ä¸»æœºä¸Šå¯ä»¥èµ·å¤šä¸ªåŒç±»å‹çš„dockercontainerï¼Œæ¯ä¸ªcontainerçš„èµ„æºéƒ½æœ‰é™åˆ¶åŒ…æ‹¬CPUã€å†…å­˜NodeManagerå®¹å™¨åªéœ€è¦è€ƒè™‘æœ¬èº«è¿›ç¨‹å ç”¨çš„èµ„æºå’Œéœ€è¦ç»™ä¸»æœºé¢„ç•™èµ„æºã€‚å‡å¦‚ä¸»æœºæ˜¯24æ ¸64Gï¼Œæˆ‘ä»¬å¯ä»¥åˆ†ç»™ä¸€ä¸ªå®¹å™¨5æ ¸12Gï¼ŒNodeManagerå ç”¨4æ ¸10Gçš„èµ„æºæä¾›ç»™Yarnã€‚</description>
    </item>
    
    <item>
      <title>KubernetesåŸºäºflannelçš„ç½‘ç»œé…ç½®</title>
      <link>http://rootsongjc.github.io/blogs/kubernetes-network-config/</link>
      <pubDate>Fri, 31 Mar 2017 11:05:18 +0800</pubDate>
      
      <guid>http://rootsongjc.github.io/blogs/kubernetes-network-config/</guid>
      <description>ï¼ˆé¢˜å›¾ï¼šè¥¿å®‰é¼“æ¥¼ Oct 4,2014ï¼‰
ä¹¦æ¥ä¸Šæ–‡åœ¨CentOSä¸­å®‰è£…Kubernetesè¯¦ç»†æŒ‡å—ï¼Œè¿™æ˜¯ä¸€ä¸ªç³»åˆ—æ–‡ç« ï¼Œä½œä¸ºå­¦ä¹ Kubernetesçš„å¿ƒè·¯å†ç¨‹å§ã€‚
æœ¬æ–‡ä¸»è¦è®²è§£Kubernetesçš„ç½‘ç»œé…ç½®ï¼ŒğŸ‘†æ–‡ä¸­æœ‰ä¸€ä¸ªå®‰è£…Flannelçš„æ­¥éª¤ï¼Œä½†æ˜¯å®‰è£…å¥½åå¹¶æ²¡æœ‰ç›¸åº”çš„é…ç½®è¯´æ˜ã€‚
é…ç½®flannel æˆ‘ä»¬ç›´æ¥ä½¿ç”¨çš„yumå®‰è£…çš„flannleï¼Œå®‰è£…å¥½åä¼šç”Ÿæˆ/usr/lib/systemd/system/flanneld.serviceé…ç½®æ–‡ä»¶ã€‚
[Unit] Description=Flanneld overlay address etcd agent After=network.target After=network-online.target Wants=network-online.target After=etcd.service Before=docker.service [Service] Type=notify EnvironmentFile=/etc/sysconfig/flanneld EnvironmentFile=-/etc/sysconfig/docker-network ExecStart=/usr/bin/flanneld-start $FLANNEL_OPTIONS ExecStartPost=/usr/libexec/flannel/mk-docker-opts.sh -k DOCKER_NETWORK_OPTIONS -d /run/flannel/docker Restart=on-failure [Install] WantedBy=multi-user.target RequiredBy=docker.service  å¯ä»¥çœ‹åˆ°flannelç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶åœ¨/etc/sysconfig/flanneldã€‚
# Flanneld configuration options # etcd url location. Point this to the server where etcd runs FLANNEL_ETCD_ENDPOINTS=&amp;quot;http://sz-pg-oam-docker-test-001.tendcloud.com:2379&amp;quot; # etcd config key. This is the configuration key that flannel queries # For address range assignment FLANNEL_ETCD_PREFIX=&amp;quot;/kube-centos/network&amp;quot; # Any additional options that you want to pass #FLANNEL_OPTIONS=&amp;quot;&amp;quot;   etcdçš„åœ°å€FLANNEL_ETCD_ENDPOINT etcdæŸ¥è¯¢çš„ç›®å½•ï¼ŒåŒ…å«dockerçš„IPåœ°å€æ®µé…ç½®ã€‚FLANNEL_ETCD_PREFIX  åœ¨etcdä¸­åˆ›å»ºç½‘ç»œé…ç½®</description>
    </item>
    
    <item>
      <title>åœ¨CentOSä¸Šå®‰è£…kubernetesè¯¦ç»†æŒ‡å—</title>
      <link>http://rootsongjc.github.io/blogs/kubernetes-installation-on-centos/</link>
      <pubDate>Thu, 30 Mar 2017 20:44:20 +0800</pubDate>
      
      <guid>http://rootsongjc.github.io/blogs/kubernetes-installation-on-centos/</guid>
      <description>ï¼ˆé¢˜å›¾ï¼šåŒ—äº¬åœ†æ˜å›­ Aug 25,2014ï¼‰
ä½œè€…ï¼šJimmy Songï¼ŒPeter Maï¼Œ2017å¹´3æœˆ30æ—¥
æœ€è¿‘å†³å®šä»Docker Swarm ModeæŠ•å…¥åˆ°Kubernetesçš„æ€€æŠ±ï¼Œå¯¹Dockerçš„æˆ˜ç•¥å’Œä¼ä¸šåŒ–å‘å±•å‰æ™¯æ¯”è¾ƒå ªå¿§ï¼Œè€ŒKubernetesæ˜¯CNCFçš„æˆå‘˜ä¹‹ä¸€ã€‚
è¿™ç¯‡æ˜¯æ ¹æ®å®˜æ–¹å®‰è£…æ–‡æ¡£å®è·µæ•´ç†çš„ï¼Œæ“ä½œç³»ç»Ÿæ˜¯çº¯å‡€çš„CentOS7.2ã€‚
å¦å¤–è¿˜æœ‰ä¸€ä¸ªPeter Maå†™çš„åœ¨CentOSä¸Šæ‰‹åŠ¨å®‰è£…kubernetesçš„æ–‡æ¡£å¯ä»¥å‚è€ƒã€‚
è§’è‰²åˆ†é…
ä¸‹é¢ä»¥åœ¨ä¸‰å°ä¸»æœºä¸Šå®‰è£…Kubernetesä¸ºä¾‹ã€‚
172.20.0.113 master/node kube-apiserver kube-controller-manager kube-scheduler kubelet kube-proxy etcd flannel 172.20.0.114 node kubectl kube-proxy flannel 172.20.0.115 node kubectl kube-proxy flannel  ç¬¬ä¸€å°ä¸»æœºæ—¢ä½œä¸ºmasterä¹Ÿä½œä¸ºnodeã€‚
ç³»ç»Ÿç¯å¢ƒ
 Centos 7.2.1511 docker 1.12.6 etcd 3.1.5 kubernetes 1.6.0 flannel 0.7.0-1  å®‰è£… ä¸‹é¢ç»™å‡ºä¸¤ç§å®‰è£…æ–¹å¼ï¼š
 é…ç½®yumæºåï¼Œä½¿ç”¨yumå®‰è£…ï¼Œå¥½å¤„æ˜¯ç®€å•ï¼Œåå¤„ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œéœ€è¦googleæ›´æ–°yumæºæ‰èƒ½è·å¾—æœ€æ–°ç‰ˆæœ¬çš„è½¯ä»¶ï¼Œè€Œæ‰€æœ‰è½¯ä»¶çš„ä¾èµ–åˆä¸èƒ½è‡ªå·±æŒ‡å®šï¼Œå°¤å…¶æ˜¯ä½ çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬å¦‚æœä½çš„è¯ï¼Œä½¿ç”¨yumæºå®‰è£…çš„kubernetesçš„ç‰ˆæœ¬ä¹Ÿä¼šå—åˆ°é™åˆ¶ã€‚ ä½¿ç”¨äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…ï¼Œå¥½å¤„æ˜¯å¯ä»¥å®‰è£…ä»»æ„ç‰ˆæœ¬çš„kubernetesï¼Œåå¤„æ˜¯é…ç½®æ¯”è¾ƒå¤æ‚ã€‚  æˆ‘ä»¬æœ€ç»ˆé€‰æ‹©ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼å®‰è£…ã€‚
æœ¬æ–‡çš„å¾ˆå¤šå®‰è£…æ­¥éª¤å’Œå‘½ä»¤æ˜¯å‚è€ƒçš„Kuberneteså®˜ç½‘CentOS Manual Configæ–‡æ¡£ã€‚
ç¬¬ä¸€ç§æ–¹å¼ï¼šCentOSç³»ç»Ÿä¸­ç›´æ¥ä½¿ç”¨yumå®‰è£… ç»™yumæºå¢åŠ ä¸€ä¸ªRepo
[virt7-docker-common-release] name=virt7-docker-common-release baseurl=http://cbs.centos.org/repos/virt7-docker-common-release/x86_64/os/ gpgcheck=0  å®‰è£…dockerã€kubernetesã€etcdã€flannelä¸€æ­¥åˆ°ä½
yum -y install --enablerepo=virt7-docker-common-release kubernetes etcd flannel  å®‰è£…å¥½äº†ä¹‹åéœ€è¦ä¿®æ”¹ä¸€ç³»åˆ—é…ç½®æ–‡ä»¶ã€‚</description>
    </item>
    
  </channel>
</rss>