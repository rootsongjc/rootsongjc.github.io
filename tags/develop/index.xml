<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Develop on Jimmy Song&#39;s Blog</title>
    <link>http://rootsongjc.github.io/tags/develop/</link>
    <description>Recent content in Develop on Jimmy Song&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 15 Mar 2017 13:57:26 +0800</lastBuildDate>
    
	<atom:link href="http://rootsongjc.github.io/tags/develop/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Docker17.03-CEæ’ä»¶å¼€å‘-ä¸¾ä¸ªğŸŒ°</title>
      <link>http://rootsongjc.github.io/blogs/docker-plugin-develop/</link>
      <pubDate>Wed, 15 Mar 2017 13:57:26 +0800</pubDate>
      
      <guid>http://rootsongjc.github.io/blogs/docker-plugin-develop/</guid>
      <description>ï¼ˆé¢˜å›¾ï¼šæ­å·å´å±±æ­¥é“æ—çš„å¢™å£ Oct 16,2016ï¼‰
 å½“ä½ çœ‹åˆ°è¿™ç¯‡æ–‡ç« æ—¶ï¼Œå¦‚æœä½ ä¹Ÿæ­£åœ¨è¿›è¡Œdocker1.13+ç‰ˆæœ¬ä¸‹çš„pluginå¼€å‘ï¼Œæ­å–œä½ ä¹Ÿå…¥å‘äº†ï¼Œå¦‚æœä½ è¶Ÿå‡ºå‘ï¼Œéº»çƒ¦å‘Šè¯‰ä½ çš„æ–¹æ³•ï¼Œæ„Ÿæ©ä¸å°½ğŸ™
 çœ‹äº†æ–‡ç« åä½ å¯èƒ½ä¼šè§‰å¾—ï¼Œå®˜ç½‘ä¸Šçš„å¯èƒ½æ˜¯ä¸ªå‡ğŸŒ°ã€‚è™½ç„¶å®˜ç½‘ä¸Šçš„æ–‡æ¡£å†™çš„æœ‰ç‚¹ä¸å¯¹ï¼Œä¸è¿‡ä½ ä½¿ç”¨docker-ssh-volumeçš„å¼€æºä»£ç è‡ªå·±å»æ„å»ºpluginçš„è¿˜æ˜¯å¯ä»¥æˆåŠŸçš„ï¼
Docker pluginå¼€å‘æ–‡æ¡£ é¦–å…ˆdockerå®˜æ–¹ç»™å‡ºäº†ä¸€ä¸ªdocker legacy pluginæ–‡æ¡£ï¼Œè¿™ç¯‡æ–‡ç« åŸºæœ¬å°±æ˜¯å‘Šè¯‰ä½ dockerç›®å‰æ”¯æŒå“ªäº›æ’ä»¶ï¼Œç½—åˆ—äº†ä¸€ç³»åˆ—è¿æ¥ï¼Œä¸è¿‡å¯¹ä¸èµ·ï¼Œè¿™äº›ä¸æ˜¯dockerå®˜æ–¹æ’ä»¶ï¼Œæœ‰é—®é¢˜å»æ‰¾å®ƒä»¬çš„å¼€å‘è€…å»å§ğŸ˜‚
Docker pluginè²Œä¼¼å¼€å§‹ä½¿ç”¨äº†æ–°çš„v2 pluginäº†ï¼Œlegacyç‰ˆæœ¬çš„pluginå¯ä»¥èƒ½åœ¨åæœŸè¢«åºŸå¼ƒã€‚
ä»dockerçš„æºç plugin/store.goä¸­å¯ä»¥çœ‹åˆ°ï¼š
/* allowV1PluginsFallback determines daemon&#39;s support for V1 plugins. * When the time comes to remove support for V1 plugins, flipping * this bool is all that will be needed. */ const allowV1PluginsFallback bool = true /* defaultAPIVersion is the version of the plugin API for volume, network, IPAM and authz. This is a very stable API.</description>
    </item>
    
    <item>
      <title>Docker 17.03-CE create pluginæºç è§£æ</title>
      <link>http://rootsongjc.github.io/blogs/docker-create-plugin/</link>
      <pubDate>Wed, 15 Mar 2017 12:09:26 +0800</pubDate>
      
      <guid>http://rootsongjc.github.io/blogs/docker-create-plugin/</guid>
      <description>ï¼ˆé¢˜å›¾ï¼šæ•…å®« Apr 3,2016ï¼‰
ç»§ç»­ä¸Šä¸€ç¯‡Docker17.03-CEæ’ä»¶å¼€å‘çš„ğŸŒ°ï¼Œä»Šå¤©æ¥çœ‹ä¸‹docker create pluginçš„æºç ã€‚
cli/command/plugin/create.go
Dockerå‘½ä»¤è¡Œdocker plugin createè°ƒç”¨çš„ï¼Œä½¿ç”¨çš„æ˜¯cobraï¼Œè¿™ä¸ªå‘½ä»¤è¡Œå·¥å…·å¼€å‘åŒ…å¾ˆå¥½ç”¨ï¼Œæ¨èä¸‹ã€‚
æ‰§è¡Œè¿™ä¸¤ä¸ªå‡½æ•°
func newCreateCommand(dockerCli *command.DockerCli) *cobra.Command //è°ƒç”¨ä¸‹é¢çš„å‡½æ•°ï¼Œæ‹¼è£…æˆURLè°ƒç”¨RESTful APIæ¥å£ func runCreate(dockerCli *command.DockerCli, options pluginCreateOptions) error { ... if err = dockerCli.Client().PluginCreate(ctx, createCtx, createOptions); err != nil { return err } ... }  åœ¨api/server/router/plugin/plugin_routes.goä¸­
func (pr *pluginRouter) createPlugin(ctx context.Context, w http.ResponseWriter, r *http.Request, vars map[string]string) error { ... if err := pr.backend.CreateFromContext(ctx, r.Body, options); err != nil { return err } ... }  createPluginè¿™ä¸ªæ–¹æ³•å®šä¹‰åœ¨api/server/route/plugin/backen.</description>
    </item>
    
  </channel>
</rss>