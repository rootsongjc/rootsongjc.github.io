<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  
  <title>Blog - Jimmy Song</title>
  

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <meta name="description" content="Jimmy Song&#39;s Blog Posts">
  <meta name="author" content="Jimmy Song">
  <meta name="generator" content="Hugo 0.136.0">

  <!-- CSS plugins -->
  
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
  
  <link rel="preload" href="/css/combined.7ac6b2864cb09c5595ac8ca79f8ca0db6c69a657edac885ba2c2412080d68da0.css" as="style">
  <link rel="stylesheet" href="/css/combined.7ac6b2864cb09c5595ac8ca79f8ca0db6c69a657edac885ba2c2412080d68da0.css" media="screen">
  

  <!-- Main Stylesheet -->
  
  <link rel="preload" href="/scss/style.min.f6911c0ac7d2b5b69c3f2d9f2a2b3b496b5da0608580347fdb4dc11ef74f3ec5.css" as="style">
  <link rel="stylesheet" href="/scss/style.min.f6911c0ac7d2b5b69c3f2d9f2a2b3b496b5da0608580347fdb4dc11ef74f3ec5.css" media="screen">

  <!-- Bigger picture css -->
  
  <link rel="stylesheet" href="/plugins/bigger-picture/bigger-picture.min.css" media="print" onload="this.media='all'">
  <!--Favicon generate by https://realfavicongenerator.net-->
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="200x200" href="/images/favicon.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">

  <link href='/opensearchdescription.xml' rel='search' title='Content search' type='application/opensearchdescription+xml'/>

  <!--Twitter card-->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="jimmysong.io" />
  <meta name="twitter:creator" content="@jimmysongio" />
  <meta property="og:url" content="https://jimmysong.io/en/blog/" />
  <meta property="og:title" content="Blog | Jimmy Song" />
  <meta property="twitter:title" content="Blog | Jimmy Song" />

  
  <meta property="og:description" content="Jimmy Song&#39;s Blog Posts" />
  <meta property="twitter:description" content="Jimmy Song&#39;s Blog Posts" />

  
  <meta property="og:image" content="https://jimmysong.io/images/banner/default.jpg" />
  <meta property="twitter:image" content="https://jimmysong.io/images/banner/default.jpg" />

  
  
</head>
<body>
<header class="fixed-top header">
  
  
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></button>
  
  <div class="navigation w-100 ">
    <div class="container-xl">
      <nav class="navbar navbar-expand-lg navbar-light p-0">
        <a class="navbar-brand" href="/en">
            
            <b>JIMMY SONG</b>
            
        </a>
        <button class="navbar-toggler rounded-0" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
          <ul class="navbar-nav ml-auto">
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/blog">Blog</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/tags">Tags</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/notice">Notice</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/contact">Contact</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/about">About</a>
              
            </li>
            
            

          
          
          <li class="nav-item">
            
            
            
              
              
                
                
                
                  
                    
                    
                  
                
              
              
              
                
                  
                    
                    <a class="nav-link" href="/trans/">中文</a>
                    
                  
                
                
                
              
          </li>
          
          
          <!-- search -->
           <button type="button" class="search-btn js-search" id="searchOpen" aria-label="Search">
              <div class="search-container d-flex justify-content-center">
              <span class="search-content">
                  <i class="fa fa-search"></i>
                  <span>Search</span>
              </span>
              <span class="search-shortcuts d-none d-sm-block">
                  <kbd class="cmd-key">⌘</kbd>
                  <kbd class="k-key">K</kbd>
              </span>
              </div>
          </button>
          
          </ul>
        </div>
      </nav>
    </div>
  </div>
</header>


            <aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between">
        <div class="col-6 search-title">
          <p>Search</p> 
        </div>
        <div class="col-6 col-search-close">
          <div class="js-search" aria-label="Close"><i class="fa-solid fa-circle-xmark text-muted" aria-hidden="true"></i></div>
        </div>
      </div>

      <div id="search-box">
        <i class="fa-solid fa-magnifying-glass" id="search-icon" aria-hidden="true"></i>
        <input name="q" id="search-query" placeholder="Input the keyword" autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control" aria-label="Input the keyword">
        
        <div class="mt-4">
          <span>Search type: </span>
          <span>
            <input type="radio" id="all" name="search_type" value="all" checked>
            <label for="all">All</label>
            
              <input type="radio" id="blog" name="search_type" value="blog">
              <label for="blog">Blog</label>
            
            <input type="radio" id="book" name="search_type" value="book">
            <label for="book">Book</label>
            <input type="radio" id="notice" name="search_type" value="notice">
            <label for="notice">Notice</label>
          </span>
        </div>
      </div>
      
    </section>
    <section class="section-search-results">
      <div id="search-results-count" class="search-results-count"></div>
      <div id="search-hits">
        
      </div>
    </section>
  </div>
</aside>

        
        
            

<section class="bg-cover page-title-section overlay" style="background-image: url('/images/backgrounds/circle.svg'),url('/images/backgrounds/page-title.webp');background-size: cover;">
    <div class="container-xl">
        <div class="row">
            <div class="col-12">
                <p class="h1">
                    Blog
                </p>
                <p class="page-description">
                    Jimmy Song&rsquo;s Blog Posts
                </p>
                
            </div>
        </div>
    </div>
</section>

        


<section class="section-sm book-list-section bg-gray">
  <div class="container-xl">
    <div class="row">
      <div class="col-lg-8 order-2 order-lg-1">
        <div class="row">
          
          
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/en/blog/xinjiang-ili-trip/">Dragon Boat Festival Road Trip in Xinjiang: Experiencing Majestic Landscapes</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               Jun 10, 2024</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/en/categories/essays"> 
             Essays
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('Dragon Boat Festival Road Trip in Xinjiang: Experiencing Majestic Landscapes', 'A Dragon Boat Festival road trip through Ili, Xinjiang, exploring majestic landscapes and local delicacies, capturing unforgettable moments.', '\nThree years ago, I traveled around northern Xinjiang with Addo in a camper van, an unforgettable journey especially for the Ili Valley. This Dragon Boat Festival, I decided to return to Ili for a road trip.\n\nAfter meticulous planning, I set off from Beijing, transferred at Urumqi, and arrived in the beautiful Yining. Here, we rented a car and embarked on a one-week, 1344-kilometer road trip.\n\n## Aerial Video\n\nIn this video, you will see stunning aerial footage from my journey. From vast grasslands to clear lakes, from towering mountains to winding roads, these beautiful landscapes are perfectly captured in the video.\n\n\u0060{{\u003c responsive_video src=\u0022\/\/player.bilibili.com\/player.html?isOutside=true\u0026aid=1205635099\u0026bvid=BV16f421D7Qs\u0026cid=1576995666\u0026p=1\u0022 \u003e}}\u0060\n\n## Kazanqi in Yining\n\nOur first stop was Kazanqi Folk Village in Yining, a town full of ethnic charm. The streets are lined with unique traditional houses, colorful walls, and blue doors, like a fairy tale world. The village exudes a strong sense of life, with locals going about their daily activities.\n\n![Kazanqi in Yining](kazanqi.jpg)\n\n## Ili River\n\nFrom Kazanqi, we headed to the Ili River. The river’s clear water and lush greenery on both banks are mesmerizing. We watched a breathtaking sunset at the Ili Wetland Park, immersed in nature’s beauty.\n\n![Ili River](ili-river.jpg)\n\n## Kalajun\n\nOur third stop was Kalajun Grassland. The vast grasslands, with herds of cattle and sheep, and the distant snow-capped mountains under the blue sky, create a stunning natural painting. At an average altitude of over 2000 meters, the air is exceptionally fresh. Camping here, I experienced the tranquility of nature after a night of rain, with the golden sunrise illuminating the mountains.\n\n![Kalajun Grassland](kalajun.jpg)\n\n## Qiongkushitai\n\nNext, we arrived at Qiongkushitai, an original Kazakh village. Despite some commercialization, it retains its primitive charm. Newly opened homestays and restaurants attract many visitors. We rode horses to the back mountains, enjoying the purest natural beauty, especially at sunset, with rolling grasslands and distant snow-capped mountains creating a picturesque scene.\n\n![Qiongkushitai](qiongkushitai.jpg)\n\n## Xiata Ancient Trail\n\nXiata Ancient Trail was a significant part of our journey. This ancient trail was once part of the Silk Road, with spectacular mountain gorge scenery along the way. Though the scenic area was not yet open, we used a drone to capture the glacier valleys.\n\n![Xiata Ancient Trail](xiata.jpg)\n\n## Yizhao Highway\n\nYizhao Highway is known as one of the most beautiful roads in Xinjiang. The scenery changes from mountains to grasslands, from forests to lakes, each view captivating. Driving along the cliffs, I couldn\u0027t help but admire the efforts of the road builders.\n\n![Yizhao Highway](yizhao-highway.jpg)\n\n## Sayram Lake\n\nOur final stop was Sayram Lake, located in the Bortala Mongol Autonomous Prefecture. The lake\u0027s clear water, as blue as Prussian blue, is surrounded by snow-capped mountains and grasslands, creating a poetic landscape. We strolled along the lake, spent the night on the west bank, and felt the serenity and grandeur of this place known as \u0022the last tear of the Atlantic.\u0022\n\n![Sayram Lake](sayram-lake.jpg)\n\nThis road trip not only allowed me to experience the magnificent natural scenery but also the unique ethnic culture of the region. I captured the beauty of the journey with aerial footage and created a video to share with everyone.\n\n## Local Delicacies\n\nIli\u0027s scenic beauty is matched by its delicious food. The tender roasted meat on red willow skewers, spicy and flavorful chili meat (a local breakfast paired with steamed buns), the numbing and spicy pepper chicken, and the fragrant fried rice with mountain salmon roe from Sayram Lake, all left a lasting impression.\n\n![Clockwise from top left: fried rice with mountain salmon roe, roasted meat on red willow skewers, chili meat, pepper chicken](food.jpg)\n\nXinjiang\u0027s dried fruits, cheese, and beef jerky also make great souvenirs.\n\n## Conclusion\n\nThis journey will be a memorable chapter in my life. The beauty and charm of Xinjiang Ili have deeply captivated me. If given the chance, I will surely return to explore more unexplored landscapes.\n\nI hope this travelogue brings you some beautiful memories of Xinjiang Ili. If you have the opportunity to travel to Xinjiang, don\u0027t miss these stunning spots.\n', '\/en\/blog\/xinjiang-ili-trip\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">A Dragon Boat Festival road trip through Ili, Xinjiang, exploring majestic landscapes and local delicacies, capturing unforgettable moments.</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/en/blog/hugo-instant-search-guide/">How to Add Instant Search to Your Hugo Website</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               May 31, 2024</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/en/categories/open-source"> 
             Open Source
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('How to Add Instant Search to Your Hugo Website', 'This article introduces how to add instant search functionality to a Hugo website, and outlines ways to optimize it.', '\nI recently implemented instant search using Fuse and the entire site\u0027s structured data (only 2MB after compression) exported from Hugo, and also set up a quick search URL at https:\/\/jimmysong.io\/search\/?q=keyword, customizing the result display page. This showcases the power of open source, allowing for personal customization anywhere.\n\n![Search results display page](search.webp)\n\n## Overview\n\nBelow, I will share how to add instant search functionality to your Hugo website. The main steps are as follows:\n\n1. Export structured data from the Hugo site\n2. Build search JavaScript code using the Fuse library\n3. Add a frontend search template\n4. Automate the update of website structured data\n5. Further optimization\n\n{{\u003ccallout note Tip\u003e}}\n\nReaders can refer to the search implementation in the [hugo-blox-builder](https:\/\/github.com\/HugoBlox\/hugo-blox-builder) project, here is some reference code:\n\n- Frontend code: [search.html](https:\/\/github.com\/HugoBlox\/hugo-blox-builder\/blob\/8d25fbed122c2c57d994ebd78d232e1b51683c7d\/modules\/blox-bootstrap\/layouts\/partials\/search.html)\n- Search implementation: [wowchemy-search.js](https:\/\/github.com\/HugoBlox\/hugo-blox-builder\/blob\/main\/modules\/blox-bootstrap\/assets\/js\/wowchemy-search.js)\n- Styles: [_search.scss](https:\/\/github.com\/HugoBlox\/hugo-blox-builder\/blob\/main\/modules\/blox-bootstrap\/assets\/scss\/wowchemy\/layouts\/_search.scss)\n\n{{\u003c\/callout\u003e}}\n\n## 1. Export Hugo Website\u0027s Structured Data\n\nFirst, you need to create a JSON file for your Hugo site, which will contain essential metadata of all pages such as titles, descriptions, and links. This can be achieved by adding a custom output format in your Hugo configuration file (usually \u0060config.toml\u0060 or \u0060config.yaml\u0060):\n\n\u0060\u0060\u0060toml\n[outputs]\nhome = [\u0022HTML\u0022, \u0022RSS\u0022, \u0022JSON\u0022]\n\n[outputFormats.JSON]\nmediaType = \u0022application\/json\u0022\nbaseName = \u0022index\u0022\nisPlainText = false\n\u0060\u0060\u0060\n\nThen, in your content template (like \u0060layouts\/_default\/list.json.json\u0060), define the JSON structure to be output:\n\n\u0060\u0060\u0060json\n{\n  \u0022data\u0022: [\n    {{ range .Pages }}\n    {\n      \u0022title\u0022: \u0022{{ .Title }}\u0022,\n      \u0022url\u0022: \u0022{{ .Permalink }}\u0022,\n      \u0022summary\u0022: \u0022{{ .Summary }}\u0022\n    }\n    {{ if not (eq .Next nil) }},{{ end }}\n    {{ end }}\n  ]\n}\n\u0060\u0060\u0060\n\nThis will generate an \u0060index.json\u0060 file for your entire site, containing the basic information of all pages. Of course, you may not want to export all pages of your site; you can customize the export of specific sections or different types of pages using Hugo\u0027s syntax.\n\n## 2. Build Search JavaScript Code Using Fuse Library\n\nNext, use the [Fuse.js](https:\/\/fusejs.io\/) library to implement the front-end instant search functionality. First, include the Fuse.js library file in your website. You can load it from a CDN like [jsDelivr](https:\/\/www.jsdelivr.com\/package\/npm\/fuse.js):\n\n\u0060\u0060\u0060html\n\u003cscript src=\u0022https:\/\/cdn.jsdelivr.net\/npm\/fuse.js\/dist\/fuse.min.js\u0022\u003e\u003c\/script\u003e\n\u0060\u0060\u0060\n\nThen, in your JavaScript file, load and parse the \u0060index.json\u0060 file and perform the search using Fuse.js:\n\n\u0060\u0060\u0060javascript\nfetch(\u0027\/index.json\u0027)\n  .then(response =\u003e response.json())\n  .then(data =\u003e {\n    const fuse = new Fuse(data.data, {\n      keys: [\u0027title\u0027, \u0027summary\u0027],\n      includeScore: true\n    });\n\n    document.getElementById(\u0027search-input\u0027).addEventListener(\u0027input\u0027, function (e) {\n      const results = fuse.search(e.target.value);\n      displayResults(results);\n    });\n  });\n\nfunction displayResults(results) {\n  const searchResults = document.getElementById(\u0027search-results\u0027);\n  searchResults.innerHTML = \u0027\u0027;\n  results.forEach(result =\u003e {\n    const elem = document.createElement(\u0027div\u0027);\n    elem.innerHTML = \u0060\u003ca href=\u0022${result.item.url}\u0022\u003e${result.item.title}\u003c\/a\u003e\u0060;\n    searchResults.appendChild(elem);\n  });\n}\n\u0060\u0060\u0060\n\nThe specific implementation can be referenced from [wowchemy-search.js](https:\/\/github.com\/HugoBlox\/hugo-blox-builder\/blob\/main\/modules\/blox-bootstrap\/assets\/js\/wowchemy-search.js).\n\n## 3. Add Frontend Search Template\n\nAdd a search box\n\n and results display area to your website:\n\n\u0060\u0060\u0060html\n\u003cinput type=\u0022text\u0022 id=\u0022search-input\u0022 placeholder=\u0022Enter search term\u0022\u003e\n\u003cdiv id=\u0022search-results\u0022\u003e\u003c\/div\u003e\n\u0060\u0060\u0060\n\nAdditionally, you can add shortcut keys, usually \u0060⌘\/CTRL \u002b K\u0060, to quickly open the search page.\n\nThe specific implementation can be referenced from [this frontend template](https:\/\/github.com\/HugoBlox\/hugo-blox-builder\/blob\/8d25fbed122c2c57d994ebd78d232e1b51683c7d\/modules\/blox-bootstrap\/layouts\/partials\/search.html).\n\n## 4. Automate Updating Website Structured Data\n\nTo ensure real-time search results, you can automate the Hugo website\u0027s build and deployment process through GitHub Actions or other CI\/CD tools, ensuring the \u0060index.json\u0060 file is always up-to-date.\n\nCreate a \u0060.github\/workflows\/hugo_build.yml\u0060 file, defining the automation process:\n\n\u0060\u0060\u0060yaml\nname: Build and Deploy\non:\n  push:\n    branches:\n      - main\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n    - name: Checkout\n      uses: actions\/checkout@v2\n    - name: Set up Hugo\n      uses: peaceiris\/actions-hugo@v2\n      with:\n        hugo-version: \u0027latest\u0027\n    - name: Build\n      run: hugo --minify\n    - name: Deploy\n      uses: peaceiris\/actions-gh-pages@v3\n      with:\n        github_token: ${{ secrets.GITHUB_TOKEN }}\n        publish_dir: .\/public\n\u0060\u0060\u0060\n\nAdditionally, if your website supports multiple languages, you can generate \u0060index.json\u0060 files for each language and load the corresponding index file on different language pages.\n\n## 5. Further Optimization\n\n- **Cache Optimization**: Set a reasonable cache policy for the \u0060index.json\u0060 to reduce server load and improve response speed. If you are using GitHub Pages as a static site, you can ignore this step.\n- **Data Compression**: Compress your \u0060index.json\u0060 file. You can choose to export part of the website\u0027s data, such as certain sections, truncate the content, or compress the file into gz format, then decompress it on the front end after loading, reducing network data transfer.\n- **Search Result Highlighting**: Add highlighting for keywords in the search results to improve user experience.\n- **Advanced Search Options**: Allow users to filter searches by specific fields (like authors, categories).\n- **Network Optimization**: Asynchronously load the JavaScript file used for searching,\n\nBy following these steps, you can effectively add a highly efficient and customizable instant search feature to your Hugo website.\n\n## Conclusion\n\nThis article introduces how to add instant search functionality to a Hugo website, and provides suggestions for further optimizing the search feature, including cache optimization, search result highlighting, and advanced search options. This not only showcases the powerful customization capabilities of open source technology but also enables website users to find needed information faster and more accurately.', '\/en\/blog\/hugo-instant-search-guide\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">This article introduces how to add instant search functionality to a Hugo website, and outlines ways to optimize it.</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/en/blog/microservice-auth-methods/">Detailed Explanation of Common Authentication Methods in Microservices</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               May 22, 2024</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/en/categories/cloud-native"> 
             Cloud Native
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('Detailed Explanation of Common Authentication Methods in Microservices', 'This article introduces several common authentication methods in microservices, helping you choose the appropriate authentication scheme when designing and implementing microservice systems.', '\nIn modern microservice architectures, security is a crucial aspect. As the number of microservices increases, ensuring secure communication between services becomes a challenge. This article will introduce several common authentication methods in microservices, helping you choose the appropriate authentication scheme when designing and implementing microservice systems.\n\n## Common Authentication Methods in Microservices\n\nThe table below lists several common authentication methods in microservices, comparing them from the perspectives of advantages, disadvantages, applicable scenarios, and real-world examples.\n\n| Authentication Method | Advantages                    | Disadvantages                  | Deployment Location | Applicable Scenarios       | Typical Uses               | Real-World Examples                             |\n| --------------------- | ----------------------------- | ------------------------------ | ------------------- | -------------------------- | -------------------------- | ---------------------------------------------- |\n| JWT                   | Self-contained token, reduces server load | Larger token size, may increase bandwidth overhead | API Gateway, Between Services | Stateless communication between microservices | User authentication and authorization | User authentication in microservices (e.g., Auth0, Firebase) |\n| OAuth 2.0             | Widely supported, highly flexible | Complex implementation, requires additional interactions | API Gateway | Third-party application authorization | Third-party application access to user data | GitHub OAuth for third-party applications accessing GitHub data and APIs |\n| mTLS                  | High security, prevents man-in-the-middle attacks | Complex certificate management, significant performance overhead | Between Services | Communication requiring high security | Secure communication between sensitive services | Service communication in banking systems |\n| Basic Authentication  | Simple and easy to implement  | Insecure, easily intercepted  | API Gateway, Between Services | Simple API protection | Simple internal services | Basic authentication of Kubernetes API Server |\n| API Key Authentication | Simple and easy to use       | Low security, easily abused   | API Gateway, Between Services | Scenarios with low security requirements | Simple service access control | Various public APIs, such as OpenAI API       |\n\nBelow we will introduce these common authentication methods in detail.\n\n## JWT Authentication\n\nJWT (JSON Web Token) was first proposed by the IETF JSON Web Token (JWT) Working Group and was officially released as the RFC 7519 standard in 2015. The design goal of JWT is to provide a compact and self-contained way to securely transmit information between parties. Due to its ease of use and stateless nature, JWT quickly gained widespread adoption and became one of the standards for identity verification and information exchange, especially in microservices and modern web applications.\n\nThe following diagram shows the JWT authentication process.\n\n\u0060\u0060\u0060mermaid \u0022JWT Authentication Process\u0022\nsequenceDiagram\n    participant User\n    participant Client\n    participant AuthServer\n    participant ResourceServer\n\n    User -\u003e\u003e Client: Provide credentials\n    Client -\u003e\u003e AuthServer: Send credentials to request access token\n    AuthServer -\u003e\u003e Client: Return JWT token\n    Client -\u003e\u003e ResourceServer: Request protected resource (with JWT token)\n    ResourceServer -\u003e\u003e AuthServer: Validate JWT token\n    AuthServer -\u003e\u003e ResourceServer: Validation successful\n    ResourceServer -\u003e\u003e Client: Return protected resource\n\u0060\u0060\u0060\n\n![JWT Authentication Process](a990cb112a1ec1c4d6d7131c1e573e3f.svg)\n\nJWT Authentication Process Explanation:\n\n1. User provides credentials\n2. Client requests access token\n3. Authentication server returns JWT token\n4. Client requests resource server with JWT token\n5. Resource server validates JWT\n\n### JWT Format and Example\n\nA JWT (JSON Web Token) consists of three parts: Header, Payload, and Signature, each encoded with Base64 and concatenated with dots (.).\n\n1. **Header**: The header includes the type of token and the signing algorithm.\n\n   \u0060\u0060\u0060json\n   {\n     \u0022alg\u0022: \u0022HS256\u0022,\n     \u0022typ\u0022: \u0022JWT\u0022\n   }\n   \u0060\u0060\u0060\n\n2. **Payload**: The payload contains claims, which are assertions about the user or other data.\n\n   \u0060\u0060\u0060json\n   {\n     \u0022sub\u0022: \u00221234567890\u0022,\n     \u0022name\u0022: \u0022John Doe\u0022,\n     \u0022iat\u0022: 1516239022\n   }\n   \u0060\u0060\u0060\n\n3. **Signature**: The signature is generated by encoding the header and payload, and signing them with a secret using the algorithm specified in the header.\n\n   \u0060\u0060\u0060\n   HMACSHA256(\n     base64UrlEncode(header) \u002b \u0022.\u0022 \u002b\n     base64UrlEncode(payload),\n     secret\n   )\n   \u0060\u0060\u0060\n\nBelow is an example of a JWT token:\n\n\u0060\u0060\u0060\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\n\u0060\u0060\u0060\n\n## OAuth 2.0\n\nOAuth (Open Authorization) protocol was first proposed by Blaine Cook and Chris Messina in 2006. Initially, the goal was to provide an open authorization standard for Twitter. OAuth 1.0 was released in 2007, offering a standardized way for users to authorize third-party applications to access their resources. However, due to its complex signature mechanism and other security issues, it faced some limitations.\n\nTo overcome these shortcomings, the IETF (Internet Engineering Task Force) established the OAuth Working Group to develop a simpler, more flexible authorization protocol. In 2012, OAuth 2.0 was officially released (RFC 6749 and RFC 6750). OAuth 2.0 simplifies the authorization process, adding multiple authorization modes, such as authorization code mode, implicit mode, resource owner password credentials mode, and client credentials mode.\n\nOAuth 2.0 quickly became an industry standard, widely used in various web services and applications such as Google, Facebook, GitHub, etc. Several extensions and complementary protocols (such as OpenID Connect) emerged based on it, further enhancing OAuth 2.0\u0027s functionality and security.\n\nThe development and expansion of OAuth 2.0 have made it a cornerstone of modern internet authentication and authorization, providing a flexible and secure solution to meet the evolving needs of web applications.\n\nThe following diagram shows the OAuth 2.0 authentication process.\n\n\u0060\u0060\u0060mermaid \u0022OAuth 2.0 Authentication Process\u0022\nsequenceDiagram\n    participant User\n    participant Client\n    participant AuthServer\n    participant ResourceServer\n\n    User -\u003e\u003e Client: Request access to protected resource\n    Client -\u003e\u003e AuthServer: Request authentication (with client ID)\n    AuthServer -\u003e\u003e User: Request user login and authorization\n    User -\u003e\u003e AuthServer: User logs in and authorizes\n    AuthServer -\u003e\u003e Client: Return authorization code\n    Client -\u003e\u003e AuthServer: Exchange authorization code for access token\n    AuthServer -\u003e\u003e Client: Return access token\n    Client -\u003e\u003e ResourceServer: Request protected resource (with access token)\n    ResourceServer -\u003e\u003e Client: Return protected resource\n\u0060\u0060\u0060\n\n![OAuth 2.0 Authentication Process](411d77371072e128ec3bcce199df02a1.svg)\n\nOAuth 2.0 Authentication Process Explanation:\n\n1. User requests access to resource\n2. Client requests authentication\n3. User logs in and authorizes\n4. Authorization server returns authorization code\n5. Client exchanges authorization code for access token\n6. Client requests resource server with access token\n\n### OAuth 2.0 Authorization Code\n\nIn the OAuth 2.0 authorization code mode, the authorization code is a short-term credential obtained by the client from the authorization server after user authorization, used to exchange for an access token. The authorization code is a temporary string that can be passed between the authorization server and the client to obtain a more secure access token.\n\n### OAuth 2.0 Extensions\n\nOAuth 2.0 has developed many extensions to adapt to different scenarios. The table below lists some commonly used extensions, their main functions, and applicable scenarios.\n\n| Extension Name                             | Main Function                                         | Applicable Scenarios                         |\n| ------------------------------------------ | ----------------------------------------------------- | -------------------------------------------- |\n| Authorization Code PKCE Extension          | Enhances the security of the authorization code mode, prevents authorization code interception attacks | Public clients (e.g., mobile apps, single-page apps) |\n| Dynamic Client Registration Protocol       | Allows clients to dynamically register and update client information | Systems requiring high automation and flexibility |\n| Token Introspection                        | Allows resource servers to verify and obtain detailed information about access tokens | Scenarios requiring token validity verification and detailed information |\n| Token Revocation                           | Provides a standard interface for token revocation   | Enhances system security and control         |\n| Device Authorization Grant                 | Allows devices with limited input capabilities to complete authentication via other devices | Devices with limited input capabilities (e.g., smart TVs, game consoles) |\n| Mutual TLS Client Authentication           | Client authentication based on mutual TLS            | High-security application scenarios          |\n| Resource Indicators                        | Allows clients to specify the resource server to access in the authorization request | Support for multiple resource servers        |\n| Step-up Authentication Challenge Protocol  | Allows resource servers to request stronger authentication (e.g., multi-factor authentication) as needed | Advanced authentication for high-risk operations |\n\n### OAuth 2.0 Authorization Process (Using GitHub as an Example)\n\nGitHub uses OAuth 2.\n\n0 to authorize third-party applications to access users\u0027 GitHub data. OAuth 2.0 tokens on GitHub are called \u0022access tokens\u0022 and are used for authentication and authorization to access GitHub APIs. It provides a secure, standardized way for third-party applications to access GitHub resources with user authorization. By using access tokens, applications can perform various operations on behalf of users, such as reading user information, accessing repositories, creating gists, etc. This process ensures user security and privacy while simplifying the authentication and authorization process for applications.\n\nThe detailed process and examples of using GitHub OAuth 2.0 tokens are as follows:\n\n1. **User Authorization**: The user clicks the \u0022Login with GitHub\u0022 button on the third-party application\u0027s interface. The application redirects the user to GitHub\u0027s authorization page.\n   \n2. **Obtain Authorization Code**: The user logs in and agrees to authorize on the GitHub authorization page. GitHub redirects the user back to the application with an authorization code in the URL parameter.\n   \n   Example:\n   \u0060\u0060\u0060\n   https:\/\/yourapp.com\/callback?code=AUTHORIZATION_CODE\n   \u0060\u0060\u0060\n   \n3. **Exchange Access Token**: The application server requests an access token from GitHub\u0027s authorization server using the authorization code.\n   \n   Request Example:\n   \u0060\u0060\u0060bash\n   POST https:\/\/github.com\/login\/oauth\/access_token\n   Content-Type: application\/json\n   Accept: application\/json\n   \n   {\n     \u0022client_id\u0022: \u0022YOUR_CLIENT_ID\u0022,\n     \u0022client_secret\u0022: \u0022YOUR_CLIENT_SECRET\u0022,\n     \u0022code\u0022: \u0022AUTHORIZATION_CODE\u0022,\n     \u0022redirect_uri\u0022: \u0022https:\/\/yourapp.com\/callback\u0022\n   }\n   \u0060\u0060\u0060\n   \n4. **GitHub Returns Access Token**: GitHub validates the request and returns an access token.\n   \n   Response Example:\n   \u0060\u0060\u0060json\n   {\n     \u0022access_token\u0022: \u0022YOUR_ACCESS_TOKEN\u0022,\n     \u0022token_type\u0022: \u0022bearer\u0022,\n     \u0022scope\u0022: \u0022repo,gist\u0022\n   }\n   \u0060\u0060\u0060\n   \n5. **Use Access Token to Access Resources**: The application uses the obtained access token to access the GitHub API.\n   \n   Request Example:\n   \u0060\u0060\u0060bash\n   curl -H \u0022Authorization: token YOUR_ACCESS_TOKEN\u0022 https:\/\/api.github.com\/user\n   \u0060\u0060\u0060\n   \n   Response Example:\n   \u0060\u0060\u0060json\n   {\n     \u0022login\u0022: \u0022github-user\u0022,\n     \u0022id\u0022: 1,\n     \u0022node_id\u0022: \u0022MDQ6VXNlcjE=\u0022,\n     \u0022avatar_url\u0022: \u0022https:\/\/github.com\/images\/avatar.jpg\u0022,\n     \u0022name\u0022: \u0022Github User\u0022,\n     \u0022company\u0022: \u0022GitHub\u0022,\n     \u0022blog\u0022: \u0022https:\/\/example.com\u0022,\n     \u0022location\u0022: \u0022Earth\u0022,\n     \u0022email\u0022: \u0022github-user@example.com\u0022\n   }\n   \u0060\u0060\u0060\n\n### Characteristics and Use of Access Tokens\n\n1. **Scopes**: The scope of an access token\u0027s permissions is specified by the user during authorization and can include reading user profiles, accessing user repositories, managing gists, etc. For example, in the example above, the \u0060scope\u0060 includes \u0060repo\u0060 and \u0060gist\u0060.\n   \n2. **Validity and Refreshing**: Access tokens can be long-term or have a specified time range until the user actively revokes them.\n   \n3. **Secure Transmission**: Access tokens should be transmitted via HTTPS to ensure they are not intercepted.\n\n## mTLS\n\nmTLS (Mutual TLS) is a technology that performs mutual authentication between the client and the server. It originated from the TLS (Transport Layer Security) protocol, the predecessor of which, SSL (Secure Sockets Layer), was developed by Netscape in 1995. With the increasing demand for internet security, TLS gradually evolved into a highly secure communication standard. mTLS further enhances security by requiring mutual authentication between both parties and is widely used in fields with high security requirements such as finance and healthcare.\n\nThe following diagram shows the mTLS authentication process.\n\n\u0060\u0060\u0060mermaid \u0022mTLS Authentication Process\u0022\nsequenceDiagram\n    participant Client\n    participant Server\n\n    Client -\u003e\u003e Server: Client certificate handshake request\n    Server -\u003e\u003e Client: Server certificate handshake request\n    Client -\u003e\u003e Server: Validate server certificate\n    Server -\u003e\u003e Client: Validate client certificate\n    Client -\u003e\u003e Server: Successful handshake, establish secure connection\n    Client -\u003e\u003e Server: Request protected resource\n    Server -\u003e\u003e Client: Return protected resource\n\u0060\u0060\u0060\n\n![mTLS Authentication Process](d05161fb8841d5249d43ef2e697945ab.svg)\n\nmTLS Authentication Process Explanation:\n\n1. Client and server mutually send certificates\n2. Both parties validate each other\u0027s certificates\n3. Establish secure connection\n\nFor more information on TLS and mTLS, please refer to the blog post [How Istio’s mTLS Traffic Encryption Works as Part of a Zero Trust Security Posture](\/en\/blog\/understanding-the-tls-encryption-in-istio\/#what-is-tls-and-mtls).\n\n## Basic Authentication\n\nBasic Authentication is a simple authentication mechanism defined by the HTTP\/1.0 specification (RFC 1945). It involves encoding the username and password with Base64 and appending them to the HTTP request header for authentication. Due to its simplicity and ease of use, Basic Authentication was widely adopted in early web applications. However, because of its inherent security issues (such as plain text transmission being easily intercepted), it is usually used with HTTPS or replaced by more secure authentication methods in modern applications.\n\nThe following diagram shows the Basic Authentication process.\n\n\u0060\u0060\u0060mermaid \u0022Basic Authentication Process\u0022\nsequenceDiagram\n    participant User\n    participant Client\n    participant ResourceServer\n\n    User -\u003e\u003e Client: Provide username and password\n    Client -\u003e\u003e ResourceServer: Request protected resource (with username and password)\n    ResourceServer -\u003e\u003e Client: Validate username and password\n    ResourceServer -\u003e\u003e Client: Return protected resource\n\u0060\u0060\u0060\n\n![Basic Authentication Process](cbaf0077dcd99163587797e51fe49518.svg)\n\nBasic Authentication Process Explanation:\n\n1. User provides username and password\n2. Client requests resource server with username and password\n3. Resource server validates\n\n### Basic Authentication Example\n\nBasic Authentication uses a Base64-encoded username and password for authentication. Below is an example of a Basic Authentication request using the \u0060curl\u0060 command:\n\n\u0060\u0060\u0060bash\ncurl -u \u003cusername\u003e:\u003cpassword\u003e https:\/\/api.example.com\/data\n\u0060\u0060\u0060\n\nIf the username is \u0060admin\u0060 and the password is \u0060password123\u0060, the request example is as follows:\n\n\u0060\u0060\u0060bash\ncurl -u admin:password123 https:\/\/api.example.com\/data\n\u0060\u0060\u0060\n\n## API Key Authentication\n\nAPI Key Authentication is a method of authenticating by including a pre-assigned unique key in the request. It became popular in the early 2000s with the rise of web APIs. Due to its simplicity and ease of management, API Key Authentication is widely used in various public and private APIs. Although it has lower security and is easily abused, it is still an effective means of access control in many scenarios, especially for applications that do not require high security protection.\n\nThe following diagram shows the API Key Authentication process.\n\n\u0060\u0060\u0060mermaid \u0022API Key Authentication Process\u0022\nsequenceDiagram\n    participant Client\n    participant ResourceServer\n\n    Client -\u003e\u003e ResourceServer: Request protected resource (with API Key)\n    ResourceServer -\u003e\u003e Client: Validate API Key\n    ResourceServer -\u003e\u003e Client: Return protected resource\n\u0060\u0060\u0060\n\n![API Key Authentication Process](373df547422133ea5ba42e7321c3f5d4.svg)\n\nAPI Key Authentication Process Explanation:\n\n1. Client requests resource server with API Key \n2. Resource server validates API Key\n\n### API Key Example\n\nAn API Key is a unique identifier passed in the request for client authentication. API Keys are typically passed through HTTP request headers or URL parameters.\n\nExample of API Key in HTTP request header:\n\n\u0060\u0060\u0060bash\ncurl -H \u0022Authorization: ApiKey YOUR_API_KEY\u0022 https:\/\/api.example.com\/data\n\u0060\u0060\u0060\n\nExample of API Key in URL parameter:\n\n\u0060\u0060\u0060bash\ncurl https:\/\/api.example.com\/data?api_key=YOUR_API_KEY\n\u0060\u0060\u0060\n\nAn API Key is usually a string containing letters and numbers, for example:\n\n\u0060\u0060\u0060\n1234567890abcdef1234567890abcdef\n\u0060\u0060\u0060\n\n## Summary\n\nChoosing the right authentication method in a microservice architecture is crucial. Different authentication methods have their advantages and disadvantages in terms of security, complexity, and applicable scenarios. This article introduced five common authentication methods: JWT, OAuth 2.0, mTLS, Basic Authentication, and API Key Authentication, and provided their advantages, disadvantages, and applicable scenarios. Additionally, other common authentication methods such as SAML, LDAP, Kerberos, and OpenID Connect are also widely used in various internet application scenarios, especially in single sign-on and cross-domain authentication. I hope this information will help you choose the most suitable authentication scheme when designing and implementing microservice systems.\n', '\/en\/blog\/microservice-auth-methods\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">This article introduces several common authentication methods in microservices, helping you choose the appropriate authentication scheme when designing and implementing microservice systems.</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/en/blog/istio-cni-deep-dive/">Istio CNI Unveiled: Streamlining Service Mesh Connectivity</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               May 19, 2024</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/en/categories/istio"> 
             Istio
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('Istio CNI Unveiled: Streamlining Service Mesh Connectivity', 'This article provides a detailed explanation of the design principles, implementation methods, and how to enhance security and permission management through Ambient Mode in the Istio CNI plugin.', '\nThis article delves into the design principles, implementation, and how Ambient Mode enhances security and permission management in Istio CNI plugins. The content includes:\n\n- Security risks of Init containers and their solutions.\n- Working principles and advantages of Istio CNI.\n- Implementation mechanism of Ambient Mode and its integration with CNI.\n\n## Overview of Istio Network Requirements and Solutions\n\nIstio service mesh intercepts and manages application traffic through the Sidecar mode. This mode injects a Sidecar Proxy and init containers into application pods and uses iptables rules to manage network traffic. For detailed deployment and operation processes, please refer to [Understanding Sidecar Injection, Transparent Traffic Hijacking, and Traffic Routing in Istio](\/en\/blog\/sidecar-injection-iptables-and-traffic-routing\/). Although this method is effective on most Kubernetes platforms, the high dependency on privileges raises security concerns in multi-tenant environments.\n\n### Limitations of Istio-init\n\nDuring its initial network configuration, Istio adopted the \u0060istio-init\u0060 container to initialize traffic interception rules, requiring containers to have advanced permissions to modify network configurations like IPTables rules. While this method effectively manages traffic, it significantly increases permission requirements and security risks. According to the [Istio documentation](https:\/\/istio.io\/latest\/docs\/setup\/additional-setup\/cni\/), the \u0060istio-init\u0060 container is injected into pods within the Istio mesh by default to hijack network traffic to Istio\u0027s Sidecar proxy. This process requires granting the Service Account deploying the pod the [\u0060NET_ADMIN\u0060 container permission](https:\/\/kubernetes.io\/docs\/tasks\/configure-pod-container\/security-context\/#set-capabilities-for-a-container), which may contradict the security policies of some organizations.\n\n### Istio CNI Plugin\n\nIn response to this challenge, the Istio community introduced the [Istio CNI](https:\/\/github.com\/istio\/istio\/tree\/master\/cni) plugin, which avoids the need for init containers, allowing direct manipulation at the Kubernetes network layer, thereby reducing permission requirements and simplifying the deployment process, but with CNI compatibility issues.\n\n### Introduction of Ambient Mode\n\nIstio\u0027s Ambient Mode is an innovative sidecar-less solution that enhances network flexibility and security by [using Geneve tunnels](\/en\/blog\/traffic-interception-with-geneve-tunnel-with-istio-ambient-mesh\/) or Istio CNI.\n\nOnly recently has the Istio community introduced a [universal solution compatible with any CNI](https:\/\/istio.io\/latest\/blog\/2024\/inpod-traffic-redirection-ambient\/). This mode addresses compatibility issues with any CNI, enabling Istio to more effectively manage traffic between services without affecting existing network policies.\n\n## Security Considerations for NET_ADMIN Permissions\n\nIn containerized environments like Kubernetes and Docker, \u0060NET_ADMIN\u0060 permissions allow processes within containers to perform extensive network-related operations, including modifying iptables rules, changing network interface configurations, managing IP routing tables, and controlling kernel parameters related to networking. However, the use of these permissions raises security concerns, especially regarding overprivileged access and potential attack surfaces.\n\n**Best practices include**:\n\n- **Limiting scope of use**: Grant \u0060NET_ADMIN\u0060 permissions only when necessary and restrict them through Kubernetes network policies.\n- **Continuous monitoring and auditing**: Enforce strict logging and monitoring for containers using \u0060NET_ADMIN\u0060 permissions.\n\n## Working Principles of Istio CNI Plugin\n\nThe Istio CNI plugin is a binary file installed as an agent in the file system of each node. The following flowchart illustrates the working principles of the Istio CNI node agent:\n\n\u0060\u0060\u0060mermaid\nflowchart TB\n    subgraph istio_cni_node_agent[Istio CNI Node Agent]\n        direction LR\n        install_plugin[Install Istio CNI plugin]\n        update_config[Update node CNI config at \/etc\n\n\/cni\/net.d]\n        monitor_paths[Monitor plugin and config paths]\n        \n        subgraph sidecar_mode[\u0022Sidecar Mode\u0022]\n            sidecar_setup[Configure iptables for pods]\n        end\n        \n        subgraph ambient_mode[\u0022Ambient Mode\u0022]\n            ambient_server[Ambient Watch Server]\n            sync_events[Synchronize pod events]\n            configure_iptables[Configure iptables within pods]\n        end\n\n        install_plugin --\u003e update_config\n        update_config --\u003e monitor_paths\n        monitor_paths --\u003e sidecar_mode\n        monitor_paths --\u003e ambient_mode\n        ambient_mode --\u003e ambient_server\n        ambient_server --\u003e sync_events\n        sync_events --\u003e configure_iptables\n    end\n\u0060\u0060\u0060\n\n![Mermaid Diagram](f9aacefbdd8fb77216546b53eda78079.svg)\n\n- **Istio CNI Node Agent** acts as an agent installed on each node.\n- It installs the Istio CNI plugin and updates the node’s CNI configuration.\n- The agent monitors the CNI plugin and config paths for changes.\n- In **Sidecar Mode**, it handles sidecar networking setups using iptables for pods.\n- In **Ambient Mode**, it synchronizes pod events to an ambient watch server, which then configures iptables within pods.\n- Nodes require elevated privileges like \u0060CAP_SYS_ADMIN\u0060, \u0060CAP_NET_ADMIN\u0060, and \u0060CAP_NET_RAW\u0060 to function in either mode.\n\n## Resolving Conflicts Between Istio Ambient Mode and Kubernetes CNI\n\nIstio\u0027s Ambient Mode is designed to adapt to all CNIs, transparently handling traffic redirection within pods using ztunnel without affecting existing CNI configurations. In this mode, Ambient Mode manages traffic through ztunnel to flow through the Istio service mesh, while standard CNIs focus on providing standardized network access for pods.\n\nThe primary responsibilities of CNI are to address network connectivity between Kubernetes Pods, such as assigning IP addresses and forwarding packets. In contrast, Ambient Mode needs to import traffic into ztunnel, which may be incompatible with CNI\u0027s network configuration. The main issues include:\n\n- Mainstream CNI network configurations may conflict with Istio\u0027s CNI extensions, causing interruptions in traffic processing.\n- Using Istio CNI may affect the execution of these policies if the deployed network policies depend on CNI.\n\nTo address these issues, traffic redirection is managed by running ztunnel in the same user space as the pod, avoiding conflicts with the kernel space modified by CNI. Thus, pods can connect directly to ztunnel, bypassing the influence of CNI.\n\nThe following sequence diagram describes the process under Ambient mode:\n\n\u0060\u0060\u0060mermaid\nsequenceDiagram\n    participant K8s_API as Kubernetes API\n    participant Plugin as CNI Plugin\n    participant Agent as Ambient CNI Agent\n    participant Server as Ambient Watch Server\n    participant Ztunnel as ztunnel\n\n    Plugin-\u003e\u003eAgent: CmdAdd (Pod scheduled)\n    Agent-\u003e\u003eServer: Notify new pod\n    Server-\u003e\u003eK8s_API: Retrieve Pod Info\n    K8s_API--\u003e\u003eServer: Pod Details\n    Server-\u003e\u003eZtunnel: Setup iptables\n    Ztunnel-\u003e\u003eServer: Confirm Setup\n    Server-\u003e\u003eAgent: Configuration Complete\n    Agent-\u003e\u003ePlugin: CmdDel (Pod removed)\n    Server-\u003e\u003eZtunnel: Remove iptables\n    Ztunnel--\u003e\u003eServer: Confirmation\n\u0060\u0060\u0060\n\n![Mermaid Diagram](aa0472b4061c1a2ca71146c3243d2318.svg)\n\n- **Ambient CNI Agent** initiates interactions by listening for UDS events signaling pod creations.\n- **Ambient Watch Server** modifies iptables within pods to redirect traffic to ztunnel as needed.\n\n- **ztunnel** establishes connections and handles network traffic redirection within the Kubernetes cluster.\n\n## Resolving Conflicts Between Istio Ambient Mode and Kubernetes CNI\n\nTo mitigate these conflicts, Istio\u0027s Ambient Mode avoids dependencies on the kernel space modified by CNI:\n\n- **Run ztunnel in user space**: This strategy allows ztunnel to run in the same user space as the pod, avoiding direct conflicts with CNI.\n- **Ensure CNI compatibility**: Istio CNI configurations must be carried out without affecting existing CNI plugin configurations, ensuring normal communication between pods and traffic management.\n\nThese measures help Istio\u0027s Ambient Mode effectively manage traffic between services without disrupting existing CNI plugins.\n\n## Optimized Traffic Management with Istio Ambient Mode\n\nIstio\u0027s Ambient Mode employs an advanced traffic forwarding mechanism through **node-local Ztunnel**, allowing for the establishment of listening sockets within a Pod\u0027s network namespace. This setup facilitates effective redirection of encrypted (mTLS) and plaintext traffic originating from the service mesh. Not only does this approach enhance the flexibility of traffic management, but it also prevents potential conflicts with existing CNI plugins. Below is a detailed implementation flow of this mode:\n\n\u0060\u0060\u0060mermaid\ngraph TD\n    subgraph Kubernetes Cluster\n    A[Pod with istio.io\/dataplane-mode=ambient] --\u003e|Detected| B(istio-cni node agent)\n    B --\u003e C{Pod Status}\n    C --\u003e|Newly Started| D[CNI Plugin Triggered]\n    C --\u003e|Already Running| E[New Pod Event]\n    D \u0026 E --\u003e F[Configure Redirection]\n    F --\u003e|Enters Pod\u0027s Network Namespace| G[Establish Network Redirection]\n    G --\u003e H[Notify Node Ztunnel]\n    H --\u003e|Creates Listening Sockets in Pod\u0027s Namespace| I[Node-local Ztunnel Proxy Instance]\n    I --\u003e J[Traffic Redirection Established]\n    end\n\n    J --\u003e K{Traffic Type}\n    K --\u003e|mTLS| L[Encrypted Traffic Within Mesh]\n    K --\u003e|Plaintext| M[Handling Plaintext Traffic]\n\u0060\u0060\u0060\n\n![Mermaid Diagram](82841d7a95a98947c4ec6c7113c2ffb0.svg)\n\nThe specific steps involved are as follows:\n\n1. **Detection of Tags**: The Istio CNI node agent detects Pods tagged with \u0060istio.io\/dataplane-mode=ambient\u0060.\n2. **Triggering the CNI Plugin**: Based on Pod events (either a new start or an existing Pod joining the mesh), the CNI plugin is triggered, leading the Istio CNI node agent to configure traffic redirection.\n3. **Configuring Redirection Rules**: Network redirection rules are set up within the Pod’s network namespace to intercept and redirect traffic to the node-local ztunnel proxy.\n4. **Establishment of Listening Sockets**: The node-local ztunnel creates listening sockets within the Pod\u0027s network namespace to enable traffic redirection.\n5. **Traffic Handling**: The node-local ztunnel handles encrypted (mTLS) and plaintext traffic within the mesh, ensuring secure and efficient data transfer.\n\nThrough this approach, Istio Ambient Mode provides a more effective and secure solution for managing inter-service traffic in Kubernetes environments.\n\n## Conclusion\n\nThis article thoroughly analyzes the design principles, implementation, and advantages of the Istio CNI plugin, particularly how Istio CNI addresses the permission and security issues present in traditional \u0060istio-init\u0060 methods. Through these innovations, Istio has made significant progress in network security and operational simplicity, providing a more flexible and efficient method for implementing Istio in Kubernetes environments.\n\n---\n\n*This blog was initially published at [tetrate.io](https:\/\/tetrate.io\/blog\/istio-cni-unveiled-streamlining-service-mesh-connectivity\/) .*\n', '\/en\/blog\/istio-cni-deep-dive\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">This article provides a detailed explanation of the design principles, implementation methods, and how to enhance security and permission management through Ambient Mode in the Istio CNI plugin.</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/en/blog/cni-deep-dive/">CNI Essentials: Powering Kubernetes&#39; Network</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               May 18, 2024</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/en/categories/kubernetes"> 
             Kubernetes
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('CNI Essentials: Powering Kubernetes\u0027 Network', 'This article provides an in-depth explanation of the basic concepts of Container Network Interface (CNI), its core components, and its relationship with Container Runtime Interface (CRI).', '\nEffective management of networking is crucial in containerized environments. The Container Network Interface (CNI) is a standard that defines how containers should be networked. This article delves into the fundamentals of CNI and explores its relationship with CRI.\n\n## What is CNI?\n\nThe CNI (Container Network Interface) specification provides a common interface between container runtimes and network plugins, aiming to standardize container network configuration.\n\nThe CNI specification comprises several core components:\n\n- **Network configuration format**: Defines how administrators define network configurations.\n- **Request protocol**: Describes how container runtimes send network configuration or cleanup requests to network plugins.\n- **Plugin execution process**: Details how plugins execute network setup or cleanup based on the provided configuration.\n- **Plugin delegation**: Allows plugins to delegate specific functionalities to other plugins.\n- **Result return**: Defines the data format for returning results to the runtime after plugin execution.\n\nBy defining these core components, the CNI specification ensures that different container runtimes and network plugins can interact in a consistent manner, enabling automation and standardization of network configuration.\n\n{{\u003ccallout note \u0022Key points of the CNI specification\u0022\u003e}}\n\n- CNI is a plugin-based containerized networking solution.\n- CNI plugins are executable files.\n- The responsibility of a single CNI plugin is singular.\n- CNI plugins are invoked in a chained manner.\n- The CNI specification defines a Linux network namespace for a container.\n- Network definitions in CNI are stored in JSON format.\n- Network definitions are transmitted to plugins via STDIN input streams, meaning network configuration files are not stored on the host, and other configuration parameters are passed to plugins via environment variables.\n\n{{\u003c\/callout\u003e}}\n\nCNI plugins receive network configuration parameters according to the operation type, perform network setup or cleanup tasks accordingly, and return the execution results. This process ensures dynamic configuration of container networks synchronized with container lifecycles.\n\nThe following diagram illustrates the multitude of network plugins encompassed by CNI.\n\n\u0060\u0060\u0060mermaid\ngraph TB\n    CR[Container Runtime] --\u003e CNI[\u0022Container Network Interface (CNI)\u0022]\n    CNI --\u003e LP[Loopback Plugin]\n    CNI --\u003e BP[Bridge Plugin]\n    CNI --\u003e PTP[PTP Plugin]\n    CNI --\u003e MACV[MACvlan Plugin]\n    CNI --\u003e IPV[IPvlan Plugin]\n    CNI --\u003e TPP[3rd-Party Plugin]\n\u0060\u0060\u0060\n\n![Mermaid Diagram](cdc38d55a4fc4468ab20df85ab63c2c7.svg)\n\nAccording to the [CNI specification](https:\/\/github.com\/containernetworking\/cni\/blob\/main\/SPEC.md#section-2-execution-protocol), a CNI plugin is responsible for configuring a container\u0027s network interface in some way. Plugins can be classified into two major categories:\n\n- \u0022Interface\u0022 plugins, responsible for creating network interfaces inside containers and ensuring their connectivity.\n- \u0022Chained\u0022 plugins, adjusting the configuration of already created interfaces (but may need to create more interfaces to accomplish this).\n\n## Relationship Between CNI and CRI\n\nCNI and CRI (Container Runtime Interface) are two critical interfaces in Kubernetes, responsible for container network configuration and runtime management, respectively. In Kubernetes clusters, CRI invokes CNI plugins to configure or clean up container networks, ensuring tight coordination between the network configuration process and container creation and destruction processes.\n\nThe following diagram intuitively illustrates how CNI collaborates with CRI:\n\n\u0060\u0060\u0060mermaid\nsequenceDiagram\n    participant K as Kubelet\n    participant CRI as Container Runtime Interface\n    participant CNI as Container Network Interface\n    participant P as Pod\n\n    K-\u003e\u003e\u002bCRI: Create Pod container\n    CRI-\u003e\u003e\u002bP: Start container\n    P--\u003e\u003e-CRI: Container running\n    CRI--\u003e\u003e-K: Container ready\n    K-\u003e\u003e\u002bCNI: Call CNI for network setup\n    CNI-\u003e\u003e\u002bP: Connect to network\n    P--\u003e\u003e-CNI: Network configured\n    CNI--\u003e\u003e-K: Pod network ready\n    K-\u003e\u003eP: Pod running with network\n\u0060\u0060\u0060\n\n![Mermaid Diagram](9efc34ed8d34997a651adff337bb1630.svg)\n\n1. **Kubelet to CRI**: The Kubelet instructs the CRI to create the containers for a scheduled pod.\n2. **CRI to Pod**: The container runtime starts the container within the pod.\n3. **Pod to CRI**: Once the container is running, it signals back to the container runtime.\n4. **CRI to Kubelet**: The container runtime notifies the Kubelet that the containers are ready.\n5. **Kubelet to CNI**: With the containers up, the Kubelet calls the CNI to set up the network for the pod.\n6. **CNI to Pod**: The CNI configures the network for the pod, attaching it to the necessary network interface.\n7. **Pod to CNI**: After the network is configured, the pod confirms network setup to the CNI.\n8. **CNI to Kubelet**: The CNI informs the Kubelet that the pod\u0027s network is ready.\n9. **Kubelet to Pod**: The pod is now fully operational, with both containers running and network configured.\n\nThe following diagram shows the detailed steps involved in setting up networking for a pod in Kubernetes:\n\n\u0060\u0060\u0060mermaid\nsequenceDiagram\n    participant P as Pod\n    participant K as Kubelet\n    participant CNI as Container Network Interface\n    participant NS as Network Setup\n    participant IPAM as IP Address Management\n\n    K-\u003e\u003e\u002bP: Schedule Pod\n    P-\u003e\u003e\u002bK: Request network setup\n    K-\u003e\u003e\u002bCNI: Call CNI\n    CNI-\u003e\u003e\u002bNS: Create network namespace\n    NS--\u003e\u003e-CNI: Namespace created\n    CNI-\u003e\u003e\u002bIPAM: Allocate IP address\n    IPAM--\u003e\u003e-CNI: IP address allocated\n    CNI-\u003e\u003eP: Set network interface\n    P--\u003e\u003e-K: Network setup complete\n    K-\u003e\u003eP: Pod running with network\n\n    Note over P,K: Pod scheduling triggers network setup\n    Note over CNI,IPAM: CNI handles network namespace creation and IP address allocation\n\u0060\u0060\u0060\n\n![Mermaid Diagram](640af94970463b3c8707011903bfe19a.svg)\n\n1. **Pod scheduling**: The Kubelet schedules a pod to run on a node.\n2. **Request network setup**: The scheduled pod requests network setup from the Kubelet.\n3. **Invoke CNI**: The Kubelet invokes the CNI to handle the network setup for the pod.\n4. **Create network namespace**: The CNI creates a network namespace for the pod, isolating its network environment.\n5. **Allocate IP address**: The CNI, through its IP Address Management (IPAM) plugin, allocates an IP address for the pod.\n6. **Setup network interfaces**: The CNI sets up the necessary network interfaces within the pod\u0027s network namespace, attaching it to the network.\n7. **Network setup complete**: The pod notifies the Kubelet that its network setup is complete.\n8. **Pod running with network**: The pod is now running with its network configured and can communicate with other pods and services within the Kubernetes cluster.\n\n## CNI Workflow\n\nThe Container Network Interface (CNI) specification defines how containers should configure networks, including five operations: \u0060ADD\u0060, \u0060CHECK\u0060, \u0060DELETE\u0060, \u0060GC\u0060, and \u0060VERSION\u0060. Container runtimes execute these operations by calling various CNI plugins, enabling dynamic management and updates of container networks.\n\n\u0060\u0060\u0060mermaid\nsequenceDiagram\n    participant K as Kubelet\n    participant P as Pod\n    participant CNI as CNI Plugins\n    participant CNII as Interface CNI Plugin\n    participant CNIC as Chained CNI Plugin\n    participant NS as Network Setup\n    participant IPAM as IP Address Management\n\n    K-\u003e\u003e\u002bP: Schedule Pod\n    P-\u003e\u003eK: Request network setup\n    K-\u003e\u003eCNI: Call CNI plugins\n    CNI-\u003e\u003eCNII: Call interface plugin\n    CNII-\u003e\u003eNS: Set network interfaces\n    CNII-\u003e\u003eCNIC: Call chained plugin\n    CNIC-\u003e\u003eIPAM: Allocate IP address\n    IPAM-\u003e\u003eCNIC: IP address allocated\n    CNIC-\u003e\u003eNS: Apply network policies\n    CNIC--\u003e\u003eCNI: Chained configuration complete\n    CNI--\u003e\u003eK: Network setup complete\n    K-\u003e\u003eP: Pod running with network\n\n    Note over CNI,CNIC: CNI plugins can be either interface type or chained type\n\u0060\u0060\u0060\n\n![Mermaid Diagram](7b22cf25a480085d500bf3031dbaf6ec.svg)\n\nTo elaborate on each step described in the sequence diagram, involving interactions between Kubelet, Pod, CNI plugins (both interface and chained), network setup, and IP address management (IPAM), let\u0027s delve deeper into the process:\n\n1. **Schedule Pod**: Kubelet schedules a Pod to run on a node. This step initiates the lifecycle of Pods within the Kubernetes cluster.\n2. **Request Network Setup**: The Pod requests Kubelet for network setup. This request triggers the process of configuring the network for the Pod, ensuring its ability to communicate within the Kubernetes cluster.\n3. **Call CNI Plugins**: Kubelet invokes configured Container Network Interface (CNI) plugins. CNI defines a standardized way for container management systems to set up network interfaces within Linux containers. Kubelet passes necessary information to CNI plugins to initiate network setup.\n4. **Call Interface Plugin**: The CNI framework calls an interface CNI plugin responsible for setting up primary network interfaces for the Pod. This plugin may create a new network namespace, connect a pair of veth, or perform other actions to ensure the Pod has the required network interfaces.\n5. **Set Network Interfaces**: The interface CNI plugin configures network interfaces for the Pod. This setup includes assigning IP addresses, setting up routes, and ensuring interfaces are ready for communication.\n6. **Call Chained Plugin**: After setting up network interfaces, the interface CNI plugin or the CNI framework calls chained CNI plugins. These plugins perform additional network configuration tasks, such as setting up IP masquerading, configuring ingress\/egress rules, or applying network policies.\n7. **Allocate IP Address**: As part of the chained process, one of the chained CNI plugins may involve IP Address Management (IPAM). The IPAM plugin is responsible for assigning an IP address to the Pod, ensuring each Pod has a unique IP within the cluster or namespace.\n8. **IP Address Allocated**: The IPAM plugin allocates an IP address and returns the allocation information to the calling plugin. This information typically includes the IP address itself, subnet mask, and possible gateway.\n9. **Apply Network Policies**: Chained CNI plugins apply any specified network policies to the Pod\u0027s network interfaces. These policies may dictate allowed ingress and egress traffic, ensuring network security and isolation per cluster configuration requirements.\n10. **Chained Configuration Complete**: Once all chained plugins have completed their tasks, the overall network configuration for the Pod is considered complete. The CNI framework or the last plugin in the chain signals to Kubelet that network setup is complete.\n11. **Network Setup Complete**: Kubelet receives confirmation of network setup completion from the Pod. At this point, the Pod has fully configured network interfaces with IP addresses, route rules, and applied network policies.\n12. **Pod Running with Network**: The Pod is now running and has its network configured. It can communicate with other Pods within the Kubernetes cluster, access external resources per network policies, and perform its designated functions.\n\nThe following are example sequence diagrams and detailed explanations for the \u0060ADD\u0060, \u0060CHECK\u0060, and \u0060DELETE\u0060 operations based on the [official CNI examples](https:\/\/github.com\/containernetworking\/cni\/blob\/main\/SPEC.md#appendix-examples). Through these operations, interactions between the container runtime and CNI plugins facilitate dynamic management and updates of container network configurations.\n\n### ADD Operation Example\n\nBelow is the example sequence diagram and detailed explanation for the ADD operation:\n\n\u0060\u0060\u0060mermaid\nsequenceDiagram\n    participant CR as Container Runtime\n    participant PP as Portmap Plugin\n    participant TP as Tuning Plugin\n    participant BP as Bridge Plugin\n    participant HLP as Host-local Plugin\n\n    CR-\u003e\u003ePP: CNI_COMMAND=ADD\n    PP--\u003e\u003eCR: Portmap configuration complete\n    CR-\u003e\u003eTP: CNI_COMMAND=ADD\n    TP--\u003e\u003eCR: Tuning configuration complete\n    CR-\u003e\u003eBP: CNI_COMMAND=ADD\n    BP-\u003e\u003eHLP: CNI_COMMAND=ADD\n    HLP--\u003e\u003eBP: IPAM configuration complete\n    BP--\u003e\u003eCR: Bridge configuration complete\n\u0060\u0060\u0060\n\n![Mermaid Diagram](4f28f5eda4192e0eb4cd9c65f2c6f61f.svg)\n\n1. **Container Runtime Calls Portmap Plugin**: The container runtime executes the ADD operation by calling the Portmap plugin to configure port mapping for the container.\n2. **Portmap Configuration Complete**: The Portmap plugin completes the port mapping configuration and returns the result to the container runtime.\n3. **Container Runtime Calls Tuning Plugin**: The container runtime invokes the Tuning plugin to execute the ADD operation and configure network tuning parameters for the container.\n4. **Tuning Configuration Complete**: The Tuning plugin finishes configuring network tuning parameters and returns the result to the container runtime.\n5. **Container Runtime Calls Bridge Plugin**: The container runtime calls the Bridge plugin to execute the ADD operation and configure network interfaces and IP addresses for the container.\n6. **Bridge Plugin Calls Host-local Plugin**: Before completing its own configuration, the Bridge plugin calls the Host-local plugin to execute the ADD operation and configure IP addresses for the container.\n7. **IPAM Configuration Complete**: The Host-local plugin, acting as the authority for IP Address Management (IPAM), completes IP address allocation and returns the result to the Bridge plugin.\n8. **Bridge Configuration Complete**: The Bridge plugin finishes configuring network interfaces and IP addresses and returns the result to the container runtime.\n\nThese operations ensure that the required network configuration is set up as expected when the container starts, including port mapping, network tuning, and IP address allocation.\n\n### CHECK Operation Example\n\nBelow is the example sequence diagram and detailed explanation for the CHECK operation:\n\n\u0060\u0060\u0060mermaid\nsequenceDiagram\n    participant CR as Container Runtime\n    participant BP as Bridge Plugin\n    participant HLP as Host-local Plugin\n    participant TP as Tuning Plugin\n\n    CR-\u003e\u003eBP: CNI_COMMAND=CHECK with prevResult\n    BP-\u003e\u003eHLP: CNI_COMMAND=CHECK\n    HLP--\u003e\u003eBP: No errors detected\n    BP--\u003e\u003eCR: Return with 0 exit code\n    CR-\u003e\u003eTP: CNI_COMMAND=CHECK with prevResult\n    TP--\u003e\u003eCR: Operation successful\n\u0060\u0060\u0060\n\n![Mermaid Diagram](c20cc6391b4f6cf89ffac159410ca851.svg)\n\n1. **Container Runtime Calls Bridge Plugin for Check**: The container runtime performs the CHECK operation by calling the Bridge plugin to inspect the container\u0027s network configuration.\n2. **Bridge Plugin Calls Host-local Plugin for Check**: The Bridge plugin calls the Host-local plugin to inspect IP address allocation.\n3. **No Errors Detected**: The Host-local plugin detects no errors in IP address allocation and reports no errors to the Bridge plugin.\n4. **Return with 0 Exit Code**: The Bridge plugin confirms no network configuration errors and returns with a 0 exit code to the container runtime.\n5. **Container Runtime Calls Tuning Plugin for Check**: The container runtime invokes the Tuning plugin to inspect network tuning parameters.\n6. **Operation Successful**: The Tuning plugin confirms no errors in network tuning parameters, indicating a successful operation to the container runtime.\n\nThese operations ensure that during container runtime, network configuration and tuning parameters are checked and verified as expected to ensure consistency and correctness in network configuration.\n\n### DELETE Operation Example\n\nBelow is the example sequence diagram and detailed explanation for the DELETE operation:\n\n\u0060\u0060\u0060mermaid\nsequenceDiagram\n    participant CR as Container Runtime\n    participant PP as Portmap Plugin\n    participant TP as Tuning Plugin\n    participant BP as Bridge Plugin\n    participant HLP as Host-local Plugin\n\n    CR-\u003e\u003ePP: CNI_COMMAND=DEL\n    PP--\u003e\u003eCR: Portmap deletion complete\n    CR-\u003e\u003eTP: CNI_COMMAND=DEL\n    TP--\u003e\u003eCR: Tuning deletion complete\n    CR-\u003e\u003eBP: CNI_COMMAND=DEL\n    BP-\u003e\u003eHLP: CNI_COMMAND=DEL\n    HLP--\u003e\u003eBP: IPAM deletion complete\n    BP--\u003e\u003eCR: Bridge deletion complete\n\u0060\u0060\u0060\n\n![Mermaid Diagram](40d9a191cc29a56b101c764a520d521e.svg)\n\n1. **Container Runtime Calls Portmap Plugin for Delete**: The container runtime initiates the DELETE operation by calling the Portmap plugin to remove port mapping configuration for the container.\n2. **Portmap Deletion Complete**: The Portmap plugin finishes deleting port mapping and reports completion to the container runtime.\n3. **Container Runtime Calls Tuning Plugin for Delete**: The container runtime calls the Tuning plugin to execute the DELETE operation and remove network tuning parameters for the container.\n4. **Tuning Deletion Complete**: The Tuning plugin completes deletion of network tuning parameters and notifies the container runtime.\n5. **Container Runtime Calls Bridge Plugin for Delete**: The container runtime invokes the Bridge plugin to execute the DELETE operation and remove network interfaces and IP address configuration for the container.\n6. **Bridge Plugin Calls Host-local Plugin for Delete**: Before completing its own deletion, the Bridge plugin calls the Host-local plugin to execute the DELETE operation and remove IP address allocation for the container.\n7. **IPAM Deletion Complete**: The Host-local plugin completes IP address deletion and informs the Bridge plugin.\n8. **Bridge Deletion Complete**: The Bridge plugin finishes removing network interfaces and IP addresses and notifies the container runtime.\n\nThese operations ensure that when the container stops running, its required network configuration is properly cleaned up and removed to ensure effective release and management of network resources.\n\nThrough the example sequence diagrams and detailed explanations for ADD, CHECK, and DELETE operations, it\u0027s clear how interactions between the container runtime and CNI plugins facilitate dynamic management and updates of container network configurations.\n\n## Conclusion\n\nThe Container Network Interface (CNI) specification standardizes container network configuration in Kubernetes clusters, allowing container runtimes to interface with various network plugins seamlessly. Understanding CNI\u0027s core components and its collaboration with the Container Runtime Interface (CRI) is essential for effective network management in containerized environments.\n\n## References\n\n- [CNI Spec](https:\/\/github.com\/containernetworking\/cni\/blob\/main\/SPEC.md)\n\n---\n\n*This blog was initially published at [tetrate.io](https:\/\/tetrate.io\/blog\/envoy-microservices-overview\/)*.\n', '\/en\/blog\/cni-deep-dive\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">This article provides an in-depth explanation of the basic concepts of Container Network Interface (CNI), its core components, and its relationship with Container Runtime Interface (CRI).</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/en/blog/envoy-gateway-introduction/">Envoy Gateway Overview: Modern Kubernetes Ingress with Envoy Gateway and the Gateway API</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               May 16, 2024</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/en/categories/envoy"> 
             Envoy
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('Envoy Gateway Overview: Modern Kubernetes Ingress with Envoy Gateway and the Gateway API', 'This article explores the advantages of deploying Envoy Gateway on Kubernetes, its relationship with other service mesh components, and why it\u0027s the ideal choice for exposing services to the public internet.', '\nSelecting the right networking tool in a Kubernetes environment is crucial. According to [Tetrate\u0027s discussion](https:\/\/tetrate.io\/blog\/do-i-need-a-gateway-or-a-service-mesh\/), the choice depends on the type of network traffic: north-south or east-west. For services primarily handling external requests, Envoy Gateway is the ideal choice. It not only efficiently manages traffic but also seamlessly integrates as you transition to a microservices architecture.\n\nThis article explores the advantages of deploying Envoy Gateway on Kubernetes, its relationship with other service mesh components, and why it\u0027s the ideal choice for exposing services to the public internet.\n\n## Overview of Envoy Gateway and its Role in Service Mesh\n\nEnvoy Gateway is a Kubernetes-native API gateway built around Envoy Proxy. It aims to lower the barrier for users adopting Envoy as an API gateway and lays the foundation for vendors to build value-added products like [Tetrate Enterprise Gateway for Envoy](https:\/\/tetrate.io\/tetrate-enterprise-gateway-for-envoy\/).\n\nEnvoy Gateway is not only an ideal choice for managing north-south traffic but also serves as a crucial component for connecting and securing services within the service mesh. It enhances communication efficiency and security among microservices by providing features such as secure data transmission, traffic routing, load balancing, and fault recovery. Leveraging its built-in Envoy Proxy technology, Envoy Gateway can handle a large number of concurrent connections and complex traffic management policies while maintaining low latency and high throughput.\n\nFurthermore, the tight integration of Envoy Gateway with the Kubernetes Gateway API allows for declarative configuration and management, significantly simplifying the deployment and update processes of gateways within the service mesh. This integration not only improves operational efficiency but also enables Envoy Gateway to seamlessly collaborate with solutions like Istio without adding extra complexity.\n\nThe figure below illustrates the relationship between Envoy Gateway and the service mesh.\n\n\u0060\u0060\u0060mermaid\ngraph TB\n    subgraph Kubernetes[\u0022Kubernetes Cluster\u0022]\n        eg[\u0022Envoy Gateway\u0022]\n        svcs[\u0022Services\u0022]\n        pods[\u0022Pods\u0022]\n        gwapi[\u0022Kubernetes Gateway API\u0022]\n        eg -- \u0022Manages North-South Traffic\u0022 --\u003e svcs\n        eg -- \u0022Configured by\u0022 --\u003e gwapi\n        gwapi -. \u0022Defines routing specs\u0022 .-\u003e svcs\n    end\n\n    subgraph SM[\u0022Service Mesh\u0022]\n        smc[\u0022Service Mesh Control Plane (e.g., Istio, Linkerd)\u0022]\n        smp[\u0022Service Mesh Data Plane (Envoy Sidecars)\u0022]\n        smc -- \u0022Configures\u0022 --\u003e smp\n        smp -- \u0022Handles East-West Traffic\u0022 --\u003e pods\n    end\n\n    eg -.-\u003e smp\n    svcs -. \u0022Part of\u0022 .-\u003e SM\n    svcs -- \u0022Connects to\u0022 --\u003e pods\n\u0060\u0060\u0060\n\n![Mermaid Diagram](17a407873a0c96afbde9bb6b252814d4.svg)\n\n\n\nIn a Kubernetes cluster, Envoy Gateway is responsible for managing north-south traffic, i.e., traffic entering and leaving the cluster, and is configured through the Kubernetes Gateway API, which defines routing specifications for services. Services within the cluster directly connect to pods. In the service mesh, the control plane (e.g., Istio or Linkerd) configures Envoy sidecars in the data plane, which handles east-west traffic within the cluster. In this system, Envoy Gateway can collaborate with the service mesh, but they independently manage traffic in different directions.\n\nThink of Envoy Gateway as the main entry point to a city (e.g., customs), where all traffic (like various vehicles) must pass through. It acts as a strict gatekeeper, responsible for inspection and guidance, ensuring each packet (like each passenger) is accurately delivered to its destination. In the city of Kubernetes, Envoy Gateway manages all inbound traffic, ensuring data flows securely and efficiently into the city and is accurately delivered to services within the city.\n\nOnce inside the city, the service mesh takes over, acting as a series of transportation networks within the city. Envoy sidecars in the service mesh are like taxis or buses within the city, responsible for transporting packets from the port to their specific destinations within the city. Envoy Gateway ensures smooth entry for external requests, and then the service mesh efficiently handles these requests within the cluster.\n\nThe support for Kubernetes Gateway API by Envoy Gateway can be seen as a significant upgrade to our city\u0027s traffic signal system. It not only provides clearer and more personalized guidance for incoming data flows but also makes the entire city\u0027s traffic operations more intelligent.\n\n## Core Features and Advantages of Envoy Gateway\n\nEnvoy Gateway offers several core features that make it a prominent choice for an API gateway:\n\n- **Simplified Configuration**: Through direct integration with the Kubernetes Gateway API, Envoy Gateway allows developers to use Kubernetes custom resources to declaratively configure routing rules, security policies, and traffic management.\n- **Performance and Scalability**: Built on battle-tested Envoy Proxy, it delivers outstanding performance and scalability, effortlessly handling thousands of services and millions of requests per second.\n- **Security Features**: Built-in support for various security measures such as SSL\/TLS termination, OAuth2, OIDC authentication, and fine-grained access control.\n- **Observability**: Provides comprehensive monitoring capabilities including detailed metrics, logs, and tracing, crucial for diagnosing and understanding traffic behavior.\n\n## Relationship with Gateway API\n\nThe introduction of the Gateway API in Kubernetes provides a powerful new way to integrate and configure ingress gateways, offering higher flexibility and functionality compared to traditional ingress. As discussed in [this blog](https:\/\/tetrate.io\/blog\/introducing-the-gateway-api\/), the Gateway API simplifies gateway management, allowing developers to define custom routing rules, TLS termination policies, and traffic policies using Kubernetes-native resources.\n\nThe Kubernetes Gateway API serves as the cornerstone of Envoy Gateway, providing a more expressive, flexible, and role-based approach to configuring gateways and routes within the Kubernetes ecosystem. This API offers custom resource definitions (CRDs) such as GatewayClass, Gateway, HTTPRoute, etc. Envoy Gateway utilizes these resources to create a user-friendly and consistent configuration model that aligns with Kubernetes\u0027 native principles.\n\n{{\u003ccallout note \u0022What is an API Gateway?\u0022\u003e}}\n\nAn API Gateway is a comprehensive management and hosting service for APIs. Serving as an intermediary layer between applications and backend services, it not only handles lifecycle events like creation, maintenance, deployment, running, and retiring but also performs additional critical functions. A robust API Gateway should provide the following features to enhance and extend its basic definition:\n\n1. **Traffic Control**: Ability to manage and control traffic to backend services, including request routing, load balancing, circuit breaking, and rate limiting, ensuring the stability and high availability of backend services.\n2. **Security Assurance**: Authentication, authorization, and encryption capabilities to effectively manage and protect API security. This involves authentication mechanisms, API key management, OAuth, JWT, mTLS, etc., ensuring that only authorized users and services can access the API.\n3. **Monitoring and Analytics**: Real-time monitoring and logging functionalities to track API usage, performance metrics, anomaly detection, and traffic pattern analysis, optimizing API performance and responsiveness.\n4. **Change Management**: Support for managing API changes, including version control and progressive deployment (such as blue-green or canary release), for seamless transition to new versions while minimizing impact on end users.\n5. **Request and Response Transformation**: Allow transformation of incoming and outgoing API calls, such as from REST to GraphQL, or adding, removing, and modifying request and response headers.\n6. **Cross-Origin Resource Sharing (CORS) Support**: Manage and control cross-origin requests, allowing frontend applications from different domains to securely call backend APIs.\n7. **Quotas and Billing**: Set quota limits for API usage, while also supporting billing functionalities for commercialized API offerings.\n8. **Developer-Friendly Developer Portal**: Provide a developer-facing portal, enabling third-party developers to easily discover, test, and integrate APIs.\n9. **Protocol Support**: Support for various network protocols, including HTTP\/HTTPS, WebSocket, gRPC, etc., ensuring compatibility with a variety of clients and services.\n10. **Plug-ability and Extensibility**: Allow extension of API Gateway functionality through plugins or middleware, enabling flexible adaptation to various middleware services based on business requirements.\n11. **Service Governance**: Integration with service registration and discovery mechanisms to accommodate the dynamics of services in a microservices architecture.\n\nIn conclusion, the role of an API Gateway extends far beyond simple API lifecycle management. It is a key component in realizing microservices architecture, ensuring service security, improving operational efficiency, and optimizing user experience. Through these extensive functionalities, the API Gateway becomes an indispensable part of modern cloud-native applications.\n\n{{\u003c\/callout\u003e}}\n\n## Overview of Envoy Gateway Architecture\n\nThe architecture of Envoy Gateway is designed to be lightweight and concise. It consists of a control plane that dynamically configures an Envoy proxy running as the data plane. This separation of concerns ensures that the gateway can scale with increasing traffic without affecting the efficiency of the control plane.\n\nThe architecture diagram of Envoy Gateway is shown below.\n\n![Envoy Gateway Architecture Diagram](envoy-gateway-arch.svg)\n\nAt the core of this architecture is the Envoy Gateway, which is an instance of the Envoy proxy responsible for handling all traffic in and out of the Kubernetes cluster. Upon initial startup, Envoy Gateway provides static configuration through configuration files, establishing the basic parameters of its operation.\n\nThe dynamic aspect of Envoy Gateway configuration is handled by providers, which define the interaction between the gateway and Kubernetes or other dynamic configuration input sources. The resource monitor is responsible for monitoring changes to Kubernetes resources, with particular attention to CRUD operations related to custom resource definitions (CRDs).\n\nAs changes occur, resource transformers intervene to translate these external resources into a form understandable by Envoy Gateway. This transformation process is further facilitated by provider-specific infrastructure managers, which are responsible for managing resources related to specific clouds or infrastructure providers, shaping the infrastructure into an intermediate representation crucial for the gateway\u0027s functionality.\n\nThis intermediate representation then transforms into the xDS intermediate representation, serving as the precursor to the final xDS configuration understood and executed by Envoy. The xDS translator plays the role of converting this intermediate representation into specific xDS configurations.\n\nThese configurations are delivered and executed by xDS servers, which act as services diligently managing Envoy instances based on the xDS configurations they receive. As the actual running proxy, Envoy ultimately receives these configurations from xDS servers, interprets them, and implements them to effectively manage traffic requests.\n\nUltimately, all requests are redirected to the final destination of Envoy Gateway routes for traffic, which are the backend services.\n\n## Comparison with Other Gateways\n\nCompared to other popular solutions such as Istio\u0027s Ingress Gateway or NGINX Ingress, Envoy Gateway stands out with its native integration with Kubernetes and its focus on leveraging the full potential of Envoy. The table below compares various open-source API gateways from multiple aspects.\n\n| **API Gateway** | **Supported Authentication \u0026 Authorization Strategies**      | **Supported Service Discovery Components** | **Supported Protocols**          | **Control Plane Configuration Distribution Method** | **Supported Plugin Extension Mechanism** | **Foundation Affiliation** |\n| --------------- | ------------------------------------------------------------ | ------------------------------------------ | -------------------------------- | --------------------------------------------------- | ---------------------------------------- | -------------------------- |\n| Envoy Gateway   | OAuth2, JWT, mTLS, OIDC                                      | Kubernetes, EDS                            | HTTP, HTTPS, gRPC                | xDS                                                 | Envoy Filter Based                       | CNCF                       |\n| Kuma            | mTLS, JWT                                                    | Kubernetes, Consul                         | HTTP, HTTPS, gRPC, TCP           | REST, gRPC                                          | Lua, Go Based                            | CNCF                       |\n| NGINX Ingress   | RBAC                                                         | Kubernetes                                 | HTTP, HTTPS, TCP, UDP            | Kubernetes CRD                                      | Nginx Module Based                       | N\/A                        |\n| APISIX          | OAuth2, JWT, Key Auth, Basic Auth, mTLS, OIDC, LDAP, OpenID, and others | Kubernetes, DNS, Consul, Nacos, Eureka     | HTTP, HTTPS, TCP, UDP, WebSocket | REST, CLI, Web UI                                   | Lua, Wasm Based                          | Apache Software Foundation |\n| Kong            | OAuth2, JWT, Basic Auth, Key Auth                            | Kubernetes, DNS, Consul                    | HTTP, HTTPS, gRPC, WebSocket     | REST, gRPC, Web UI                                  | Lua Based                                | N\/A                        |\n| Emissary        | Basic Auth                                                   | Kubernetes                                 | HTTP, HTTPS, gRPC                | Kubernetes CRD                                      | Lua, Go Based                            | CNCF                       |\n\n## Quick Start with Envoy Gateway\n\nTo quickly get started with Envoy Gateway, you can set up a local experimental environment using the following simplified steps. First, start a local Kubernetes cluster:\n\n\u0060\u0060\u0060bash\nminikube start --driver=docker --cpus=2 --memory=2g\n\u0060\u0060\u0060\n\nNext, deploy the Gateway API CRD and Envoy Gateway itself:\n\n\u0060\u0060\u0060bash\nhelm install eg oci:\/\/docker.io\/envoyproxy\/gateway-helm --version v1.0.1 -n envoy-gateway-system --create-namespace\n\u0060\u0060\u0060\n\nThen, install the gateway configuration and deploy a sample application:\n\n\u0060\u0060\u0060bash\nkubectl apply -f https:\/\/github.com\/envoyproxy\/gateway\/releases\/download\/v1.0.1\/quickstart.yaml -n default\n\u0060\u0060\u0060\n\nTo expose the LoadBalancer service, here we use port forwarding as an example. You can also choose to use \u0060minikube tunnel\u0060 or install [MetalLB](https:\/\/metallb.universe.tf\/installation\/) as a load balancer:\n\n\u0060\u0060\u0060bash\nexport ENVOY_SERVICE=$(kubectl get svc -n envoy-gateway-system --selector=gateway.envoyproxy.io\/owning-gateway-namespace=default,gateway.envoyproxy.io\/owning-gateway-name=eg -o jsonpath=\u0027{.items[0].metadata.name}\u0027)\nkubectl -n envoy-gateway-system port-forward service\/${ENVOY_SERVICE} 8888:80 \u0026\n\u0060\u0060\u0060\n\nTest if your Envoy Gateway is working properly with the following command:\n\n\u0060\u0060\u0060bash\ncurl --verbose --header \u0022Host: www.example.com\u0022 http:\/\/localhost:8888\/get\n\u0060\u0060\u0060\n\nFor more detailed installation and configuration steps, visit the Envoy Gateway website. With these steps, you can quickly start exploring the capabilities of Envoy Gateway.\n\n## Conclusion\n\nEnvoy Gateway not only optimizes Layer 7 gateway configuration in the cloud-native era but also provides a smooth transition from edge gateways to service meshes. As the promotion of service meshes faces some challenges, such as the intrusiveness to applications and issues driving by operations teams, edge gateways are more readily accepted by development teams. Envoy Gateway, with its simplified Kubernetes Gateway API, enhances traffic management and observability capabilities. Additionally, the transition from Envoy Gateway to Istio is a confident technical advancement for teams already familiar with Envoy features, supporting seamless switching from the standard Kubernetes Gateway API to Istio Ingress Gateway or continuing to collaborate with Istio as a custom solution. These features make Envoy Gateway a gateway choice worth investing in the cloud-native era.\n\nStay tuned for the subsequent parts of this blog series, where we will delve into configuring and optimizing Envoy Gateway, providing practical guides, and showcasing a wider range of real-world use cases.\n\n---\n\nThis blog was initially published at [tetrate.io](https:\/\/tetrate.io\/blog\/envoy-microservices-overview\/).\n', '\/en\/blog\/envoy-gateway-introduction\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">This article explores the advantages of deploying Envoy Gateway on Kubernetes, its relationship with other service mesh components, and why it&#39;s the ideal choice for exposing services to the public internet.</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/en/blog/istio-ambient-mode-limitations/">Analysis of the Limitations of Istio Ambient Mode</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               May 16, 2024</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/en/categories/istio"> 
             Istio
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('Analysis of the Limitations of Istio Ambient Mode', 'In-depth discussion on the Ambient mode in Istio 1.22, comparison with the traditional Sidecar mode, and its limitations.', '\n[Istio 1.22](https:\/\/istio.io\/latest\/news\/releases\/1.22.x\/announcing-1.22\/) marks the official beta release of Ambient mode, accompanied by a blog titled [Say goodbye to your sidecars: Istio\u0027s ambient mode reaches Beta in v1.22](https:\/\/istio.io\/latest\/blog\/2024\/ambient-reaches-beta\/), claiming that Layer 4 and Layer 7 features are now production-ready. This milestone was actually announced by the community at KubeCon EU a month earlier. Such exciting promotion seems to suggest that we can completely abandon the Sidecar mode, but is this really the case?\n\n### Why Not Hurry to Say Goodbye to Sidecar Mode?\n\nWhile I am open to new technologies, it may be premature to completely abandon the Sidecar mode. Each mode has its specific application scenarios, advantages, and disadvantages. Below, I will share in detail some of the limitations of the Ambient mode compared to the Sidecar mode, to help everyone better understand the differences between the two.\n\n### Key Differences Between Ambient Mode and Sidecar Mode\n\n#### Traffic Management\n\nThe L7 traffic management support in Ambient mode is not yet mature and production-ready. In contrast, Sidecar mode is more stable and reliable in this regard.\n\n#### Security\n\nIn Ambient mode, mTLS is enforced at the namespace level, whereas Sidecar mode gives users more flexibility to choose whether to enable mTLS. This flexibility is particularly important for certain application scenarios.\n\n#### Observability\n\nFor L7 layer telemetry data, it remains questionable whether Ambient mode can provide precise monitoring and tracing for each pod as effectively as Sidecar mode. Sidecar mode has been widely validated in terms of observability and is more mature.\n\n#### Operations\n\nIn terms of deployment, Ambient mode recommends using Helm and only supports the Kubernetes platform, while Sidecar mode also supports VMs and hybrid cloud environments. Additionally, Ambient mode has not yet received official support from major cloud vendors. During upgrades, Ambient mode has a larger blast radius and currently does not support canary releases, recommending blue-green deployments instead. There is still a lack of best practices for migrating from Sidecar mode to Ambient mode or coexisting with both.\n\n#### Extensibility\n\nCurrently, support for Wasm plugins in Ambient mode is still unclear, whereas Sidecar mode already has relatively complete support in this area.\n\n#### Other Functional Features\n\nWhile Dual Stack mode is still experimental in Sidecar mode, it has at least some implementation, whereas it remains unclear whether Ambient mode supports this feature.\n\n### Conclusion\n\nAlthough Istio 1.22 brings the exciting Ambient mode, we need to carefully consider these limitations and differences before completely saying goodbye to Sidecar mode. Each mode has its unique advantages and applicable scenarios, and users should make informed choices based on their own needs. I will continue to test and track Ambient mode, so stay tuned to this blog for more in-depth analysis.', '\/en\/blog\/istio-ambient-mode-limitations\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">In-depth discussion on the Ambient mode in Istio 1.22, comparison with the traditional Sidecar mode, and its limitations.</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/en/blog/kubecon-eu-2024-transparency-report/">KubeCon EU 2024 Transparency Report Interpretation</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               May 7, 2024</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/en/categories/essays"> 
             Essays
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('KubeCon EU 2024 Transparency Report Interpretation', 'A detailed interpretation of the key data and highlights from KubeCon Europe 2024.', '\nRecently, the CNCF released the [KubeCon EU 2024 Transparency Report](https:\/\/www.cncf.io\/reports\/kubecon-cloudnativecon-europe-2024\/). The KubeCon \u002b CloudNativeCon Europe 2024 held in Paris was the largest event in its history, and I had the fortune to attend in person. The beauty of Paris and the atmosphere of the conference were unforgettable.\n\n![KubeCon \u002b CloudNativeCon EU 2024 Transparency Report Cover](report-cover.jpg)\n\nWe witnessed the power of the open-source and cloud-native communities and how they drive the next major technological shift — artificial intelligence. At this conference, CNCF announced the establishment of an AI working group and launched the first edition of the [Cloud Native AI Whitepaper](\/blog\/cloud-native-ai-whitepaper\/), followed by the creation of the [Cloud Native AI Landscape](https:\/\/rx-m.github.io\/cnai-landscape\/?group=cnai).\n\n\u003ciframe src=\u0022https:\/\/rx-m.github.io\/cnai-landscape\/embed\/embed.html?key=cnai\u0026headers=true\u0026category-header=true\u0026category-in-subcategory=false\u0026item-name=false\u0026title-uppercase=false\u0026title-alignment=left\u0026title-font-family=sans-serif\u0026title-font-size=13\u0026style=shadowed\u0026size=xs\u0026items-alignment=left\u0026bg-color=%23016bcc\u0026fg-color=%23ffffff\u0026base-path=%2Fcnai-landscape\u0022 style=\u0022width:100%;height:500px;display:block;border:none;\u0022\u003e\u003c\/iframe\u003e\n\n## Growth and Diversity\n\nThe event welcomed over 12,000 participants, with the majority (78%) coming from Europe and 52% attending for the first time. Participants from different regions showed enthusiasm for cloud-native technologies. The diverse functional backgrounds of the participants, including business operations, developers, and architects, highlighted the wide application of cloud-native technology across fields.\n\nThe following table shows the top 10 countries by attendee numbers:\n\n| Country     | Number of Attendees |\n| ----------- | ------------------- |\n| France      | 1,956               |\n| Germany     | 1,879               |\n| USA         | 1,733               |\n| United Kingdom | 816              |\n| Netherlands | 797                 |\n| Switzerland | 368                 |\n| Spain       | 355                 |\n| Israel      | 312                 |\n| Poland      | 303                 |\n| Denmark     | 293                 |\n\n## Innovation and Communication\n\nDuring the event, there were 331 sessions and 19 keynote speeches covering hot topics such as artificial intelligence, application development, and platform engineering. This edition of KubeCon also hosted poster sessions and project tours for researchers, helping attendees better understand various projects.\n\n## Community and Inclusivity\n\nKubeCon is committed to supporting diversity, equity, and inclusion. Activities such as diversity lunches and Peer Group Mentoring provided platforms for participants to connect and support each other. (PS. The catering at the venue was not to my liking, especially the taste of the tea and the hard bread.)\n\n## Environmental and Sustainability\n\nIn terms of environmental and sustainability efforts, the organizers chose venues with an environmental consciousness and implemented measures to reduce food waste and recycle waste, demonstrating CNCF\u0027s commitment to environmental protection.\n\n## Looking Forward\n\nLooking forward, we hope to bring the magic of KubeCon to more regions globally. Whether it\u0027s the upcoming KubeCon \u002b CloudNativeCon China 2024 or other regional events, I am very much looking forward to meeting you. I have also submitted a panel session for KubeCon China, and if selected, we will meet in Hong Kong this August.\n\n## Conclusion\n\nKubeCon \u002b CloudNativeCon Europe 2024 was not just a technical gathering, but a display of community strength. If you would like to know more details, please check out my previous recap of [KubeCon \u002b CloudNativeCon Europe](\/en\/blog\/kubecon-eu-paris-recap\/).\n\nI hope this transparency report helps you better understand the impact of the event and inspires you to participate in future KubeCon events.\n', '\/en\/blog\/kubecon-eu-2024-transparency-report\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">A detailed interpretation of the key data and highlights from KubeCon Europe 2024.</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/en/blog/cloud-native-ai-whitepaper/">In-depth Analysis of CNCF&#39;s Cloud Native AI Whitepaper</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               Apr 16, 2024</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/en/categories/cloud-native"> 
             Cloud Native
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('In-depth Analysis of CNCF\u0027s Cloud Native AI Whitepaper', 'During KubeCon EU 2024, CNCF released its first Cloud Native Artificial Intelligence (CNAI) whitepaper. This article provides an in-depth analysis of the content of this whitepaper.', '\nIn March 2024, during KubeCon EU, the Cloud Native Computing Foundation (CNCF) released its first detailed [whitepaper](https:\/\/www.cncf.io\/reports\/cloud-native-artificial-intelligence-whitepaper\/) on Cloud Native Artificial Intelligence (CNAI). This report thoroughly explores the current state, challenges, and future directions of integrating Cloud Native technologies with artificial intelligence. This article delves into the core content of this whitepaper.\n\n## What is Cloud Native AI?\n\nCloud Native AI refers to the approach of building and deploying artificial intelligence applications and workloads using Cloud Native technology principles. This includes leveraging microservices, containerization, declarative APIs, and continuous integration\/continuous deployment (CI\/CD) to enhance the scalability, reusability, and operability of AI applications.\n\nThe diagram below illustrates the architecture of Cloud Native AI, redrawn based on the whitepaper.\n\n![Cloud Native AI Architecture](cloud-native-ai.svg)\n\n## Relationship Between Cloud Native AI and Cloud Native Technologies\n\nCloud Native technologies provide a flexible, scalable platform that makes the development and operation of AI applications more efficient. Through containerization and microservices architecture, developers can iterate and deploy AI models rapidly while ensuring high availability and scalability of systems. Kubernetes and other Cloud Native tools provide essential support such as resource scheduling, automatic scaling, and service discovery.\n\nThe whitepaper provides two examples illustrating the relationship between Cloud Native AI and Cloud Native technologies, namely running AI on Cloud Native infrastructure:\n\n- [Hugging Face Collaborates with Microsoft to launch Hugging Face Model Catalog on Azure](https:\/\/huggingface.co\/blog\/hugging-face-endpoints-on-azure)\n- [OpenAI Scaling Kubernetes to 7,500 nodes](https:\/\/openai.com\/research\/scaling-kubernetes-to-7500-nodes)\n\n## Challenges of Cloud Native AI\n\nDespite providing a solid foundation for AI applications, Cloud Native technologies still face challenges when integrating AI workloads with Cloud Native platforms. These challenges include the complexity of data preparation, resource requirements for model training, and maintaining the security and isolation of models in multi-tenant environments. Additionally, resource management and scheduling in Cloud Native environments are crucial, especially for large-scale AI applications, and further optimization is needed to support efficient model training and inference.\n\n## Development Path of Cloud Native AI\n\nThe whitepaper proposes several development paths for Cloud Native AI, including improving resource scheduling algorithms to better support AI workloads, developing new service mesh technologies to enhance the performance and security of AI applications, and driving innovation and standardization of Cloud Native AI technology through open-source projects and community collaboration.\n\n## Cloud Native AI Technology Landscape\n\nCloud Native AI involves a variety of technologies, from containers and microservices to service meshes and serverless computing. Kubernetes is a key platform for deploying and managing AI applications, while service mesh technologies like Istio and Envoy provide powerful traffic management and security features. Additionally, monitoring tools like Prometheus and Grafana are essential for maintaining the performance and reliability of AI applications.\n\nBelow is the Cloud Native AI landscape provided in the whitepaper.\n\n### General Orchestration\n\n- Kubernetes\n- Volcano\n- Armada\n- Kuberay\n- Nvidia NeMo\n- Yunikorn\n- Kueue\n- Flame\n\n### Distributed Training\n\n- Kubeflow Training Operator\n- Pytorch DDP\n- TensorFlow Distributed\n- Open MPI\n- DeepSpeed\n- Megatron\n- Horovod\n- Apla\n- ...\n\n### ML Serving\n- Kserve\n- Seldon\n- VLLM\n- TGT\n- Skypilot\n- ...\n\n### CI\/CD - Delivery\n- Kubeflow Pipelines\n- Mlflow\n- TFX\n- BentoML\n- MLRun\n- ...\n\n### Data Science\n- Jupyter\n- Kubeflow Notebooks\n- PyTorch\n- TensorFlow\n- Apache Zeppelin\n- ...\n\n### Workload Observability\n- Prometheus\n- Influxdb\n- Grafana\n- Weights and Biases (wandb)\n- OpenTelemetry\n- ...\n\n### AutoML\n- Hyperopt\n- Optuna\n- Kubeflow Katib\n- NNI\n- ...\n\n### Governance \u0026 Policy\n- Kyverno\n- Kyverno-JSON\n- OPA\/Gatekeeper\n- StackRox Minder\n- ...\n\n### Data Architecture\n- ClickHouse\n- Apache Pinot\n- Apache Druid\n- Cassandra\n- ScyllaDB\n- Hadoop HDFS\n- Apache HBase\n- Presto\n- Trino\n- Apache Spark\n- Apache Flink\n- Kafka\n- Pulsar\n- Fluid\n- Memcached\n- Redis\n- Alluxio\n- Apache Superset\n- ...\n\n### Vector Databases\n- Milvus\n- Chroma\n- Weaviate\n- Quadrant\n- Pinecone\n- Extensions\n  - Redis\n  - Postgres SQL\n  - ElasticSearch\n- ...\n\n### Model\/LLM Observability\n- Trulens\n- Langfuse\n- Deepchecks\n- OpenLLMetry\n- ...\n\n## Summary\n\nFinally, let me summarizes the following key points:\n\n- **Role of the Open Source Community**: The whitepaper clearly points out the role of the open-source community in advancing Cloud Native AI, including accelerating innovation and reducing costs through open-source projects and extensive collaboration.\n\n- **Importance of Cloud Native Technologies**: Cloud Native AI is built and deployed according to Cloud Native principles, highlighting the importance of repeatability and scalability. Cloud Native technologies provide an efficient development and runtime environment for AI applications, especially in terms of resource scheduling and service scalability.\n\n- **Challenges Exist**: Despite the many advantages brought by Cloud Native AI, there are still challenges in data preparation, model training resource requirements, and model security and isolation.\n\n- **Future Development Directions**: The whitepaper proposes development paths including optimizing resource scheduling algorithms to support AI workloads, developing new service mesh technologies to enhance performance and security, and leveraging open-source projects and community collaboration to further promote technological innovation and standardization.\n\n- **Key Technological Components**: Key technologies involved in Cloud Native AI include containers, microservices, service meshes, and serverless computing. Kubernetes plays a central role in deploying and managing AI applications, while service mesh technologies such as Istio and Envoy provide necessary traffic management and security.\n\nFor more details, please download the [Cloud Native AI Whitepaper](https:\/\/www.cncf.io\/reports\/cloud-native-artificial-intelligence-whitepaper\/).\n', '\/en\/blog\/cloud-native-ai-whitepaper\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">During KubeCon EU 2024, CNCF released its first Cloud Native Artificial Intelligence (CNAI) whitepaper. This article provides an in-depth analysis of the content of this whitepaper.</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/en/blog/tetrate-vulnerability-scaner/">TVS: Istio and Envoy CVE Scanning Solution</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               Apr 12, 2024</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/en/categories/istio"> 
             Istio
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('TVS: Istio and Envoy CVE Scanning Solution', 'This article will introduce Tetrate’s newly launched tool – Tetrate Vulnerability Scanner (TVS), a CVE scanner customized for Istio and Envoy. ', '\nThis article will introduce Tetrate’s newly launched tool – [Tetrate Vulnerability Scanner (TVS)](https:\/\/docs.tetrate.io\/istio-subscription\/tools\/tvs\/), a CVE scanner customized for Istio and Envoy. Before diving into the specific features of TVS, let’s briefly review the concept of CVE and its core role in software security.\n\n## Overview of CVE\n\nCVE (Common Vulnerabilities and Exposures) is a public vulnerability database maintained by MITRE Corporation. It provides a standardized way to reference vulnerabilities in open-source software. Each CVE record has an identifier, description, and at least one public reference. CVE does not provide severity ratings for vulnerabilities. CVEs are not only an important resource for cybersecurity professionals but also a tool for developers and organizations to receive critical security updates. CVE Numbering Authorities (CNAs) are an integral part of the CVE program, assigning unique IDs to new CVEs. These IDs help find information related to vulnerabilities, including severity ratings (maintained by NIST’s NVD), affected software systems, and steps for remediation and damage control. For example, the well-known Log4j vulnerability in 2021 ([CVE-2021-44228](https:\/\/www.cve.org\/CVERecord?id=CVE-2021-44228)) had a severity rating of 10 due to its wide impact.\n\n### Practical Scenarios for CVEs\n\nIntegrating CVE scanning into CI\/CD pipelines is a common practice aimed at automatically identifying and preventing code with known vulnerabilities from entering the main branch. This approach helps ensure that applications do not rely on third-party packages or libraries with security vulnerabilities, enhancing application security. For example, GitHub’s [Dependabot](https:\/\/docs.github.com\/en\/code-security\/supply-chain-security\/understanding-your-software-supply-chain\/about-supply-chain-security#what-is-dependabot) can automatically detect CVEs in project dependencies and suggest fixes, making it an effective tool for maintaining project security. You may receive CVE notifications like [jQuery Cross-Site Scripting vulnerability](https:\/\/github.com\/advisories\/GHSA-257q-pv89-v3xv) whenever there is a vulnerability in your PR or commit. Then, you can choose to tolerate the vulnerability or apply a patch.\n\n## What is TVS?\n\nIstio often releases CVE notices on its official website, such as [ISTIO-SECURITY-2024-001](https:\/\/istio.io\/latest\/news\/security\/istio-security-2024-001\/). Previously, you had to track these notices manually, but now you can automate CVE scanning tasks with TVS, significantly reducing the workload of security teams.\n\nThe following figure shows the result of TVS.\n\n![TVS CLI](tvs.jpg)\n\nCurrently, TVS only provides a command-line tool, and it will be integrated as a service into TIS in the future.\n\nThe following diagram illustrates the workflow of TVS.\n\n\u0060\u0060\u0060mermaid \u0022TVS Workflow\u0022\ngraph TD\n    A([Start]) --\u003e B(Istio Containers Installed)\n    B --\u003e C(Collect SHA Digests)\n    C --\u003e D(Send Digests to Tetrate\u0027s APIs)\n    D --\u003e E{Is CVE Detected?}\n    E --\u003e|Yes| F[Log SHA Digests Without Personal Info]\n    E --\u003e|No| G[End, No Action Required]\n    F --\u003e H[Notify Users]\n    H --\u003e I[Apply Patches\/Workarounds]\n    I --\u003e J([End])\n\u0060\u0060\u0060\n\n![TVS Workflow](9232ba9319ac498b7fcf50bb60bff86b.svg)\n\n\n\n1. Begins after Istio installation.\n2. Collects SHA digests of installed Istio containers.\n3. Sends digests to Tetrate’s API.\n4. API detects CVE presence.\n   - If CVE is detected, logs SHA digests without personal information and notifies users.\n   - If no CVE is detected, no action is required.\n5. Upon receiving notification, users apply patches or mitigations.\n6. Process ends.\n\nTVS is available for free download and use by everyone. However, registration is required before performing CVE scans, as outlined in the [TIS documentation](https:\/\/docs.tetrate.io\/istio-subscription\/tools\/tvs\/).\n\n## Supply Chain Security Recommendations\n\nA [report](https:\/\/www.slim.ai\/blog\/container-report-2023) indicates that even the latest versions of the most popular containers have hundreds of CVEs.\n\nHere are some recommendations for ensuring security:\n\n- Start vulnerability scanning and remediation early, rather than waiting until the end.\n- Integrate vulnerability scanning tools into CI\/CD.\n- Regularly update Istio and Envoy to the latest versions.\n- Use Istio’s officially released [distroless images](https:\/\/istio.io\/latest\/docs\/ops\/configuration\/security\/harden-docker-images\/) or [TID](https:\/\/docs.tetrate.io\/istio-distro\/) to reduce the attack surface and minimize vulnerabilities.\n- Follow the [best practices for the software supply chain](https:\/\/github.com\/cncf\/tag-security\/blob\/main\/supply-chain-security\/supply-chain-security-paper\/sscsp) introduced by CNCF.\n- Follow [Istio security best practices](https:\/\/istio.io\/latest\/docs\/ops\/best-practices\/security\/).\n\n## Unique Value of TVS\n\nTVS provides a convenient CVE scanning operation through its command-line tool and is planned to be integrated into Kubernetes and Tetrate Istio Subscription (TIS) in the future to further simplify CVE management processes for Istio and Envoy. TIS provides CVE patches and backward compatibility support for up to 14 months from the Istio release, helping users get security updates on time while keeping the system stable.\n\nTVS is freely available for all users to download and use, with simple registration required before performing CVE scans. Additionally, you can register on the [Istio and Envoy alerts and patches page](https:\/\/tetrate.io\/register-for-istio-and-envoy-security-bulletins\/) to receive CVE notifications and patches as soon as they are available. For more information, refer to the [TIS documentation](https:\/\/docs.tetrate.io\/istio-subscription\/tools\/tvs\/).\n\nBy adopting TVS, an automated CVE scanning tool, enterprises can more effectively identify and address security vulnerabilities in Istio and Envoy, enhance infrastructure security, and reduce the burden on security teams, thereby promoting efficient security management processes.\n\n---\n\n*This blog was initially published at [tetrate.io](https:\/\/tetrate.io\/blog\/tvs-istio-and-envoy-cve-scanning-solution\/) .*\n', '\/en\/blog\/tetrate-vulnerability-scaner\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">This article will introduce Tetrate’s newly launched tool – Tetrate Vulnerability Scanner (TVS), a CVE scanner customized for Istio and Envoy. </p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
          <div class="col-12">
 
 
 
 
 
 
 
 
 
 
 
 <nav aria-label="Page navigation">
   <ul class="pagination justify-content-center">
     
     
     <li class="page-item">
       <a class="page-link" href="/en/blog/">
         ««
       </a>
     </li>
     
     
     
     <li class="page-item">
       <a href="/en/blog/page/2/" class="page-link">
         «
       </a>
     </li>
     
     
     
       
       
       
         
         
         
           
           
             
           
         
         
         
       
       
       
       
         <li class="page-item">
           <a href="/en/blog/" class="page-link">
             1
           </a>
         </li>
       
     
       
       
       
         
         
         
           
           
             
           
         
         
         
       
       
       
       
         <li class="page-item">
           <a href="/en/blog/page/2/" class="page-link">
             2
           </a>
         </li>
       
     
       
       
       
         
         
         
           
           
             
           
         
         
         
       
       
       
       
         <li class="page-item page-item active ">
           <a href="/en/blog/page/3/" class="page-link">
             3
           </a>
         </li>
       
     
       
       
       
         
         
         
           
           
             
           
         
         
         
       
       
       
       
         <li class="page-item">
           <a href="/en/blog/page/4/" class="page-link">
             4
           </a>
         </li>
       
     
       
       
       
         
         
         
           
           
             
           
         
         
         
       
       
       
       
         <li class="page-item">
           <a href="/en/blog/page/5/" class="page-link">
             5
           </a>
         </li>
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
     
     
     <li class="page-item">
       <a href="/en/blog/page/4/" class="page-link">
         »
       </a>
     </li>
     
     
     
     <li class="page-item">
       <a class="page-link" href="/en/blog/page/9/">
         »»
       </a>
     </li>
     
   </ul>
 </nav>
 
</div>

        </div>
      </div>
      <!-- sidebar -->
      <aside class="col-lg-4 order-1 order-lg-2 d-none d-sm-block">
          <div class="sidebar">
          <!-- categories -->
<div class="blog-categories mb-4">
  <p class="sidebar-title">
      Columns
  </p>
  
  
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
  
  <div class="bg-gray">
      
        <a href="/en/categories/istio" class="sidebar-item">
            <span>Istio</span>
            <span>(50)</span>
        </a>
      
        <a href="/en/categories/service-mesh" class="sidebar-item">
            <span>Service Mesh</span>
            <span>(12)</span>
        </a>
      
        <a href="/en/categories/envoy" class="sidebar-item">
            <span>Envoy</span>
            <span>(6)</span>
        </a>
      
        <a href="/en/categories/cloud-native" class="sidebar-item">
            <span>Cloud Native</span>
            <span>(5)</span>
        </a>
      
        <a href="/en/categories/essays" class="sidebar-item">
            <span>Essays</span>
            <span>(5)</span>
        </a>
      
        <a href="/en/categories/ai" class="sidebar-item">
            <span>AI</span>
            <span>(2)</span>
        </a>
      
        <a href="/en/categories/kubernetes" class="sidebar-item">
            <span>Kubernetes</span>
            <span>(2)</span>
        </a>
      
        <a href="/en/categories/open-source" class="sidebar-item">
            <span>Open Source</span>
            <span>(2)</span>
        </a>
  </div>
</div>

<div class="blog-categories mb-4">
  <p class="sidebar-title">
      Book
  </p>
  
  
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
  
  <div class="bg-gray">
      
        <a href="/en/categories/translation" class="sidebar-item">
            <span>Translation</span>
            <span>(6)</span>
        </a>
      
        <a href="/en/categories/original" class="sidebar-item">
            <span>Original</span>
            <span>(2)</span>
        </a>
  </div>
</div>





          </div>
      </aside>
      <!-- /sidebar -->
    </div>
  </div>
</section>




<footer>
  
  <div class="footer bg-footer section-sm border-bottom overlay ">
    <div class="container-xl">
      <div class="row">
        <div class="col col-xl-4 d-sm-none mb-2 mb-lg-0 d-xl-block d-none">
          
          <p class="h3 text-white mb-4 text-uppercase">Contact</p>
          
          <ul class="list-unstyled">
            
            
            <li class="mb-4 text-color">Jimmy&rsquo;s LinkedIn</li>
            
            
            <li class="mb-4"><img src="/images/jimmysong-linkedin.png" width="118px" height="118px" alt="footer image"></li>
            
            
            
          
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">Blog</p>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/en/blog/istio-ambient-inpod-iptables/">In-Pod IPtables Rule Injection in Istio Ambient Mode Explained</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/blog/istio-ambient-traffic-interception/">Detailed Explanation of Transparent Traffic Interception in Istio ambient mode</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/blog/migrate-to-istio-telemetry-api/">Migrating from MeshConfig to Istio Telemetry API: Enhancing Observability and Flexibility in the Mesh</a></li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">links</p>
          <ul class="list-unstyled">
            
            <li class="mb-3">
              <a class="text-color" href="/awesome-cloud-native/" >
                  Awesome Cloud Native
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://gateway.envoyproxy.io" target="_blank" rel="noopener noreferrer">
                  Envoy Gateway
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://istio.io" target="_blank" rel="noopener noreferrer">
                  Istio
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://tetrate.io/?jimmysong" target="_blank" rel="noopener noreferrer">
                  Tetrate - Service Mesh Company
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://docs.tetrate.io/istio-subscription/" target="_blank" rel="noopener noreferrer">
                  Tetrate Istio Subscription
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">Courses</p>
          <ul class="list-unstyled">
            
            <li class="mb-3">
              <a class="text-color" href="https://academy.tetrate.io/courses/envoy-fundamentals" target="_blank" rel="noopener noreferrer">
                  Envoy Fundamentals
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://academy.tetrate.io/courses/istio-fundamentals" target="_blank" rel="noopener noreferrer">
                  Istio Fundamentals
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">new notice</p>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/en/notice/kubecon-china-2024-panel/">KubeCon China 2024 panel Preview: Istio and Modern API Gateways – Leading the Future of Service Mesh</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/notice/website-revamp-notice/">Website Revamp Notice</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/notice/kubecon-eu-2024/">See you in KubeCon Paris!</a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>

  
  <div class="copyright py-4 bg-footer overlay">
    <div class="container-xl">
      <div class="row">
        <div class="col-sm-6 text-sm-left text-center">
          <p class="mb-0 text-color">© 2017-2024 Jimmy Song All Right Reserved</p>
        </div>
        <div class="col-sm-6 text-sm-right text-center">
          <ul class="list-inline">
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://twitter.com/jimmysongio" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-x-twitter text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="/en/contact/" >
                    <i class="fa-brands fa-weixin text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://github.com/rootsongjc" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-github text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://linkedin.com/in/jimmysongio" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-linkedin text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="mailto:rootsongjc@gmail.com" >
                    <i class="fa-solid fa-envelope text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="/en/blog/index.xml" >
                    <i class="fa-solid fa-rss text-white"></i>
              </a>
            </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<!-- JS Plugins -->

<script src="/plugins/popper/popper.min.js"></script>

<script src="/plugins/bootstrap/bootstrap.min.js"></script>

<script src="/plugins/slick/slick.min.js"></script>

<script src="/plugins/filterizr/jquery.filterizr.min.js"></script>

<script src="/plugins/search/fuse.min.js"></script>

<script src="/plugins/search/mark.js"></script>

<script src="/plugins/hex_md5/hex_md5.js"></script>

<script src="/plugins/anchor/anchor.min.js"></script>

<script src="/plugins/tocbot/tocbot.min.js"></script>

<script src="/plugins/bigger-picture/bigger-picture.min.js"></script>


<!-- Main Script -->

<script src="/js/script.min.f94c22b1d478bfc9e2e0a7d954429e47b7e6d36edd423758482e04154ae1842e.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-ESY906ZWZ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ESY906ZWZ0');
</script>


<!-- Baidu analysis -->
<meta name="baidu-site-verification" content="g8IYR9SNLF" />





<script>
    anchors.add();
</script>






<script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script>






  





<script src="/js/wowchemy-search.min.ce03c611044441cf6e84f9e4bef20818.js" type="module"></script>
<script id="search-hit-fuse-template" type="text/x-template">
  <div class="search-hit" id="summary-{{key}}">
    <div class="search-hit-content border-bottom">
      <div class="search-hit-name">
        <div class='search-hit-link'><a href="{{relpermalink}}">{{title}}</a></div>
        <div class="search-hit-metadata d-flex">
            <span class="mr-1"><i class="fa-regular fa-calendar mr-1"></i>{{date}}</span>
            <span class="mr-1"><i class="fa-regular fa-folder-open mr-1"></i>{{section}}</span>
            <span class="d-sm-block d-none"><i class="fa-solid fa-link mr-1"></i>{{relpermalink}}</span>
        </div>
        <div class="search-hit-description">{{snippet}}</div>
      </div>
    </div>
  </div>
</script>



    </body>
</html>
