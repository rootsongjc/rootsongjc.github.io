<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="703" height="486" version="1.1" viewBox="-4644 -807 703 486"><defs><marker id="FilledArrow_Marker" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker></defs><g id="Argo_Rollouts_with_Istio" fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>Argo Rollouts with Istio</title><rect width="703" height="486" x="-4644" y="-807" fill="#fff"/><g id="Argo_Rollouts_with_Istio_Layer_1"><title>Layer 1</title><g id="Graphic_40"><rect width="702.025" height="463.707" x="-4643.15" y="-785.44" fill="#fff"/></g><g id="Graphic_38"><rect width="286.299" height="70.866" x="-4257.025" y="-584.888" fill="#fff"/><path stroke="gray" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M -4257.025 -584.8884 L -3970.726 -584.8884 L -3970.726 -514.02225 L -4257.025 -514.02225 Z"/></g><g id="Graphic_2"><rect width="128.976" height="51.024" x="-4535.433" y="-762.52" fill="#f15623"/><text fill="#fff" transform="translate(-4530.433 -746.2319)"><tspan x="10.752" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">VirtualService</tspan></text></g><g id="Graphic_3"><rect width="128.976" height="51.024" x="-4612.677" y="-603.779" fill="#000"/><text fill="#fff" transform="translate(-4607.677 -587.4917)"><tspan x="6.896" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">Service: stable</tspan></text></g><g id="Graphic_4"><rect width="128.976" height="51.024" x="-4455.354" y="-603.779" fill="#000"/><text fill="#fff" transform="translate(-4450.3544 -587.4917)"><tspan x="4.528" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">Service: canary</tspan></text></g><g id="Line_6"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M -4470.945 -711.4961 L -4470.945 -657.6378 L -4548.189 -657.6378 L -4548.189 -613.6795"/></g><g id="Line_7"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M -4470.945 -711.4961 L -4470.945 -657.6378 L -4390.866 -657.6378 L -4390.866 -613.6795"/></g><g id="Graphic_9"><rect width="128.976" height="70.866" x="-4612.677" y="-469.134" fill="#000"/><text fill="#fff" transform="translate(-4607.677 -442.9248)"><tspan x="20.824" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">ReplicaSet</tspan></text></g><g id="Graphic_10"><rect width="128.976" height="70.866" x="-4455.354" y="-469.134" fill="#000"/><text fill="#fff" transform="translate(-4450.3544 -442.9248)"><tspan x="20.824" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">ReplicaSet</tspan></text></g><g id="Graphic_11"><rect width="180.344" height="24" x="-4561.117" y="-697.442" fill="#fff"/><text fill="#000" transform="translate(-4556.117 -692.4418)"><tspan x="0" y="11" fill="#000" font-family="Helvetica" font-size="12">Route and change hosts’ weight</tspan></text></g><g id="Line_12"><line x1="-4548.189" x2="-4548.189" y1="-552.756" y2="-479.034" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_13"><line x1="-4390.866" x2="-4390.866" y1="-552.756" y2="-479.034" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Graphic_16"><rect width="214.1" height="24" x="-4577.995" y="-522.945" fill="#fff"/><text fill="#000" transform="translate(-4572.9947 -517.9449)"><tspan x="0" y="11" fill="#000" font-family="Helvetica" font-size="12">Select with rollouts-pod-template-hash</tspan></text></g><g id="Graphic_18"><text fill="#000" transform="translate(-4219.7076 -355.0945)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Subset based traffic routing</tspan></text></g><g id="Graphic_19"><rect width="128.976" height="51.024" x="-4178.364" y="-762.52" fill="#f15623"/><text fill="#fff" transform="translate(-4173.364 -746.2319)"><tspan x="10.752" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">VirtualService</tspan></text></g><g id="Graphic_20"><rect width="230.131" height="24" x="-4586.01" y="-391.181" fill="#fff"/><text fill="#000" transform="translate(-4581.0104 -386.1811)"><tspan x="0" y="11" fill="#000" font-family="Helvetica" font-size="12">Label rollouts-pod-template-hash injected</tspan></text></g><g id="Graphic_21"><rect width="88.679" height="51.024" x="-4236.876" y="-571.256" fill="#000"/><text fill="#fff" transform="translate(-4231.8764 -567.7442)"><tspan x="12.035" y="17" fill="#fff" font-family="Helvetica Neue" font-size="16">Subset</tspan> <tspan y="17" fill="#fff" font-family="PingFang SC" font-size="16">: </tspan> <tspan x="16.979" y="39" fill="#fff" font-family="PingFang SC" font-size="16">stable</tspan></text></g><g id="Graphic_24"><rect width="128.976" height="51.024" x="-4178.364" y="-666.888" fill="#f15623"/><text fill="#fff" transform="translate(-4173.364 -650.60005)"><tspan x="3.184" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">DestinationRule</tspan></text></g><g id="Graphic_26"><rect width="128.976" height="70.866" x="-4257.025" y="-469.134" fill="#000"/><text fill="#fff" transform="translate(-4252.025 -442.9248)"><tspan x="20.824" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">ReplicaSet</tspan></text></g><g id="Graphic_25"><rect width="128.976" height="70.866" x="-4099.702" y="-469.134" fill="#000"/><text fill="#fff" transform="translate(-4094.7024 -442.9248)"><tspan x="20.824" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">ReplicaSet</tspan></text></g><g id="Graphic_27"><rect width="230.131" height="24" x="-4228.941" y="-391.181" fill="#fff"/><text fill="#000" transform="translate(-4223.941 -386.1811)"><tspan x="0" y="11" fill="#000" font-family="Helvetica" font-size="12">Label rollouts-pod-template-hash injected</tspan></text></g><g id="Line_31"><line x1="-4113.876" x2="-4113.876" y1="-711.496" y2="-676.788" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Graphic_32"><rect width="193.018" height="24" x="-4210.384" y="-706.096" fill="#fff"/><text fill="#000" transform="translate(-4205.3844 -701.0965)"><tspan x="0" y="11" fill="#000" font-family="Helvetica" font-size="12">Route and change subsets’ weight</tspan></text></g><g id="Graphic_33"><rect width="88.679" height="51.024" x="-4079.554" y="-571.256" fill="#000"/><text fill="#fff" transform="translate(-4074.5536 -564.1922)"><tspan x="11.923" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">Subset: </tspan> <tspan x="15.339" y="33.448" fill="#fff" font-family="Helvetica Neue" font-size="16">canary</tspan></text></g><g id="Line_34"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M -4113.8756 -615.8642 L -4113.8756 -593.5601 L -4192.537 -593.5601 L -4192.537 -581.156"/></g><g id="Line_35"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M -4113.8756 -615.8642 L -4113.8756 -593.5601 L -4035.214 -593.5601 L -4035.214 -581.156"/></g><g id="Line_36"><line x1="-4192.537" x2="-4192.537" y1="-520.232" y2="-479.034" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_37"><line x1="-4035.214" x2="-4035.214" y1="-520.232" y2="-479.034" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Graphic_30"><rect width="214.1" height="24" x="-4220.925" y="-506.683" fill="#fff"/><text fill="#000" transform="translate(-4215.9254 -501.68313)"><tspan x="0" y="11" fill="#000" font-family="Helvetica" font-size="12">Select with rollouts-pod-template-hash</tspan></text></g><g id="Graphic_39"><rect width="63.056" height="29.464" x="-4145.404" y="-560.476" fill="#fff"/><text fill="#000" transform="translate(-4140.4036 -554.9682)"><tspan x=".016" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Service</tspan></text></g><g id="Graphic_41"><text fill="#000" transform="translate(-4568.177 -355.0945)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Host based traffic routing</tspan></text></g><g id="Graphic_42"><rect width="323.858" height="412.346" x="-4632.874" y="-772.441" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="Graphic_43"><rect width="323.858" height="412.346" x="-4275.805" y="-772.441" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g></g></g></svg>