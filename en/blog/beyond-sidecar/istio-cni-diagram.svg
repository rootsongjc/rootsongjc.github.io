<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="979" height="558" version="1.1" viewBox="-79 446 979 558"><defs><marker id="FilledArrow_Marker" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker></defs><g id="Canvas_1" fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>Canvas 1</title><rect width="979" height="558" x="-79" y="446" fill="#fff"/><g id="Canvas_1_Layer_1"><title>Layer 1</title><g id="Graphic_4"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 205.5 482.5 L 867.5 482.5 C 869.7091 482.5 871.5 484.29086 871.5 486.5 L 871.5 963.3588 C 871.5 965.5679 869.7091 967.3588 867.5 967.3588 L 205.5 967.3588 C 203.29086 967.3588 201.5 965.5679 201.5 963.3588 L 201.5 486.5 C 201.5 484.29086 203.29086 482.5 205.5 482.5 Z"/><text fill="#000" transform="translate(206.5 943.9108)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">Node</tspan></text></g><g id="Graphic_7"><path fill="#fff" d="M 250.125 523.5 L 470.875 523.5 C 473.08414 523.5 474.875 525.29086 474.875 527.5 L 474.875 856.5 C 474.875 858.7091 473.08414 860.5 470.875 860.5 L 250.125 860.5 C 247.91586 860.5 246.125 858.7091 246.125 856.5 L 246.125 527.5 C 246.125 525.29086 247.91586 523.5 250.125 523.5 Z"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 250.125 523.5 L 470.875 523.5 C 473.08414 523.5 474.875 525.29086 474.875 527.5 L 474.875 856.5 C 474.875 858.7091 473.08414 860.5 470.875 860.5 L 250.125 860.5 C 247.91586 860.5 246.125 858.7091 246.125 856.5 L 246.125 527.5 C 246.125 525.29086 247.91586 523.5 250.125 523.5 Z"/><text fill="#000" transform="translate(251.125 837.052)"><tspan x="37.375" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">Istio CNI Plugin Pod</tspan></text></g><g id="Graphic_2"><path fill="#fff" d="M -57.5 721 L 64.5 721 C 66.70914 721 68.5 722.7909 68.5 725 L 68.5 775 C 68.5 777.2091 66.70914 779 64.5 779 L -57.5 779 C -59.70914 779 -61.5 777.2091 -61.5 775 L -61.5 725 C -61.5 722.7909 -59.70914 721 -57.5 721 Z"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M -57.5 721 L 64.5 721 C 66.70914 721 68.5 722.7909 68.5 725 L 68.5 775 C 68.5 777.2091 66.70914 779 64.5 779 L -57.5 779 C -59.70914 779 -61.5 777.2091 -61.5 775 L -61.5 725 C -61.5 722.7909 -59.70914 721 -57.5 721 Z"/><text fill="#000" transform="translate(-56.5 731.552)"><tspan x="4.144" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">Kubernetes API </tspan> <tspan x="36.896" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">Server</tspan></text></g><g id="Graphic_3"><path fill="#456bb0" d="M 704 559 L 826 559 C 828.2091 559 830 560.79086 830 563 L 830 613 C 830 615.20914 828.2091 617 826 617 L 704 617 C 701.7909 617 700 615.20914 700 613 L 700 563 C 700 560.79086 701.7909 559 704 559 Z"/><text fill="#fff" transform="translate(705 578.776)"><tspan x="5.184" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" xml:space="preserve">CNI Plugin Pod</tspan></text></g><g id="Graphic_5"><path fill="#ccc" d="M 299.5 559 L 421.5 559 C 423.70914 559 425.5 560.79086 425.5 563 L 425.5 613 C 425.5 615.20914 423.70914 617 421.5 617 L 299.5 617 C 297.29086 617 295.5 615.20914 295.5 613 L 295.5 563 C 295.5 560.79086 297.29086 559 299.5 559 Z"/><text fill="#000" transform="translate(300.5 569.552)"><tspan x="7.56" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">Istio CNI Node </tspan> <tspan x="38.96" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">Agent</tspan></text></g><g id="Graphic_6"><path fill="#ccc" d="M 299.5 721 L 421.5 721 C 423.70914 721 425.5 722.7909 425.5 725 L 425.5 775 C 425.5 777.2091 423.70914 779 421.5 779 L 299.5 779 C 297.29086 779 295.5 777.2091 295.5 775 L 295.5 725 C 295.5 722.7909 297.29086 721 299.5 721 Z"/><text fill="#000" transform="translate(300.5 731.552)"><tspan x="5.312" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">Ambient Watch </tspan> <tspan x="36.896" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">Server</tspan></text></g><g id="Graphic_8"><path fill="#456bb0" d="M 538.5 884.5 L 660.5 884.5 C 662.7091 884.5 664.5 886.2909 664.5 888.5 L 664.5 938.5 C 664.5 940.7091 662.7091 942.5 660.5 942.5 L 538.5 942.5 C 536.29086 942.5 534.5 940.7091 534.5 938.5 L 534.5 888.5 C 534.5 886.2909 536.29086 884.5 538.5 884.5 Z"/><text fill="#fff" transform="translate(539.5 904.276)"><tspan x="33.176" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" xml:space="preserve">Ztunnel</tspan></text></g><g id="Line_9"><line x1="425.5" x2="690.1" y1="588" y2="588" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_10"><line x1="360.5" x2="360.5" y1="617" y2="711.1" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_11"><line x1="295.5" x2="78.4" y1="750" y2="750" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_12"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M 425.5 772.7821 C 461.96587 786.9825 506.7658 806.9224 540.5 830 C 565.3409 846.9937 579.8961 862.7571 588.3691 875.9056"/></g><g id="Graphic_13"><path fill="#456bb0" d="M 704 719 L 826 719 C 828.2091 719 830 720.7909 830 723 L 830 773 C 830 775.2091 828.2091 777 826 777 L 704 777 C 701.7909 777 700 775.2091 700 773 L 700 723 C 700 720.7909 701.7909 719 704 719 Z"/><text fill="#fff" transform="translate(705 738.776)"><tspan x="9.488" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" xml:space="preserve">Workload Pod</tspan></text></g><g id="Graphic_14"><text fill="#000" transform="translate(493.6295 564)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">1. Listen to the UDS event</tspan></text></g><g id="Graphic_15"><rect width="146.032" height="28.448" x="287.484" y="647.098" fill="#fff"/><text fill="#000" transform="translate(292.484 652.0985)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">2. Notify pod event</tspan></text></g><g id="Graphic_16"><text fill="#000" transform="translate(101.01677 731.552)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">3. Retrieve</tspan> <tspan x="8.736" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">pod info</tspan></text></g><g id="Line_17"><line x1="425.5" x2="690.1" y1="749.679" y2="748.37" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Graphic_18"><text fill="#000" transform="translate(512.2284 730.4596)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">4. Setup the in-pod</tspan> <tspan x="1.056" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">iptables redirection</tspan></text></g><g id="Line_20"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M 662.72405 885.1748 C 692.679 869.9787 726.6088 849.8912 748.5 828 C 763.9489 812.5511 771.0085 798.5976 773.5301 786.8313"/></g><g id="Graphic_19"><rect width="264.56" height="46.896" x="601.5" y="807.302" fill="#fff"/><text fill="#000" transform="translate(606.5 812.302)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">6. Create listening socket within the</tspan> <tspan x="32.888" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">podâ€™s network namespace</tspan></text></g><g id="Graphic_21"><rect width="69.856" height="28.448" x="496.244" y="809.645" fill="#fff"/><text fill="#000" transform="translate(501.2442 814.6454)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" xml:space="preserve">5. Notify</tspan></text></g></g></g></svg>