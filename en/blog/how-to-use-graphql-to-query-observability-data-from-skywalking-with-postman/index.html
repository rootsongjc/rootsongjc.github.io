<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  
  <title>How to Use GraphQL to Query Observability Data from SkyWalking with Postman · Jimmy Song</title>
  

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This article explains how to use GraphQL to query observability data from SkyWalking with Postman. It first introduces GraphQL and SkyWalking, then explains how to set up Postman to send GraphQL queries, and finally provides some example GraphQL queries that can be used to query observability data from SkyWalking.">
  <meta name="author" content="Jimmy Song">
  <meta name="generator" content="Hugo 0.105.0">

  <!-- plugins -->
  
  <link rel="stylesheet" href="/plugins/bootstrap/bootstrap.min.css">
  
  <link rel="stylesheet" href="/plugins/slick/slick.css">
  
  <link rel="stylesheet" href="/plugins/animate/animate.css">
  
  <link rel="stylesheet" href="/plugins/venobox/venobox.css">
  
  <link rel="stylesheet" href="/plugins/themify-icons/themify-icons.css">
  
  <link rel="stylesheet" href="/plugins/hightlight/syntax.css">
  
  <link rel="stylesheet" href="/plugins/fontawesome/font-awesome.min.css">
  
  <link rel="stylesheet" href="/plugins/tocbot/tocbot.css">
  
  <link rel="stylesheet" href="/plugins/bigger-picture/bigger-picture.css">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="/scss/style.css" media="screen">

  <!--Favicon-->
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="57x57" href="images/favicon-57.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="images/favicon-72.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="images/favicon-114.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="images/favicon-144.png" />

  <link href='/opensearchdescription.xml' rel='search' title='Content search' type='application/opensearchdescription+xml'/>

  
  <!--Twitter card-->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="jimmysong.io" />
  <meta name="twitter:creator" content="@jimmysongio" />
  <meta property="og:url" content="https://jimmysong.io/en/blog/how-to-use-graphql-to-query-observability-data-from-skywalking-with-postman/" />
  <meta property="og:title" content="How to Use GraphQL to Query Observability Data from SkyWalking with Postman" />
  <meta property="twitter:title" content="How to Use GraphQL to Query Observability Data from SkyWalking with Postman" />
  
  <meta property="og:description" content="This article explains how to use GraphQL to query observability data from SkyWalking with Postman. It first introduces GraphQL and SkyWalking, then explains how to set up Postman to send GraphQL queries, and finally provides some example GraphQL queries that can be used to query observability data from SkyWalking." />
  <meta property="twitter:description" content="This article explains how to use GraphQL to query observability data from SkyWalking with Postman. It first introduces GraphQL and SkyWalking, then explains how to set up Postman to send GraphQL queries, and finally provides some example GraphQL queries that can be used to query observability data from SkyWalking." />
  
  
  <meta property="og:image" content="https://jimmysong.io/images/banner/graphql.jpg" />
  <meta property="twitter:image" content="https://jimmysong.io/images/banner/graphql.jpg" />
  
  
  
</head>
<body>
    <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></button>

<header class="fixed-top header">
  
  
  <div class="top-header py-2 bg-white">
    <div class="container">
      <div class="row no-gutters align-items-center">
        <div class="col-12 text-center">
          <ul class="list-inline">
            <li class="list-inline-item">
                <a href="https://bit.ly/3Vqrlfw" title="Download the eBook: The Current State and Future of the Istio Service Mesh" target="_blank" rel="noopener">Download the eBook: The Current State and Future of the Istio Service Mesh</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  
  
  <div class="navigation w-100  top-hider ">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light p-0">
        <a class="navbar-brand" href="/en"><img class="img-fluid" width="200px"
            src="/images/logo.svg" alt="Jimmy Song&#39;s blog"></a>
        <button class="navbar-toggler rounded-0" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
          <ul class="navbar-nav ml-auto">
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/about">About</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/blog">Blog</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="https://lib.jimmysong.io" target="_blank" rel="noopener">Book</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/notice">Notice</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/tags">Tags</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/contact">Contact</a>
              
            </li>
            
            

          
          
          <li class="nav-item">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <a class="nav-link" href="/blog/how-to-use-graphql-to-query-observability-data-from-skywalking-with-postman/">中文</a>
            
            
            
            
            
            
          </li>
          
          
          <!-- search -->
          <button id="searchOpen" class="search-btn js-search"><i class="fa fa-search text-dark"></i></button>
          
          </ul>
        </div>
      </nav>
    </div>
  </div>
</header>


    <aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6 search-title">
          <p>Search</p>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fa fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        <i class="fa fa-search" id="search-icon" aria-hidden="true"></i>
        <input name="q" id="search-query" placeholder="Input the keyword" autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Input the keyword">
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

      <div id="search-common-queries">
        
      </div>

    </section>
  </div>
</aside>

    
	
	
<section class="bg-cover page-title-section overlay" style="background-image: url('/images/backgrounds/page-title.webp'),url('/images/backgrounds/page-title.webp');">
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <ul class="list-inline custom-breadcrumb">
                    <li class="list-inline-item h2"><a class="text-white font-secondary" href="/en/blog">
            
            
              
              Blogs
              
            
          </a></li>
                    <li class="list-inline-item"><i class="ti-angle-right text-white"></i></li>
                    <li class="list-inline-item text-white h3 font-secondary">How to Use GraphQL to Query Observability Data From SkyWalking With Postman</li>
                </ul>
                <p class="text-white">This article explains how to use GraphQL to query observability data from SkyWalking with Postman. It first introduces GraphQL and SkyWalking, then explains how to set up Postman to send GraphQL queries, and finally provides some example GraphQL queries that can be used to query observability data from SkyWalking.</p>
            </div>
        </div>
    </div>
</section>

	


<section class="section-sm">
  <div class="container blog">
    <div class="row">
      <div class="col-lg-8 article-content">
        <div class="row">
          <div class="col-12">
            <ul class="list-inline">
              <li class="list-inline-item mr-4 mb-3 mb-md-0 text-light"><span class="font-weight-bold mr-2">Date
                  :</span>July 20, 2023</li>

              <li class="list-inline-item mr-4 mb-3 mb-md-0 text-light"><span class="font-weight-bold mr-2">Category
                  :</span><a
                  href="/en/categories/istio"> 
                  Istio</a> </li>
              <li class="list-inline-item mr-4 mb-3 mb-md-0 text-light"><span class="font-weight-bold mr-2">Word Count
                  :</span>961 words</li>
              <li class="list-inline-item mr-4 mb-3 mb-md-0 text-light"><span class="font-weight-bold mr-2">Reading Time
                  :</span>4 Minute</li>
            </ul>
          </div>
          
          <div class="col-12 my-4">
            <div class="border-bottom"></div>
          </div>
          
          <div class="col-12 content">
            
            <details class="toc-inpage d-print-none d-show-block mb-0">
  <summary class="font-weight-bold">Click to show the outline</summary>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-graphql">What Is GraphQL?</a></li>
    <li><a href="#whats-the-difference-between-graphql-and-rest-apis">What’s the Difference between GraphQL and REST APIs?</a></li>
    <li><a href="#how-do-i-query-data-from-skywalking">How Do I Query Data from SkyWalking?</a></li>
    <li><a href="#observe-graphql-queries-in-tsb">Observe GraphQL Queries in TSB</a></li>
    <li><a href="#obtain-the-bearer-token">Obtain the Bearer Token</a></li>
    <li><a href="#summary">Summary</a></li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
</details>

            
            <p>In this article, I will explain how to use <a href="https://graphql.org/" title="GraphQL" target="_blank" rel="noopener">GraphQL</a>
 to query data from <a href="https://skywalking.apache.org/" title="SkyWalking" target="_blank" rel="noopener">SkyWalking</a>
 with <a href="https://www.postman.com/" title="Postman" target="_blank" rel="noopener">Postman</a>
. It includes steps to obtain the bearer token, construct a query to retrieve load metrics for a specific service, and use GraphQL introspection to see the schema of SkyWalking GraphQL APIs. The article also provides references for further information.</p>
<h2 id="what-is-graphql">What Is GraphQL?</h2>
<p>GraphQL is a query language and runtime for APIs developed by Facebook. It provides a more efficient, powerful, and flexible alternative to traditional REST APIs by allowing clients to specify exactly what data they need and receive only that data in response. With GraphQL, clients can query multiple resources in a single request, reducing the number of roundtrips to the server and improving performance.</p>
<h2 id="whats-the-difference-between-graphql-and-rest-apis">What’s the Difference between GraphQL and REST APIs?</h2>
<p>GraphQL allows clients to request only the data they need, while REST APIs require clients to retrieve everything in a resource regardless of whether they need it or not. Additionally, GraphQL allows clients to query multiple resources in a single request, making it more efficient and less chatty than REST APIs.</p>
<h2 id="how-do-i-query-data-from-skywalking">How Do I Query Data from SkyWalking?</h2>
<p>SkyWalking defines the communication protocol for the query stage. The SkyWalking native UI and CLI use this protocol to consistently fetch data from the backend, without needing to worry about backend updates.</p>
<p>There are two methods for querying metrics from SkyWalking:</p>
<ol>
<li><a href="https://skywalking.apache.org/docs/main/v9.4.0/en/api/query-protocol/" title="GraphQL APIs" target="_blank" rel="noopener">GraphQL APIs</a>
</li>
<li><a href="https://skywalking.apache.org/docs/main/v9.4.0/en/api/promql-service/" title="PromQL APIs" target="_blank" rel="noopener">PromQL APIs</a>
</li>
</ol>
<p>This article provides a guide on how to use GraphQL to query metrics from SkyWalking. If you are interested in the PromQL APIs, you can refer to the article<a href="https://skywalking.apache.org/blog/2023-03-17-build-grafana-dashboards-for-apache-skywalking-native-promql-support/" title=" Build Grafana dashboards for Apache SkyWalking — Native PromQL Support" target="_blank" rel="noopener"> Build Grafana dashboards for Apache SkyWalking — Native PromQL Support</a>
.Continuing with the following steps requires a TSB installation. If you don’t have one and still want to experience using GraphQL to query data in SkyWalking, you can use the free<a href="https://skywalking.apache.org/" title=" demo environment" target="_blank" rel="noopener"> demo environment</a>
 (username/password: skywalking/skywalking) provided by SkyWalking. Log in to the demo website and get a token for queries. Endpoint address for GraphQL queries is<a href="http://demo.skywalking.apache.org/graphql" title=" http://demo.skywalking.apache.org/graphql" target="_blank" rel="noopener"> http://demo.skywalking.apache.org/graphql</a>
. The steps to construct the query are the same as described below.</p>
<h2 id="observe-graphql-queries-in-tsb">Observe GraphQL Queries in TSB</h2>
<p>Before we use Postman to construct our own GraphQL query, let’s first observe how TSB obtains data from SkyWalking.</p>
<ol>
<li>Open Chrome DevTools and switch to the Network tab.</li>
<li>Visit the <strong>Organization – Services</strong> tab on the website.</li>
</ol>
<p>Watch the network request list and right-click on the one of the graphql requests, like in the following image:</p>
<p><figure class="mx-auto text-center">
  
  
  
  
    
    <img src="/en/blog/how-to-use-graphql-to-query-observability-data-from-skywalking-with-postman/f1.jpg" data-img="/en/blog/how-to-use-graphql-to-query-observability-data-from-skywalking-with-postman/f1.jpg" data-width="2048" data-height="1440" alt="image" data-caption="Figure 1: Chrome DevTool">
    
  
  <figcaption>Figure 1: Chrome DevTool</figcaption>
</figure>
</p>
<p>The curl commands you see will look like this. Execute the command in your terminal, and you will get a list of services managed by TSB from SkyWalking.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl <span class="s1">&#39;&lt;https://saturn.tetrate.work/ui/graphql&gt;&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Accept-Language: en,zh-CN;q=0.9,zh;q=0.8,en-US;q=0.7,zh-TW;q=0.6&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Cache-Control: no-cache&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Client-Timestamp: 1686104776136&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Connection: keep-alive&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Cookie: ...&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Origin: &lt;https://saturn.tetrate.work&gt;&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Pragma: no-cache&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Referer: &lt;https://saturn.tetrate.work/mp/services&gt;&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Request-Id: ...&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Sec-Fetch-Dest: empty&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Sec-Fetch-Mode: cors&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;Sec-Fetch-Site: same-origin&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;X-Bridge-Csrf-Token: IOmJszLAqY3TRIUNhTuGu7vQgnfQY1FtgYFm+l/+Mu4EmVQU5T8EaQ7bngkCv4hQ12ZGids+I21pHMdepE9/qQ==&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;X-Csrf-Token: xTbxZerD3t8N3PaS7nbjKCfxk1Q9dtvvrx4D+IJohHicb0VfB4iAZaP0zh1eXDWctQyCYZWaKLhAYT3M6Drk3A==&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;accept: application/json&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;sec-ch-ua: &#34;Not.A/Brand&#34;;v=&#34;8&#34;, &#34;Chromium&#34;;v=&#34;114&#34;, &#34;Google Chrome&#34;;v=&#34;114&#34;&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;sec-ch-ua-mobile: ?0&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s1">&#39;sec-ch-ua-platform: &#34;macOS&#34;&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --data-raw <span class="s1">$&#39;{&#34;query&#34;:&#34;query ServiceRegistryListMetrics(...)}&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --compressed
</span></span></code></pre></div><p><strong>Note:</strong> <em>Some fields in the above example are too long and replaced with dots (…)</em>.</p>
<p>Next, I will guide you through constructing a query to retrieve the load metrics for a specific service.</p>
<h2 id="obtain-the-bearer-token">Obtain the Bearer Token</h2>
<p>Firstly, you need to obtain the bearer of the website. Log in to TSB UI, click on the user button in the upper right corner, and then click “Show token information”. In the pop-up window, you will see the Bearer Token, as shown in the following image.</p>
<p><figure class="mx-auto text-center">
  
  
  
  
    
    <img src="/en/blog/how-to-use-graphql-to-query-observability-data-from-skywalking-with-postman/f2.jpg" data-img="/en/blog/how-to-use-graphql-to-query-observability-data-from-skywalking-with-postman/f2.jpg" data-width="2046" data-height="1036" alt="image" data-caption="Figure 2: Get the bearer token from the TSB UI">
    
  
  <figcaption>Figure 2: Get the bearer token from the TSB UI</figcaption>
</figure>
</p>
<p><strong>Note:</strong> The validity period of the bearer token is relatively short. When it expires, you need to log in to TSB again to obtain a new token.</p>
<p>We have already deployed the<a href="https://istio.io/latest/docs/examples/bookinfo/" title=" bookinfo application" target="_blank" rel="noopener"> bookinfo application</a>
 in advance and sent some test traffic. To query the load metrics of reviews using GraphQL in the Postman client, follow these steps:</p>
<ol>
<li>Create a new GraphQL request and enter the request URL: <code>$TSB_ADDRESS/graphql</code></li>
<li>Add the <code>Authorization</code> header with the value<code> Bearer $TOKEN</code></li>
</ol>
<p>Use GraphQL Introspection to see the schema of SkyWalking GraphQL APIs. Find and click the <code>readMetricsValues</code> item. You will see the variables on the right side. Fill in the <code>condition</code> and <code>duration</code> items, as shown in the following image.</p>
<p><figure class="mx-auto text-center">
  
  
  
  
    
    <img src="/en/blog/how-to-use-graphql-to-query-observability-data-from-skywalking-with-postman/f3.jpg" data-img="/en/blog/how-to-use-graphql-to-query-observability-data-from-skywalking-with-postman/f3.jpg" data-width="2048" data-height="1164" alt="image" data-caption="Figure 3: Postman query">
    
  
  <figcaption>Figure 3: Postman query</figcaption>
</figure>
</p>
<p>The variables look like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-graphql" data-lang="graphql"><span class="line"><span class="cl"><span class="kd">query</span><span class="w"> </span><span class="nc">ReadMetricsValues</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="py">readMetricsValues</span><span class="p">(</span><span class="py">condition</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nc">name</span><span class="p">:</span><span class="w"> </span><span class="s">&#34;service_cpm&#34;</span><span class="p">,</span><span class="w"> </span><span class="nc">entity</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nc">scope</span><span class="p">:</span><span class="w"> </span><span class="nc">Service</span><span class="p">,</span><span class="w"> </span><span class="py">serviceName</span><span class="p">:</span><span class="w"> </span><span class="s">&#34;reviews&#34;</span><span class="p">,</span><span class="w"> </span><span class="nc">normal</span><span class="p">:</span><span class="w"> </span><span class="nc">true</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="py">duration</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nc">start</span><span class="p">:</span><span class="w"> </span><span class="s">&#34;2023-06-05 0625&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nc">end</span><span class="p">:</span><span class="w"> </span><span class="s">&#34;2023-06-05 0627&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nc">step</span><span class="p">:</span><span class="w"> </span><span class="nc">MINUTE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">})</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="py">label</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="py">values</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="py">values</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="py">id</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="py">value</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>Click the <strong>Query</strong> button to get the result. It should look similar to this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;readMetricsValues&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;label&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;values&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;values&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;service_cpm_202306050625_cmV2aWV3cw==.1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;service_cpm_202306050626_cmV2aWV3cw==.1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="s2">&#34;service_cpm_202306050627_cmV2aWV3cw==.1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>The above is using the SkyWalking Demo environment to test GraphQL queries. GraphQL query support is also provided in TSE, and the endpoint address is <code>https://$TSB_SERVER/graphql</code>.</p>
<p><strong>Note:</strong> The query endpoint here is different from what we see in DevTool. The GraphQL query endpoint specific to the TSB UI is <code>https://$TSB_SERVER/ui/graphql</code>.For details about the SkyWalking GraphQL Query Protocol, please refer to<a href="https://github.com/apache/skywalking-query-protocol/tree/master" title=" GitHub" target="_blank" rel="noopener"> GitHub</a>
.</p>
<h2 id="summary">Summary</h2>
<p>In this article, I have introduced how to use the GraphQL query protocol in Postman to query data in SkyWalking. You can construct your own query conditions based on the GraphQL schema of SkyWalking. This feature is also available in TSB/TSE.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://github.com/apache/skywalking-query-protocol" title="https://github.com/apache/skywalking-query-protocol" target="_blank" rel="noopener">https://github.com/apache/skywalking-query-protocol</a>
</li>
<li><a href="https://skywalking.apache.org/" title="SkyWalking Website" target="_blank" rel="noopener">SkyWalking Website</a>
</li>
</ul>
<hr>
<p><em>This blog was originally published at <a href="https://tetrate.io/blog/what-is-tproxy-and-how-does-it-work/" title="tetrate.io" target="_blank" rel="noopener">tetrate.io</a>
.</em></p>

          </div>

          <div class="col-12 mb-4">
            <div class="border-bottom">
            


<p class="edit-page">
<a href="https://github.com/rootsongjc/website/edit/master/content/en/blog/how-to-use-graphql-to-query-observability-data-from-skywalking-with-postman/index.md">
  <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Edit this page
  </a>
</p>


            </div>
          </div>
          
          <div class="col-12">
              <li class="list-inline-item mr-4 mb-3 mb-md-0 text-light">
              
              <a href="/en/tags/istio" class="badge"> 
                  Istio</a> 
              <a href="/en/tags/argo" class="badge">  
                  Argo</a> 
              <a href="/en/tags/argocd" class="badge">  
                  ArgoCD</a> 
              <a href="/en/tags/argo-rollouts" class="badge">  
                  Argo Rollouts</a> 
              <a href="/en/tags/skywalking" class="badge">  
                  SkyWalking</a> 
              <a href="/en/tags/gitops" class="badge">  
                  GitOps</a> </li>
          </div>

          
          
<div class="col-12">
<ul class="pager blog-pager">

<li class="previous">
<a href="https://jimmysong.io/en/blog/istio-1-18-released-now-with-ambient-mode-available/" data-toggle="tooltip" data-placement="top" title="Istio 1.18 Released, Now with Ambient Mode Available">&larr; Previous Post</a>
</li>
 
<li class="next">
<a href="https://jimmysong.io/en/blog/implementing-gitops-and-canary-deployment-with-argo-project-and-istio/" data-toggle="tooltip" data-placement="top" title="Implementing GitOps and Canary Deployment with Argo Project and Istio">Next Post &rarr;</a>
</li>

</ul>
</div>


          
          
          <div class="col-12">
          
           <script src="https://giscus.app/client.js"
        data-repo="rootsongjc/rootsongjc.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkzMTQ1MzczNA=="
        data-category="Announcements"
        data-category-id="DIC_kwDOAd_yJs4CPNtR"
        data-mapping="pathname"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        
        data-lang="en"
        
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

          
          </div>
        </div>
      </div>
      <!-- sidebar -->
      <aside class="col-lg-4 sidebar">
      <!-- recommend -->
      

<div class="bg-white md-4">
  <p class="sidebar-title">
  Related article
  </p>
  <!-- post-item -->
  
  <div class="media border-bottom border-color pb-3 mb-3">
    <a href="/en/blog/distributed-tracing-with-skywalking-in-istio/"><img class="mr-3 post-thumb-sm" src="/images/banner/tracing.jpg" alt="blog banner"></a>
    <div class="media-body">
      <a href="/en/blog/distributed-tracing-with-skywalking-in-istio/">
        <p class="mt-0">How to Use SkyWalking for Distributed Tracing in Istio?</p>
      </a>
      January 4, 2023
    </div>
  </div>
  
  <div class="media border-bottom border-color pb-3 mb-3">
    <a href="/en/blog/understanding-the-tls-encryption-in-istio/"><img class="mr-3 post-thumb-sm" src="/images/banner/mtls.jpg" alt="blog banner"></a>
    <div class="media-body">
      <a href="/en/blog/understanding-the-tls-encryption-in-istio/">
        <p class="mt-0">How Istio’s mTLS Traffic Encryption Works as Part of a Zero Trust Security Posture</p>
      </a>
      December 24, 2022
    </div>
  </div>
  
  <div class="media border-bottom border-color pb-3 mb-3">
    <a href="/en/blog/istio-1-18-released-now-with-ambient-mode-available/"><img class="mr-3 post-thumb-sm" src="/images/banner/istio-1-18.jpg" alt="blog banner"></a>
    <div class="media-body">
      <a href="/en/blog/istio-1-18-released-now-with-ambient-mode-available/">
        <p class="mt-0">Istio 1.18 Released, Now with Ambient Mode Available</p>
      </a>
      June 26, 2023
    </div>
  </div>
  
</div>


      <!-- /recommend -->
      <!-- toc -->
      
<div class="bg-white py-4 box-shadow mb-4 sticky-top aside-toc d-none d-sm-block">
    <p class="sidebar-title">
    Table of content
    </p>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-graphql">What Is GraphQL?</a></li>
    <li><a href="#whats-the-difference-between-graphql-and-rest-apis">What’s the Difference between GraphQL and REST APIs?</a></li>
    <li><a href="#how-do-i-query-data-from-skywalking">How Do I Query Data from SkyWalking?</a></li>
    <li><a href="#observe-graphql-queries-in-tsb">Observe GraphQL Queries in TSB</a></li>
    <li><a href="#obtain-the-bearer-token">Obtain the Bearer Token</a></li>
    <li><a href="#summary">Summary</a></li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
</div>

      <!-- /toc -->
      </aside>
      <!-- /sidebar -->
    </div>
  </div>
</section>



      
    

<footer>
  
  <div class="footer bg-footer section-sm border-bottom">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 col-sm-8 mb-5 mb-lg-0">
          
          <h4 class="text-white mb-5 text-uppercase">Follow Me</h4>
          
          <ul class="list-unstyled">
            
            
            <li class="mb-4 text-color">Fellow me on twitter</li>
            
            
            <li class="mb-4"><img src="/images/jimmysong-twitter-qr-code.webp" width="128px" alt="footer image"></li>
            
            
            
          
        </div>
        
        

        
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5 text-uppercase">Blog</h4>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/en/blog/ica-review/">A Month in Review: The Impact of Istio Certified Associate (ICA) Certification with Tetrate&#39;s Contribution</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/blog/implementing-gitops-and-canary-deployment-with-argo-project-and-istio/">Implementing GitOps and Canary Deployment with Argo Project and Istio</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/blog/how-to-use-graphql-to-query-observability-data-from-skywalking-with-postman/">How to Use GraphQL to Query Observability Data from SkyWalking with Postman</a></li>
            
          </ul>
        </div>

        
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5 text-uppercase">links</h4>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/awesome-cloud-native/" target="_blank" rel="noopener">Awesome Cloud Native</a></li>
            
            <li class="mb-3"><a class="text-color" href="https://cloudnative.to" target="_blank" rel="noopener">Cloud Native Community(China)</a></li>
            
            <li class="mb-3"><a class="text-color" href="https://tetrate.io/?jimmysong" target="_blank" rel="noopener">Tetrate - Service Mesh Company</a></li>
            
            <li class="mb-3"><a class="text-color" href="https://istio.tetratelabs.io/" target="_blank" rel="noopener">Tetrate Istio Distro</a></li>
            
          </ul>
        </div>

        
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5 text-uppercase">Courses</h4>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="https://academy.tetrate.io/courses/envoy-fundamentals" target="_blank" rel="noopener">Envoy Fundamentals</a></li>
            
            <li class="mb-3"><a class="text-color" href="https://academy.tetrate.io/courses/istio-fundamentals" target="_blank" rel="noopener">Istio Fundamentals</a></li>
            
          </ul>
        </div>

        
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5 text-uppercase">new notice</h4>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/en/notice/cloud-native-public-library/">Announcement of Cloud Native Library</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/notice/tetrate-recruit/">The Enterprise Service Mesh company Tetrate is hiring</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/notice/tetrate-istio-fundamental-courses/">Tetrate Academy Releases Free Istio Fundamentals Course</a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>

  
  <div class="copyright py-4 bg-footer">
    <div class="container">
      <div class="row">
        <div class="col-sm-9 text-sm-left text-center">
          <p class="mb-0 text-color">© 2017-2023 Jimmy Song All Right Reserved</p>
        </div>
        <div class="col-sm-3 text-sm-right text-center">
          <ul class="list-inline">
            
            <li class="list-inline-item"><a class="d-inline-block p-2" href="https://twitter.com/jimmysongio" target="_blank" rel="noopener"><i class="fa fa-twitter "></i></a></li>
            
            <li class="list-inline-item"><a class="d-inline-block p-2" href="https://github.com/rootsongjc" target="_blank" rel="noopener"><i class="fa fa-github "></i></a></li>
            
            <li class="list-inline-item"><a class="d-inline-block p-2" href="https://linkedin.com/in/jimmysongio" target="_blank" rel="noopener"><i class="fa fa-linkedin "></i></a></li>
            
            <li class="list-inline-item"><a class="d-inline-block p-2" href="mailto:jimmysong@jimmysong.io" target="_blank" rel="noopener"><i class="fa fa-envelope "></i></a></li>
            
            <li class="list-inline-item"><a class="d-inline-block p-2" href="/blog/index.xml" target="_blank" rel="noopener"><i class="fa fa-rss "></i></a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>




<!-- JS Plugins -->

<script src="/plugins/jQuery/jquery.min.js"></script>

<script src="/plugins/popper/popper.min.js"></script>

<script src="/plugins/bootstrap/bootstrap.min.js"></script>

<script src="/plugins/slick/slick.min.js"></script>

<script src="/plugins/venobox/venobox.min.js"></script>

<script src="/plugins/filterizr/jquery.filterizr.min.js"></script>

<script src="/plugins/search/fuse.min.js"></script>

<script src="/plugins/search/mark.js"></script>

<script src="/plugins/hex_md5/hex_md5.js"></script>

<script src="/plugins/anchor/anchor.min.js"></script>

<script src="/plugins/tocbot/tocbot.min.js"></script>

<script src="/plugins/bigger-picture/bigger-picture.min.js"></script>


<!-- Main Script -->

<script src="/js/script.min.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-ESY906ZWZ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ESY906ZWZ0');
</script>


<!-- Baidu analysis -->
<meta name="baidu-site-verification" content="g8IYR9SNLF" />


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?11f7d254cfa4e0ca44b175c66d379ecc";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>



<script>

var mybutton = document.getElementById("backTopBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>






<script>
    anchors.add()
</script>




<script>



(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.className = "highlight-copy-btn";
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "";
      el.className = "highlight-copy-btn fa fa-copy";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn fa fa-copy";
    copyBtn.textContent = "";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        flashCopyMessage(copyBtn, 'Copied')
        
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  
  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>




<script>
tocbot.init({
  
  tocSelector: '.aside-toc #TableOfContents',
  
  contentSelector: '.content',
  
  headingSelector: 'h1, h2, h3, h4',
  
  hasInnerContainers: false,
  collapseDepth: 3
});
</script>












<script src="/js/wowchemy-search.min.0b3293fc75f976f49fb5a3d247c91f2e.js" type="module"></script>
<script id="search-hit-fuse-template" type="text/x-template">
  <div class="search-hit" id="summary-{{key}}">
    <div class="search-hit-content">
      <div class="search-hit-name">
        <div class="article-metadata search-hit-type">{{relpermalink}}</div>
        <a href="{{relpermalink}}">{{title}}</a>
        <p class="search-hit-description">{{snippet}}</p>
      </div>
    </div>
  </div>
</script>


</body>

</html>
