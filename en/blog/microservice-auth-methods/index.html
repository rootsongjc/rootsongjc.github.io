<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  
  <title>Detailed Explanation of Common Authentication Methods in Microservices · Jimmy Song</title>
  

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <meta name="description" content="This article introduces several common authentication methods in microservices, helping you choose the appropriate authentication scheme when designing and implementing microservice systems.">
  <meta name="author" content="Jimmy Song">
  <meta name="generator" content="Hugo 0.123.7">

  <!-- CSS plugins -->
  
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
  
  <link rel="preload" href="/css/combined.38ab4e47c5642975d2df8e2aaf513aff41a8914f7e6cc83b4e2b29eaf4e7e41d.css" as="style">
  <link rel="stylesheet" href="/css/combined.38ab4e47c5642975d2df8e2aaf513aff41a8914f7e6cc83b4e2b29eaf4e7e41d.css" media="screen">
  

  <!-- Main Stylesheet -->
  
  <link rel="preload" href="/scss/style.min.00b4a6de372c636bebba4cbd5ba308aa154fb16e9e89325264f68ad9642dcbc3.css" as="style">
  <link rel="stylesheet" href="/scss/style.min.00b4a6de372c636bebba4cbd5ba308aa154fb16e9e89325264f68ad9642dcbc3.css" media="screen">

  <!-- Bigger picture css -->
  
  <link rel="stylesheet" href="/plugins/bigger-picture/bigger-picture.min.css" media="print" onload="this.media='all'">
  <!--Favicon generate by https://realfavicongenerator.net-->
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="200x200" href="/images/favicon.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">

  <link href='/opensearchdescription.xml' rel='search' title='Content search' type='application/opensearchdescription+xml'/>

  <!--Twitter card-->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="jimmysong.io" />
  <meta name="twitter:creator" content="@jimmysongio" />
  <meta property="og:url" content="https://jimmysong.io/en/blog/microservice-auth-methods/" />
  <meta property="og:title" content="Detailed Explanation of Common Authentication Methods in Microservices | Jimmy Song" />
  <meta property="twitter:title" content="Detailed Explanation of Common Authentication Methods in Microservices | Jimmy Song" />

  
  <meta property="og:description" content="This article introduces several common authentication methods in microservices, helping you choose the appropriate authentication scheme when designing and implementing microservice systems." />
  <meta property="twitter:description" content="This article introduces several common authentication methods in microservices, helping you choose the appropriate authentication scheme when designing and implementing microservice systems." />

  
  <meta property="og:image" content="https://jimmysong.io/images/banner/default.jpg" />
  <meta property="twitter:image" content="https://jimmysong.io/images/banner/default.jpg" />

  
  
</head>
<body>
<header class="fixed-top header">
  
  
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></button>
  
  <div class="navigation w-100 ">
    <div class="container-xl">
      <nav class="navbar navbar-expand-lg navbar-light p-0">
        <a class="navbar-brand" href="/en">
            
            <b>JIMMY SONG</b>
            
        </a>
        <button class="navbar-toggler rounded-0" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
          <ul class="navbar-nav ml-auto">
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/blog">Blog</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/book">Library</a>
              
            </li>
            
            
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Navigation
              </a>
              <div class="dropdown-menu">
                
                <a class="dropdown-item" href="/en/categories">Categories</a>
                
                <a class="dropdown-item" href="/en/tags">Tags</a>
                
              </div>
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/notice">Notice</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/contact">Contact</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/en/about">About</a>
              
            </li>
            
            

          
          
          <li class="nav-item">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <a class="nav-link" href="/blog/microservice-auth-methods/">中文</a>
            
            
            
            
            
            
          </li>
          
          
          <!-- search -->
           <button type="button" class="search-btn js-search" id="searchOpen" aria-label="Search">
              <div class="search-container d-flex justify-content-center">
              <span class="search-content">
                  <i class="fa fa-search"></i>
                  <span>Search</span>
              </span>
              <span class="search-shortcuts d-none d-sm-block">
                  <kbd class="cmd-key">⌘</kbd>
                  <kbd class="k-key">K</kbd>
              </span>
              </div>
          </button>
          
          </ul>
        </div>
      </nav>
    </div>
  </div>
</header>


            <aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between">
        <div class="col-6 search-title">
          <p>Search</p>
        </div>
        <div class="col-6 col-search-close">
          <div class="js-search" aria-label="Close"><i class="fa-solid fa-circle-xmark text-muted" aria-hidden="true"></i></div>
        </div>
      </div>

      <div id="search-box">
        <i class="fa-solid fa-magnifying-glass" id="search-icon" aria-hidden="true"></i>
        <input name="q" id="search-query" placeholder="Input the keyword" autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control" aria-label="Input the keyword">
        
        <div class="mt-4">
          <span>Search type: </span>
          <span>
            <input type="radio" id="all" name="search_type" value="all" checked>
            <label for="all">All</label>
            <input type="radio" id="blog" name="search_type" value="blog">
            <label for="blog">Blog</label>
            <input type="radio" id="book" name="search_type" value="book">
            <label for="book">Book</label>
            <input type="radio" id="notice" name="search_type" value="notice">
            <label for="notice">Notice</label>
          </span>
        </div>
      </div>
      
    </section>
    <section class="section-search-results">
      <div id="search-results-count" class="search-results-count"></div>
      <div id="search-hits">
        
      </div>
    </section>
  </div>
</aside>

        
        
            

<section class="bg-cover page-title-section overlay" style="background-image: url('/images/backgrounds/circle.svg'),url('/images/backgrounds/page-title.webp');background-size: cover;">
    <div class="container-xl">
        <div class="row">
            <div class="col-12">
                <p class="h1">
                    Detailed Explanation of Common Authentication Methods in Microservices
                </p>
                <p class="page-description">
                    This article introduces several common authentication methods in microservices, helping you choose the appropriate authentication scheme when designing and implementing microservice systems.
                </p>
                
                <div class="page-metadata">
                  <ul class="list-inline d-flex">
                    <li class="list-inline-item mr-2 mb-md-0"><span><i class="fa-regular fa-calendar"></i>
                        </span>May 22, 2024</li>
                    
                    <li class="list-inline-item mr-2 mb-md-0"><span><i class="fa-regular fa-folder-open"></i>
                        </span><a
                        href="/en/categories/cloud-native"> 
                        Cloud Native</a> </li>
                    
                    
                    <li class="list-inline-item mr-2 mb-md-0"><span><i class="fa-regular fa-clock"></i>
                        </span>9 Minute</li>
                    <li class="list-inline-item mr-2 mb-md-0 d-sm-block d-none"><span><i class="fa-regular fa-file-word"></i>
                        </span>1916 words</li>
                    
                  </ul>
                </div>
                
            </div>
        </div>
    </div>
</section>

        


  <div class="container-xl blog mb-4">
    <div class="row">
      <div class="col-xl-8">
        <div class="row">
          
          <div class="col-12 content py-md-3">
            
            <details class="mobile-toc d-sm-none d-block mb-0">
  <summary>Click to show the outline</summary>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#common-authentication-methods-in-microservices">Common Authentication Methods in Microservices</a></li>
    <li><a href="#jwt-authentication">JWT Authentication</a>
      <ul>
        <li><a href="#jwt-format-and-example">JWT Format and Example</a></li>
      </ul>
    </li>
    <li><a href="#oauth-20">OAuth 2.0</a>
      <ul>
        <li><a href="#oauth-20-authorization-code">OAuth 2.0 Authorization Code</a></li>
        <li><a href="#oauth-20-extensions">OAuth 2.0 Extensions</a></li>
        <li><a href="#oauth-20-authorization-process-using-github-as-an-example">OAuth 2.0 Authorization Process (Using GitHub as an Example)</a></li>
        <li><a href="#characteristics-and-use-of-access-tokens">Characteristics and Use of Access Tokens</a></li>
      </ul>
    </li>
    <li><a href="#mtls">mTLS</a></li>
    <li><a href="#basic-authentication">Basic Authentication</a>
      <ul>
        <li><a href="#basic-authentication-example">Basic Authentication Example</a></li>
      </ul>
    </li>
    <li><a href="#api-key-authentication">API Key Authentication</a>
      <ul>
        <li><a href="#api-key-example">API Key Example</a></li>
      </ul>
    </li>
    <li><a href="#summary">Summary</a></li>
  </ul>
</nav>
</details>

            
            <p>In modern microservice architectures, security is a crucial aspect. As the number of microservices increases, ensuring secure communication between services becomes a challenge. This article will introduce several common authentication methods in microservices, helping you choose the appropriate authentication scheme when designing and implementing microservice systems.</p>
<h2 id="common-authentication-methods-in-microservices">Common Authentication Methods in Microservices</h2>
<p>The table below lists several common authentication methods in microservices, comparing them from the perspectives of advantages, disadvantages, applicable scenarios, and real-world examples.</p>
<table>
<thead>
<tr>
<th>Authentication Method</th>
<th>Advantages</th>
<th>Disadvantages</th>
<th>Deployment Location</th>
<th>Applicable Scenarios</th>
<th>Typical Uses</th>
<th>Real-World Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td>JWT</td>
<td>Self-contained token, reduces server load</td>
<td>Larger token size, may increase bandwidth overhead</td>
<td>API Gateway, Between Services</td>
<td>Stateless communication between microservices</td>
<td>User authentication and authorization</td>
<td>User authentication in microservices (e.g., Auth0, Firebase)</td>
</tr>
<tr>
<td>OAuth 2.0</td>
<td>Widely supported, highly flexible</td>
<td>Complex implementation, requires additional interactions</td>
<td>API Gateway</td>
<td>Third-party application authorization</td>
<td>Third-party application access to user data</td>
<td>GitHub OAuth for third-party applications accessing GitHub data and APIs</td>
</tr>
<tr>
<td>mTLS</td>
<td>High security, prevents man-in-the-middle attacks</td>
<td>Complex certificate management, significant performance overhead</td>
<td>Between Services</td>
<td>Communication requiring high security</td>
<td>Secure communication between sensitive services</td>
<td>Service communication in banking systems</td>
</tr>
<tr>
<td>Basic Authentication</td>
<td>Simple and easy to implement</td>
<td>Insecure, easily intercepted</td>
<td>API Gateway, Between Services</td>
<td>Simple API protection</td>
<td>Simple internal services</td>
<td>Basic authentication of Kubernetes API Server</td>
</tr>
<tr>
<td>API Key Authentication</td>
<td>Simple and easy to use</td>
<td>Low security, easily abused</td>
<td>API Gateway, Between Services</td>
<td>Scenarios with low security requirements</td>
<td>Simple service access control</td>
<td>Various public APIs, such as OpenAI API</td>
</tr>
</tbody>
</table>
<p>Below we will introduce these common authentication methods in detail.</p>
<h2 id="jwt-authentication">JWT Authentication</h2>
<p>JWT (JSON Web Token) was first proposed by the IETF JSON Web Token (JWT) Working Group and was officially released as the RFC 7519 standard in 2015. The design goal of JWT is to provide a compact and self-contained way to securely transmit information between parties. Due to its ease of use and stateless nature, JWT quickly gained widespread adoption and became one of the standards for identity verification and information exchange, especially in microservices and modern web applications.</p>
<p>The following diagram shows the JWT authentication process.</p>

<figure class="mx-auto text-center">
  
  
  
    
      
        
          <img src="/en/blog/microservice-auth-methods/a990cb112a1ec1c4d6d7131c1e573e3f.svg" data-img="/en/blog/microservice-auth-methods/a990cb112a1ec1c4d6d7131c1e573e3f.svg" alt="image" data-caption="JWT Authentication Process">
        
      
    
  
  
  <figcaption>JWT Authentication Process</figcaption>
  
</figure>
<p>JWT Authentication Process Explanation:</p>
<ol>
<li>User provides credentials</li>
<li>Client requests access token</li>
<li>Authentication server returns JWT token</li>
<li>Client requests resource server with JWT token</li>
<li>Resource server validates JWT</li>
</ol>
<h3 id="jwt-format-and-example">JWT Format and Example</h3>
<p>A JWT (JSON Web Token) consists of three parts: Header, Payload, and Signature, each encoded with Base64 and concatenated with dots (.).</p>
<ol>
<li>
<p><strong>Header</strong>: The header includes the type of token and the signing algorithm.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;alg&#34;</span><span class="p">:</span> <span class="s2">&#34;HS256&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;typ&#34;</span><span class="p">:</span> <span class="s2">&#34;JWT&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Payload</strong>: The payload contains claims, which are assertions about the user or other data.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;sub&#34;</span><span class="p">:</span> <span class="s2">&#34;1234567890&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;John Doe&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;iat&#34;</span><span class="p">:</span> <span class="mi">1516239022</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Signature</strong>: The signature is generated by encoding the header and payload, and signing them with a secret using the algorithm specified in the header.</p>
<pre tabindex="0"><code>HMACSHA256(
  base64UrlEncode(header) + &#34;.&#34; +
  base64UrlEncode(payload),
  secret
)
</code></pre></li>
</ol>
<p>Below is an example of a JWT token:</p>
<pre tabindex="0"><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
</code></pre><h2 id="oauth-20">OAuth 2.0</h2>
<p>OAuth (Open Authorization) protocol was first proposed by Blaine Cook and Chris Messina in 2006. Initially, the goal was to provide an open authorization standard for Twitter. OAuth 1.0 was released in 2007, offering a standardized way for users to authorize third-party applications to access their resources. However, due to its complex signature mechanism and other security issues, it faced some limitations.</p>
<p>To overcome these shortcomings, the IETF (Internet Engineering Task Force) established the OAuth Working Group to develop a simpler, more flexible authorization protocol. In 2012, OAuth 2.0 was officially released (RFC 6749 and RFC 6750). OAuth 2.0 simplifies the authorization process, adding multiple authorization modes, such as authorization code mode, implicit mode, resource owner password credentials mode, and client credentials mode.</p>
<p>OAuth 2.0 quickly became an industry standard, widely used in various web services and applications such as Google, Facebook, GitHub, etc. Several extensions and complementary protocols (such as OpenID Connect) emerged based on it, further enhancing OAuth 2.0&rsquo;s functionality and security.</p>
<p>The development and expansion of OAuth 2.0 have made it a cornerstone of modern internet authentication and authorization, providing a flexible and secure solution to meet the evolving needs of web applications.</p>
<p>The following diagram shows the OAuth 2.0 authentication process.</p>

<figure class="mx-auto text-center">
  
  
  
    
      
        
          <img src="/en/blog/microservice-auth-methods/411d77371072e128ec3bcce199df02a1.svg" data-img="/en/blog/microservice-auth-methods/411d77371072e128ec3bcce199df02a1.svg" alt="image" data-caption="OAuth 2.0 Authentication Process">
        
      
    
  
  
  <figcaption>OAuth 2.0 Authentication Process</figcaption>
  
</figure>
<p>OAuth 2.0 Authentication Process Explanation:</p>
<ol>
<li>User requests access to resource</li>
<li>Client requests authentication</li>
<li>User logs in and authorizes</li>
<li>Authorization server returns authorization code</li>
<li>Client exchanges authorization code for access token</li>
<li>Client requests resource server with access token</li>
</ol>
<h3 id="oauth-20-authorization-code">OAuth 2.0 Authorization Code</h3>
<p>In the OAuth 2.0 authorization code mode, the authorization code is a short-term credential obtained by the client from the authorization server after user authorization, used to exchange for an access token. The authorization code is a temporary string that can be passed between the authorization server and the client to obtain a more secure access token.</p>
<h3 id="oauth-20-extensions">OAuth 2.0 Extensions</h3>
<p>OAuth 2.0 has developed many extensions to adapt to different scenarios. The table below lists some commonly used extensions, their main functions, and applicable scenarios.</p>
<table>
<thead>
<tr>
<th>Extension Name</th>
<th>Main Function</th>
<th>Applicable Scenarios</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authorization Code PKCE Extension</td>
<td>Enhances the security of the authorization code mode, prevents authorization code interception attacks</td>
<td>Public clients (e.g., mobile apps, single-page apps)</td>
</tr>
<tr>
<td>Dynamic Client Registration Protocol</td>
<td>Allows clients to dynamically register and update client information</td>
<td>Systems requiring high automation and flexibility</td>
</tr>
<tr>
<td>Token Introspection</td>
<td>Allows resource servers to verify and obtain detailed information about access tokens</td>
<td>Scenarios requiring token validity verification and detailed information</td>
</tr>
<tr>
<td>Token Revocation</td>
<td>Provides a standard interface for token revocation</td>
<td>Enhances system security and control</td>
</tr>
<tr>
<td>Device Authorization Grant</td>
<td>Allows devices with limited input capabilities to complete authentication via other devices</td>
<td>Devices with limited input capabilities (e.g., smart TVs, game consoles)</td>
</tr>
<tr>
<td>Mutual TLS Client Authentication</td>
<td>Client authentication based on mutual TLS</td>
<td>High-security application scenarios</td>
</tr>
<tr>
<td>Resource Indicators</td>
<td>Allows clients to specify the resource server to access in the authorization request</td>
<td>Support for multiple resource servers</td>
</tr>
<tr>
<td>Step-up Authentication Challenge Protocol</td>
<td>Allows resource servers to request stronger authentication (e.g., multi-factor authentication) as needed</td>
<td>Advanced authentication for high-risk operations</td>
</tr>
</tbody>
</table>
<h3 id="oauth-20-authorization-process-using-github-as-an-example">OAuth 2.0 Authorization Process (Using GitHub as an Example)</h3>
<p>GitHub uses OAuth 2.</p>
<p>0 to authorize third-party applications to access users&rsquo; GitHub data. OAuth 2.0 tokens on GitHub are called &ldquo;access tokens&rdquo; and are used for authentication and authorization to access GitHub APIs. It provides a secure, standardized way for third-party applications to access GitHub resources with user authorization. By using access tokens, applications can perform various operations on behalf of users, such as reading user information, accessing repositories, creating gists, etc. This process ensures user security and privacy while simplifying the authentication and authorization process for applications.</p>
<p>The detailed process and examples of using GitHub OAuth 2.0 tokens are as follows:</p>
<ol>
<li>
<p><strong>User Authorization</strong>: The user clicks the &ldquo;Login with GitHub&rdquo; button on the third-party application&rsquo;s interface. The application redirects the user to GitHub&rsquo;s authorization page.</p>
</li>
<li>
<p><strong>Obtain Authorization Code</strong>: The user logs in and agrees to authorize on the GitHub authorization page. GitHub redirects the user back to the application with an authorization code in the URL parameter.</p>
<p>Example:</p>
<pre tabindex="0"><code>https://yourapp.com/callback?code=AUTHORIZATION_CODE
</code></pre></li>
<li>
<p><strong>Exchange Access Token</strong>: The application server requests an access token from GitHub&rsquo;s authorization server using the authorization code.</p>
<p>Request Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">POST https://github.com/login/oauth/access_token
</span></span><span class="line"><span class="cl">Content-Type: application/json
</span></span><span class="line"><span class="cl">Accept: application/json
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;client_id&#34;</span>: <span class="s2">&#34;YOUR_CLIENT_ID&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;client_secret&#34;</span>: <span class="s2">&#34;YOUR_CLIENT_SECRET&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;code&#34;</span>: <span class="s2">&#34;AUTHORIZATION_CODE&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;redirect_uri&#34;</span>: <span class="s2">&#34;https://yourapp.com/callback&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div></li>
<li>
<p><strong>GitHub Returns Access Token</strong>: GitHub validates the request and returns an access token.</p>
<p>Response Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;access_token&#34;</span><span class="p">:</span> <span class="s2">&#34;YOUR_ACCESS_TOKEN&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;token_type&#34;</span><span class="p">:</span> <span class="s2">&#34;bearer&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scope&#34;</span><span class="p">:</span> <span class="s2">&#34;repo,gist&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
<li>
<p><strong>Use Access Token to Access Resources</strong>: The application uses the obtained access token to access the GitHub API.</p>
<p>Request Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H <span class="s2">&#34;Authorization: token YOUR_ACCESS_TOKEN&#34;</span> https://api.github.com/user
</span></span></code></pre></div><p>Response Example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;login&#34;</span><span class="p">:</span> <span class="s2">&#34;github-user&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;node_id&#34;</span><span class="p">:</span> <span class="s2">&#34;MDQ6VXNlcjE=&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;avatar_url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://github.com/images/avatar.jpg&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;Github User&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;company&#34;</span><span class="p">:</span> <span class="s2">&#34;GitHub&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;blog&#34;</span><span class="p">:</span> <span class="s2">&#34;https://example.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;location&#34;</span><span class="p">:</span> <span class="s2">&#34;Earth&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;email&#34;</span><span class="p">:</span> <span class="s2">&#34;github-user@example.com&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div></li>
</ol>
<h3 id="characteristics-and-use-of-access-tokens">Characteristics and Use of Access Tokens</h3>
<ol>
<li>
<p><strong>Scopes</strong>: The scope of an access token&rsquo;s permissions is specified by the user during authorization and can include reading user profiles, accessing user repositories, managing gists, etc. For example, in the example above, the <code>scope</code> includes <code>repo</code> and <code>gist</code>.</p>
</li>
<li>
<p><strong>Validity and Refreshing</strong>: Access tokens can be long-term or have a specified time range until the user actively revokes them.</p>
</li>
<li>
<p><strong>Secure Transmission</strong>: Access tokens should be transmitted via HTTPS to ensure they are not intercepted.</p>
</li>
</ol>
<h2 id="mtls">mTLS</h2>
<p>mTLS (Mutual TLS) is a technology that performs mutual authentication between the client and the server. It originated from the TLS (Transport Layer Security) protocol, the predecessor of which, SSL (Secure Sockets Layer), was developed by Netscape in 1995. With the increasing demand for internet security, TLS gradually evolved into a highly secure communication standard. mTLS further enhances security by requiring mutual authentication between both parties and is widely used in fields with high security requirements such as finance and healthcare.</p>
<p>The following diagram shows the mTLS authentication process.</p>

<figure class="mx-auto text-center">
  
  
  
    
      
        
          <img src="/en/blog/microservice-auth-methods/d05161fb8841d5249d43ef2e697945ab.svg" data-img="/en/blog/microservice-auth-methods/d05161fb8841d5249d43ef2e697945ab.svg" alt="image" data-caption="mTLS Authentication Process">
        
      
    
  
  
  <figcaption>mTLS Authentication Process</figcaption>
  
</figure>
<p>mTLS Authentication Process Explanation:</p>
<ol>
<li>Client and server mutually send certificates</li>
<li>Both parties validate each other&rsquo;s certificates</li>
<li>Establish secure connection</li>
</ol>
<p>For more information on TLS and mTLS, please refer to the blog post <a href="/en/blog/understanding-the-tls-encryption-in-istio/#what-is-tls-and-mtls" title="How Istio’s mTLS Traffic Encryption Works as Part of a Zero Trust Security Posture">How Istio’s mTLS Traffic Encryption Works as Part of a Zero Trust Security Posture</a>.</p>
<h2 id="basic-authentication">Basic Authentication</h2>
<p>Basic Authentication is a simple authentication mechanism defined by the HTTP/1.0 specification (RFC 1945). It involves encoding the username and password with Base64 and appending them to the HTTP request header for authentication. Due to its simplicity and ease of use, Basic Authentication was widely adopted in early web applications. However, because of its inherent security issues (such as plain text transmission being easily intercepted), it is usually used with HTTPS or replaced by more secure authentication methods in modern applications.</p>
<p>The following diagram shows the Basic Authentication process.</p>

<figure class="mx-auto text-center">
  
  
  
    
      
        
          <img src="/en/blog/microservice-auth-methods/cbaf0077dcd99163587797e51fe49518.svg" data-img="/en/blog/microservice-auth-methods/cbaf0077dcd99163587797e51fe49518.svg" alt="image" data-caption="Basic Authentication Process">
        
      
    
  
  
  <figcaption>Basic Authentication Process</figcaption>
  
</figure>
<p>Basic Authentication Process Explanation:</p>
<ol>
<li>User provides username and password</li>
<li>Client requests resource server with username and password</li>
<li>Resource server validates</li>
</ol>
<h3 id="basic-authentication-example">Basic Authentication Example</h3>
<p>Basic Authentication uses a Base64-encoded username and password for authentication. Below is an example of a Basic Authentication request using the <code>curl</code> command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -u &lt;username&gt;:&lt;password&gt; https://api.example.com/data
</span></span></code></pre></div><p>If the username is <code>admin</code> and the password is <code>password123</code>, the request example is as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -u admin:password123 https://api.example.com/data
</span></span></code></pre></div><h2 id="api-key-authentication">API Key Authentication</h2>
<p>API Key Authentication is a method of authenticating by including a pre-assigned unique key in the request. It became popular in the early 2000s with the rise of web APIs. Due to its simplicity and ease of management, API Key Authentication is widely used in various public and private APIs. Although it has lower security and is easily abused, it is still an effective means of access control in many scenarios, especially for applications that do not require high security protection.</p>
<p>The following diagram shows the API Key Authentication process.</p>

<figure class="mx-auto text-center">
  
  
  
    
      
        
          <img src="/en/blog/microservice-auth-methods/373df547422133ea5ba42e7321c3f5d4.svg" data-img="/en/blog/microservice-auth-methods/373df547422133ea5ba42e7321c3f5d4.svg" alt="image" data-caption="API Key Authentication Process">
        
      
    
  
  
  <figcaption>API Key Authentication Process</figcaption>
  
</figure>
<p>API Key Authentication Process Explanation:</p>
<ol>
<li>Client requests resource server with API Key</li>
<li>Resource server validates API Key</li>
</ol>
<h3 id="api-key-example">API Key Example</h3>
<p>An API Key is a unique identifier passed in the request for client authentication. API Keys are typically passed through HTTP request headers or URL parameters.</p>
<p>Example of API Key in HTTP request header:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -H <span class="s2">&#34;Authorization: ApiKey YOUR_API_KEY&#34;</span> https://api.example.com/data
</span></span></code></pre></div><p>Example of API Key in URL parameter:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl https://api.example.com/data?api_key<span class="o">=</span>YOUR_API_KEY
</span></span></code></pre></div><p>An API Key is usually a string containing letters and numbers, for example:</p>
<pre tabindex="0"><code>1234567890abcdef1234567890abcdef
</code></pre><h2 id="summary">Summary</h2>
<p>Choosing the right authentication method in a microservice architecture is crucial. Different authentication methods have their advantages and disadvantages in terms of security, complexity, and applicable scenarios. This article introduced five common authentication methods: JWT, OAuth 2.0, mTLS, Basic Authentication, and API Key Authentication, and provided their advantages, disadvantages, and applicable scenarios. Additionally, other common authentication methods such as SAML, LDAP, Kerberos, and OpenID Connect are also widely used in various internet application scenarios, especially in single sign-on and cross-domain authentication. I hope this information will help you choose the most suitable authentication scheme when designing and implementing microservice systems.</p>

            <div class="border-bottom mb-2"></div>
          </div>

          <div class="col-12">
            <p>Last updated on Jul 20, 2024</p>
            


            


          </div>
          
          <div class="col-12">
              <div class="list-inline-item text-light">
              
              <a href="/en/tags/microservices" class="badge"> 
                  Microservices</a> 
              <a href="/en/tags/authentication" class="badge">  
                  Authentication</a> 
              <a href="/en/tags/jwt" class="badge">  
                  JWT</a> 
              <a href="/en/tags/oauth-2.0" class="badge">  
                  OAuth 2.0</a> 
              <a href="/en/tags/mtls" class="badge">  
                  MTLS</a> 
              <a href="/en/tags/basic-authentication" class="badge">  
                  Basic Authentication</a> 
              <a href="/en/tags/api-key" class="badge">  
                  API Key</a> </div>
          </div>

          
          <div class="col-12">
            
<div class="pager blog-pager d-flex justify-content-between">
    
    <div class="previous mr-4">
        <a href="https://jimmysong.io/en/blog/hugo-instant-search-guide/" class="d-flex flex-column align-items-start">
            <span class="nav mb-2 text-color-dark">&larr; Previous Post</span>
            <span class="text-align-left">How to Add Instant Search to Your Hugo Website</span>
        </a>
    </div>
    

    
    <div class="next">
        <a href="https://jimmysong.io/en/blog/istio-cni-deep-dive/" class="d-flex flex-column align-items-end">
           <span class="nav mb-2 text-color-dark">Next Post &rarr;</span>
           <span class="text-align-right">Istio CNI Unveiled: Streamlining Service Mesh Connectivity</span>
         </a>
    </div>
     
</div>

          </div>

          
          
          
          <div class="col-12">
            <script src="https://giscus.app/client.js"
        data-repo="rootsongjc/rootsongjc.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkzMTQ1MzczNA=="
        data-category="Announcements"
        data-category-id="DIC_kwDOAd_yJs4CPNtR"
        data-mapping="pathname"
        data-reactions-enabled="0"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        
        data-lang="en"
        
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
          </div>
          
        </div>
      </div>
      <!-- sidebar -->
      <aside class="px-2 col-xl-4 py-md-3 d-none d-xl-block">
          <div class="sidebar">
          <!-- recommend -->
          





<div>
  <p class="related-sidebar-title">
  Related article
  </p>
  <!-- related-blog-item -->
    <ul class="related-list">
    
      <li>
          <a href="/en/blog/primary-remote-istio-ingress-gateway-mtls/">
            Deciphering Istio Multi-Cluster Authentication &amp; mTLS Connection
          </a>
      </li>
    
      <li>
          <a href="/en/blog/understanding-the-tls-encryption-in-istio/">
            How Istio’s mTLS Traffic Encryption Works as Part of a Zero Trust Security Posture
          </a>
      </li>
    
    </ul>
</div>


          <!-- /recommend -->
          <!-- toc -->
          
  <div class="bg-white sticky-top aside-toc">
    <p class="toc-sidebar-title">
      Table of content
    </p>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#common-authentication-methods-in-microservices">Common Authentication Methods in Microservices</a></li>
    <li><a href="#jwt-authentication">JWT Authentication</a>
      <ul>
        <li><a href="#jwt-format-and-example">JWT Format and Example</a></li>
      </ul>
    </li>
    <li><a href="#oauth-20">OAuth 2.0</a>
      <ul>
        <li><a href="#oauth-20-authorization-code">OAuth 2.0 Authorization Code</a></li>
        <li><a href="#oauth-20-extensions">OAuth 2.0 Extensions</a></li>
        <li><a href="#oauth-20-authorization-process-using-github-as-an-example">OAuth 2.0 Authorization Process (Using GitHub as an Example)</a></li>
        <li><a href="#characteristics-and-use-of-access-tokens">Characteristics and Use of Access Tokens</a></li>
      </ul>
    </li>
    <li><a href="#mtls">mTLS</a></li>
    <li><a href="#basic-authentication">Basic Authentication</a>
      <ul>
        <li><a href="#basic-authentication-example">Basic Authentication Example</a></li>
      </ul>
    </li>
    <li><a href="#api-key-authentication">API Key Authentication</a>
      <ul>
        <li><a href="#api-key-example">API Key Example</a></li>
      </ul>
    </li>
    <li><a href="#summary">Summary</a></li>
  </ul>
</nav>
  </div>



          <!-- /toc -->
          <!-- ad-->
          

          <!-- /ad -->
          </div>
      </aside>
      <!-- /sidebar -->
    </div>
  </div>




<footer>
  
  <div class="footer bg-footer section-sm border-bottom overlay ">
    <div class="container-xl">
      <div class="row">
        <div class="col col-xl-4 d-sm-none mb-2 mb-lg-0 d-xl-block d-none">
          
          <p class="h4 text-white mb-4 text-uppercase">Contact</p>
          
          <ul class="list-unstyled">
            
            
            <li class="mb-4 text-color">Jimmy&rsquo;s LinkedIn</li>
            
            
            <li class="mb-4"><img src="/images/jimmysong-linkedin.png" width="118px" height="118px" alt="footer image"></li>
            
            
            
          
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h4 text-white mb-4 text-uppercase">Blog</p>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/en/blog/how-to-integrate-third-party-registry-with-istio/">How to Integrating Third-Party Service Registries with Istio?</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/blog/envoy-gateway-oidc/">How to Implement Single Sign-On (SSO) with OIDC in API Gateway using Envoy Gateway?</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/blog/istio-delta-xds-for-envoy/">Introduction to Envoy xDS and Configuration Distribution in Istio</a></li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h4 text-white mb-4 text-uppercase">links</p>
          <ul class="list-unstyled">
            
            <li class="mb-3">
              <a class="text-color" href="/awesome-cloud-native/" >
                  Awesome Cloud Native
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://gateway.envoyproxy.io" target="_blank" rel="noopener noreferrer">
                  Envoy Gateway
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://istio.io" target="_blank" rel="noopener noreferrer">
                  Istio
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://tetrate.io/?jimmysong" target="_blank" rel="noopener noreferrer">
                  Tetrate - Service Mesh Company
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://docs.tetrate.io/istio-subscription/" target="_blank" rel="noopener noreferrer">
                  Tetrate Istio Subscription
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h4 text-white mb-4 text-uppercase">Courses</p>
          <ul class="list-unstyled">
            
            <li class="mb-3">
              <a class="text-color" href="https://academy.tetrate.io/courses/envoy-fundamentals" target="_blank" rel="noopener noreferrer">
                  Envoy Fundamentals
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://academy.tetrate.io/courses/istio-fundamentals" target="_blank" rel="noopener noreferrer">
                  Istio Fundamentals
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h4 text-white mb-4 text-uppercase">new notice</p>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/en/notice/kubecon-china-2024-panel/">KubeCon China 2024 panel Preview: Istio and Modern API Gateways – Leading the Future of Service Mesh</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/notice/website-revamp-notice/">Website Revamp Notice</a></li>
            
            <li class="mb-3"><a class="text-color" href="/en/notice/kubecon-eu-2024/">See you in KubeCon Paris!</a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>

  
  <div class="copyright py-4 bg-footer overlay">
    <div class="container-xl">
      <div class="row">
        <div class="col-sm-6 text-sm-left text-center">
          <p class="mb-0 text-color">© 2017-2024 Jimmy Song All Right Reserved</p>
        </div>
        <div class="col-sm-6 text-sm-right text-center">
          <ul class="list-inline">
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://twitter.com/jimmysongio" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-x-twitter text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="/contact/" >
                    <i class="fa-brands fa-weixin text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://github.com/rootsongjc" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-github text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://linkedin.com/in/jimmysongio" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-linkedin text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="mailto:rootsongjc@gmail.com" >
                    <i class="fa-solid fa-envelope text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="/blog/index.xml" >
                    <i class="fa-solid fa-rss text-white"></i>
              </a>
            </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<!-- JS Plugins -->

<script src="/plugins/popper/popper.min.js"></script>

<script src="/plugins/bootstrap/bootstrap.min.js"></script>

<script src="/plugins/slick/slick.min.js"></script>

<script src="/plugins/filterizr/jquery.filterizr.min.js"></script>

<script src="/plugins/search/fuse.min.js"></script>

<script src="/plugins/search/mark.js"></script>

<script src="/plugins/hex_md5/hex_md5.js"></script>

<script src="/plugins/anchor/anchor.min.js"></script>

<script src="/plugins/tocbot/tocbot.min.js"></script>

<script src="/plugins/bigger-picture/bigger-picture.min.js"></script>


<!-- Main Script -->

<script src="/js/script.min.19a9d2eaabea2cd81f7d1b4f5f6ec267fbdba497ba1b5fee18a6ade6dcba8edf.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-ESY906ZWZ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ESY906ZWZ0');
</script>


<!-- Baidu analysis -->
<meta name="baidu-site-verification" content="g8IYR9SNLF" />


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?11f7d254cfa4e0ca44b175c66d379ecc";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>




<script>
    anchors.add();
</script>






<script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script>






  





<script src="/js/wowchemy-search.min.326aa2f4bf4b363a9f80662d3545f0bd.js" type="module"></script>
<script id="search-hit-fuse-template" type="text/x-template">
  <div class="search-hit" id="summary-{{key}}">
    <div class="search-hit-content border-bottom">
      <div class="search-hit-name">
        <div class='search-hit-link'><a href="{{relpermalink}}">{{title}}</a></div>
        <div class="search-hit-metadata d-flex">
            <span class="mr-1"><i class="fa-regular fa-calendar mr-1"></i>{{date}}</span>
            <span class="mr-1"><i class="fa-regular fa-folder-open mr-1"></i>{{section}}</span>
            <span class="d-sm-block d-none"><i class="fa-solid fa-link mr-1"></i>{{relpermalink}}</span>
        </div>
        <div class="search-hit-description">{{snippet}}</div>
      </div>
    </div>
  </div>
</script>



    </body>
</html>
