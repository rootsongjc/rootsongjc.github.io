```mermaid "Structure of HTTP routing"
graph TD
    A[Incoming HTTP Request] --> B["HTTP Connection Manager (HCM)"]
    B --> C[Router Filter]
    C --> D[Match Virtual Host and Route]
    D --> E[Path, Prefix, Header Matching]
    E --> F[Route Action]
    F --> G[Acquire Connection Pool]
    G --> H[Forward Request to Upstream Cluster]
    H --> I[Receive Response from Upstream]
    I --> J[Return Response to Client]
    
    C --> K[Direct Responses]
    C --> L[Request Redirection]
    C --> M[Traffic Shifting/Splitting]
    C --> N[Request Timeout and Retries]
    D --> O[Path, Host Rewriting]
```
