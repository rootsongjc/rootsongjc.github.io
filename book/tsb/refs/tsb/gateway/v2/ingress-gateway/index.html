<!DOCTYPE html>
<html lang="zh"><head>
  <meta charset="utf-8">
  
  <title>Ingress Gateway · Jimmy Song</title>
  

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Configurations to build an ingress gateway.">
  <meta name="author" content="Jimmy Song">
  <meta name="generator" content="Hugo 0.123.7">

  <!-- plugins -->
  
  <link rel="stylesheet" href="/plugins/bootstrap/bootstrap.min.css">
  
  <link rel="stylesheet" href="/plugins/slick/slick.css">
  
  <link rel="stylesheet" href="/plugins/animate/animate.css">
  
  <link rel="stylesheet" href="/plugins/venobox/venobox.css">
  
  <link rel="stylesheet" href="/plugins/hightlight/syntax.css">
  
  <link rel="stylesheet" href="/plugins/fontawesome/v6/css/fontawesome.min.css">
  
  <link rel="stylesheet" href="/plugins/fontawesome/v6/css/all.min.css">
  
  <link rel="stylesheet" href="/plugins/tocbot/tocbot.css">
  
  <link rel="stylesheet" href="/plugins/bigger-picture/bigger-picture.css">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="/scss/style.css" media="screen">

  <!--Favicon-->
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="200x200" href="/images/favicon.png" />

  <link href='/opensearchdescription.xml' rel='search' title='Content search' type='application/opensearchdescription+xml'/>

  
  <!--Twitter card-->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="jimmysong.io" />
  <meta name="twitter:creator" content="@jimmysongio" />
  <meta property="og:url" content="https://jimmysong.io/book/tsb/refs/tsb/gateway/v2/ingress-gateway/" />
  <meta property="og:title" content="Ingress Gateway" />
  <meta property="twitter:title" content="Ingress Gateway" />
  
  <meta property="og:description" content="Configurations to build an ingress gateway." />
  <meta property="twitter:description" content="Configurations to build an ingress gateway." />
  
  
  <meta property="og:image" content="https://jimmysong.io/favicon.png">
  <meta property="twitter:image" content="https://jimmysong.io/favicon.png">
  
  
  
</head>
<body>
    <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></button>

<header class="fixed-top header">
  
  
  <div class="top-header py-2 bg-white">
    <div class="container">
      <div class="row no-gutters align-items-center">
        <div class="col-12 text-center">
          <ul class="list-inline">
            <li class="list-inline-item">
                云原生资料库现已合并到主站，<a href="/book/" title="点击查看图书">点击查看图书</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  
  
  <div class="navigation w-100  top-hider ">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light p-0">
        <a class="navbar-brand" href="/">
            
            <img class="img-fluid" width="200px" src="/images/logo.svg" alt="Jimmy Song&#39;s Blog">
            
        </a>
        <button class="navbar-toggler rounded-0" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
          <ul class="navbar-nav ml-auto">
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/blog">博客</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/book">图书</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="https://cloudnative.to" target="_blank" rel="noopener">社区</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="https://space.bilibili.com/515485124" target="_blank" rel="noopener">视频</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/tags">标签</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/contact">联系</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/notice">通知</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/about">关于</a>
              
            </li>
            
            

          
          
          
          <!-- search -->
          <button id="searchOpen" class="search-btn js-search"><i class="fa fa-search text-dark"></i></button>
          
          </ul>
        </div>
      </nav>
    </div>
  </div>
</header>


    <aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6 search-title">
          <p>站内搜索</p>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="关闭"><i class="fa-solid fa-circle-xmark text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        <i class="fa-solid fa-magnifying-glass" id="search-icon" aria-hidden="true"></i>
        <input name="q" id="search-query" placeholder="输入搜索词" autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="输入搜索词">
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>
    </section>
  </div>
</aside>

    
	
	
<section class="bg-cover page-title-section overlay" style="background-image: url('/'),url('/images/backgrounds/page-title.webp');">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <ul class="list-inline custom-breadcrumb">
                    
                          
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                    
                        <li class="list-inline-item h2">
                          <a class="text-white font-secondary" href="/">
                            
                              主页
                            
                          </a>
                        </li>
                        <li class="list-inline-item"><i class="fa-solid fa-angle-right text-white"></i></li>
                      
                    
                        <li class="list-inline-item h2">
                          <a class="text-white font-secondary" href="/book/">
                            
                              图书
                            
                          </a>
                        </li>
                        <li class="list-inline-item"><i class="fa-solid fa-angle-right text-white"></i></li>
                      
                    
                        <li class="list-inline-item h2">
                          <a class="text-white font-secondary" href="/book/tsb/">
                            
                              TSB 手册
                            
                          </a>
                        </li>
                        <li class="list-inline-item"><i class="fa-solid fa-angle-right text-white"></i></li>
                      
                    
                        <li class="list-inline-item h2">
                          <a class="text-white font-secondary" href="/book/tsb/refs/">
                            
                              API
                            
                          </a>
                        </li>
                        <li class="list-inline-item"><i class="fa-solid fa-angle-right text-white"></i></li>
                      
                    
                        <li class="list-inline-item h2">
                          <a class="text-white font-secondary" href="/book/tsb/refs/tsb/">
                            
                              tsb
                            
                          </a>
                        </li>
                        <li class="list-inline-item"><i class="fa-solid fa-angle-right text-white"></i></li>
                      
                    
                          <li class="list-inline-item h3 active text-capitalize" aria-current="page">
                            Ingress Gateway
                          </li>
                    
                    
                    
                </ul>
                <p class="text-white">Configurations to build an ingress gateway.</p>
            </div>
        </div>
    </div>
</section>

	

<div class="container-xl blog">
  <div class="row flex-xl-nowrap">
    <aside class="docs-sidebar">
      <nav class="collapse docs-links py-4 box-shadow mb-4 sticky-top aside-toc d-none d-sm-block" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      
      
      
      
        
          
        
      



  
    
    
    
    
      
    
    

    
    
    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id60ccb044f511c9519a5cc57b8d3fbee6&#34;)" href="#id60ccb044f511c9519a5cc57b8d3fbee6" aria-expanded="false" aria-controls="id60ccb044f511c9519a5cc57b8d3fbee6" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/book/tsb/refs/">API</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id60ccb044f511c9519a5cc57b8d3fbee6" aria-expanded="false" aria-controls="id60ccb044f511c9519a5cc57b8d3fbee6">
    
    <i class="fa-solid fa-angle-down" id="caret-id60ccb044f511c9519a5cc57b8d3fbee6"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  show " id="id60ccb044f511c9519a5cc57b8d3fbee6">
      



  
    
    
    
    
      
    
    

    
    
    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id9a408f5cc154653db2fb424d016c548b&#34;)" href="#id9a408f5cc154653db2fb424d016c548b" aria-expanded="false" aria-controls="id9a408f5cc154653db2fb424d016c548b" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/book/tsb/refs/tsb/">tsb</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id9a408f5cc154653db2fb424d016c548b" aria-expanded="false" aria-controls="id9a408f5cc154653db2fb424d016c548b">
    
    <i class="fa-solid fa-angle-down" id="caret-id9a408f5cc154653db2fb424d016c548b"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  show " id="id9a408f5cc154653db2fb424d016c548b">
      



  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/access-bindings/">Access Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/application/v2/api/">API</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/api-access-bindings/">API Access Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/application/v2/application/">Application</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/application-access-bindings/">Application Access Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/application/v2/application-service/">Application Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/q/v2/approvals-service/">Approvals Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/auth/v2/auth/">Auth</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/gateway/v2/auth/">Auth</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/cluster-service/">Cluster Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/cluster/">Clusters</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/types/v2/types/">Common Object Types</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/gateway/v2/eastwest-gateway/">East/West Gateway</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/gateway/v2/egress-gateway/">Egress Gateway</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/gateway/v2/gateway/">Gateway</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/gateway-access-bindings/">Gateway Access Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/gateway/v2/gateway-common/">Gateway Common Configuration Messages</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/gateway/v2/gateway-group/">Gateway Group</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/gateway/v2/gateway-service/">Gateway Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/info/">Info</a></li>




  <li class="child level active"><a href="/book/tsb/refs/tsb/gateway/v2/ingress-gateway/">Ingress Gateway</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/gateway/v2/istio-gateway-direct/">Istio Direct Mode Gateway Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/security/v2/istio-security-direct/">Istio Direct Mode Security Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/traffic/v2/istio-traffic-direct/">Istio Direct Mode Traffic Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/istio-internal-access-bindings/">Istio Internal Access Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/istiointernal/v2/istio-istiointernal-direct/">Istio Internal Direct Mode Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/istiointernal/v2/istiointernal-service/">Istio Internal Direct Mode Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/istiointernal/v2/istio-internal-group/">Istio internal Group</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/observability/telemetry/v2/metric/">Metric</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/observability/telemetry/v2/metric-service/">Metric Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/application/v2/openapi-extensions/">OpenAPI Extensions</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/organization/">Organization</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/organization-access-bindings/">Organization Access Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/organization-setting/">Organization Setting</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/organization-service/">Organizations Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/permissions/">Permissions</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/q/v2/permissions-service/">Permissions Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/binding/">Policy Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/policy-service/">Policy Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/registry/v2/service/">Registered Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/role/">Role</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/role-service/">Role Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/security-access-bindings/">Security Access Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/security/v2/security-group/">Security Group</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/security/v2/security-service/">Security Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/security/v2/security-setting/">Security Setting</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/registry/v2/lookup-service/">Service Registry Lookup Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/traffic/v2/service-route/">Service Route</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/security/v2/service-security-setting/">Service Security Setting</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/registry/v2/registration-service/">Servive Registry Registration Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/observability/telemetry/v2/source/">Source</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/status/">Status</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/status-service/">Status Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/team/">Teams and Users</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/team-service/">Teams Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/observability/telemetry/v2/source-service/">Telemetry Source Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/tenant/">Tenant</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/tenant-access-bindings/">Tenant Access Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/tenant-service/">Tenant Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/tenant-setting/">Tenant Setting</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/gateway/v2/tier1-gateway/">Tier1 Gateway</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/traffic-access-bindings/">Traffic Access Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/traffic/v2/traffic-group/">Traffic Group</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/traffic/v2/traffic-service/">Traffic Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/traffic/v2/traffic-setting/">Traffic Setting</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/security/v2/waf-settings/">WAF Settings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/extension/v2/wasm-extension/">WASM Extension</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/extension/v2/wasm-service/">WasmExtension Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/workspace/">Workspace</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/rbac/v2/workspace-access-bindings/">Workspace Access Bindings</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/workspace-service/">Workspace Service</a></li>




  <li class="child level "><a href="/book/tsb/refs/tsb/v2/workspace-setting/">Workspace Setting</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-ida75aeed40e2fe4aa536d414a17282334&#34;)" href="#ida75aeed40e2fe4aa536d414a17282334" aria-expanded="false" aria-controls="ida75aeed40e2fe4aa536d414a17282334" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/book/tsb/refs/onboarding/">onboard</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#ida75aeed40e2fe4aa536d414a17282334" aria-expanded="false" aria-controls="ida75aeed40e2fe4aa536d414a17282334">
    
        <i class="fa-solid fa-angle-right" id="caret-ida75aeed40e2fe4aa536d414a17282334"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="ida75aeed40e2fe4aa536d414a17282334">
      



  <li class="child level "><a href="/book/tsb/refs/onboarding/config/agent/v1alpha1/agent-configuration/">Agent Configuration</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/types/identity/aws/v1alpha1/aws/">AWS Identity</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/authorization/aws/v1alpha1/aws/">AWS Identity Matcher</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/types/core/v1alpha1/condition/">Condition</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/types/core/v1alpha1/namespaced-name/">Core types</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/types/registration/v1alpha1/hostinfo/">Host Info</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/types/identity/jwt/v1alpha1/jwt/">JWT Identity</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/authorization/jwt/v1alpha1/jwt/">JWT Identity Matcher</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/install/v1alpha1/jwt-issuer/">JWT Issuer</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/agent/v1alpha1/onboarding-configuration/">Onboarding Configuration</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/authorization/v1alpha1/policy/">Onboarding Policy</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/types/config/v1alpha1/transport-security/">Transport layer security config</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/runtime/v1alpha1/registration/">Workload Auto Registration</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/install/v1alpha1/workload-configuration/">Workload Configuration</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/types/identity/v1alpha1/identity/">Workload Identity</a></li>




  <li class="child level "><a href="/book/tsb/refs/onboarding/config/types/registration/v1alpha1/registration/">Workload Registration</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id8977e46db93e0d6c0fa802a7fafdd11e&#34;)" href="#id8977e46db93e0d6c0fa802a7fafdd11e" aria-expanded="false" aria-controls="id8977e46db93e0d6c0fa802a7fafdd11e" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/book/tsb/refs/istio.io/">istio.io</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id8977e46db93e0d6c0fa802a7fafdd11e" aria-expanded="false" aria-controls="id8977e46db93e0d6c0fa802a7fafdd11e">
    
        <i class="fa-solid fa-angle-right" id="caret-id8977e46db93e0d6c0fa802a7fafdd11e"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id8977e46db93e0d6c0fa802a7fafdd11e">
      



  <li class="child level "><a href="/book/tsb/refs/istio.io/api/operator/v1alpha1/operator/">IstioOperator Options</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id751aadd78deed44f394f8329ef9ef5cc&#34;)" href="#id751aadd78deed44f394f8329ef9ef5cc" aria-expanded="false" aria-controls="id751aadd78deed44f394f8329ef9ef5cc" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/book/tsb/refs/install/">install</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id751aadd78deed44f394f8329ef9ef5cc" aria-expanded="false" aria-controls="id751aadd78deed44f394f8329ef9ef5cc">
    
        <i class="fa-solid fa-angle-right" id="caret-id751aadd78deed44f394f8329ef9ef5cc"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id751aadd78deed44f394f8329ef9ef5cc">
      



  <li class="child level "><a href="/book/tsb/refs/install/common/common-config/">Common Configuration Objects</a></li>




  <li class="child level "><a href="/book/tsb/refs/install/controlplane/v1alpha1/spec/">Control Plane</a></li>




  <li class="child level "><a href="/book/tsb/refs/install/dataplane/v1alpha1/spec/">Data Plane</a></li>




  <li class="child level "><a href="/book/tsb/refs/install/helm/common/v1alpha1/common/">install/helm/common/v1alpha1/common.proto</a></li>




  <li class="child level "><a href="/book/tsb/refs/install/helm/controlplane/v1alpha1/values/">install/helm/controlplane/v1alpha1/values.proto</a></li>




  <li class="child level "><a href="/book/tsb/refs/install/kubernetes/k8s/">Kubernetes</a></li>




  <li class="child level "><a href="/book/tsb/refs/install/managementplane/v1alpha1/spec/">Management Plane</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-id7e039cb03035cc53539ee1582a5b3edd&#34;)" href="#id7e039cb03035cc53539ee1582a5b3edd" aria-expanded="false" aria-controls="id7e039cb03035cc53539ee1582a5b3edd" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/book/tsb/refs/iam/">iam</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#id7e039cb03035cc53539ee1582a5b3edd" aria-expanded="false" aria-controls="id7e039cb03035cc53539ee1582a5b3edd">
    
        <i class="fa-solid fa-angle-right" id="caret-id7e039cb03035cc53539ee1582a5b3edd"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="id7e039cb03035cc53539ee1582a5b3edd">
      



  <li class="child level "><a href="/book/tsb/refs/iam/v2/oauth-service/">IAM (OAuth)</a></li>




  <li class="child level "><a href="/book/tsb/refs/iam/v2/oidc-service/">IAM (OIDC)</a></li>

      
        </ul>
      
    

    
      </div>
    




  
    
    
    
    
      
    
    

    
    
    
    <div class="docs-toc-item has-child">
    <div class="parent-node d-flex justify-content-between" onClick="Collapse(&#34;caret-idc24694fb1054e7226abfd4aa7c8df530&#34;)" href="#idc24694fb1054e7226abfd4aa7c8df530" aria-expanded="false" aria-controls="idc24694fb1054e7226abfd4aa7c8df530" aria-hidden="false" data-toggle="collapse">
    
    <a class="d-inline docs-toc-link " href="/book/tsb/refs/audit/">audit</a>
    <a class="nav-toogle d-inline level" aria-hidden="false" data-toggle="collapse" href="#idc24694fb1054e7226abfd4aa7c8df530" aria-expanded="false" aria-controls="idc24694fb1054e7226abfd4aa7c8df530">
    
        <i class="fa-solid fa-angle-right" id="caret-idc24694fb1054e7226abfd4aa7c8df530"></i>
    
    </a>
    
    </div>
    
      
      <ul class="nav docs-sidenav collapse  " id="idc24694fb1054e7226abfd4aa7c8df530">
      



  <li class="child level "><a href="/book/tsb/refs/audit/v1/audit/">Audit</a></li>

      
        </ul>
      
    

    
      </div>
    

      
        </ul>
      
    

    
      </div>
    

    
  
</nav>

    </aside>

    
    <aside class="docs-toc d-none d-xl-block col-xl-2">
      
<div class="bg-white py-4 box-shadow mb-4 sticky-top aside-toc d-none d-sm-block">
    <p class="sidebar-title">
    目录
    </p>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#tetrateio-api-tsb-gateway-v2-httprouting">HttpRouting</a></li>
    <li><a href="#tetrateio-api-tsb-gateway-v2-httprule">HttpRule</a></li>
    <li><a href="#tetrateio-api-tsb-gateway-v2-httpserver">HttpServer</a></li>
    <li><a href="#tetrateio-api-tsb-gateway-v2-ingressgateway">IngressGateway</a></li>
    <li><a href="#tetrateio-api-tsb-gateway-v2-route">Route</a></li>
    <li><a href="#tetrateio-api-tsb-gateway-v2-tcpserver">TCPServer</a></li>
    <li><a href="#tetrateio-api-tsb-gateway-v2-tlspassthroughserver">TLSPassthroughServer</a></li>
  </ul>
</nav>
</div>

    </aside>

    <main class="py-md-3 pl-md-3 mt-3 article-content col-xl-8" role="main">

      <article class="content">

          <!-- WARNING: This page is generated. Please take a look at extensions/plugin-service-bridge-api-docs/src/files/doc/page.ejs -->
<p>DEPRECATION: The functionality provided by the <code>IngressGateway</code> is now provided in <code>Gateway</code> object, and
using it is the recommended approach. The <code>IngressGateway</code> resource will be removed in future releases.</p>
<p><code>IngressGateway</code> configures a workload to act as a gateway for
traffic entering the mesh. The ingress gateway also provides basic
API gateway functionalities such as JWT token validation
and request authorization. Gateways in privileged
workspaces can route to services outside the workspace while those
in unprivileged workspaces can only route to services inside the
workspace.</p>
<p>The following example declares an ingress gateway running on pods
with <code>app: gateway</code> labels in the <code>ns1</code> namespace. The gateway
exposes a host <code>bookinfo.com</code> on https port 9443 and http port 9090.
The port 9090 is configured to receive plaintext traffic and send a
redirect to the https port 9443 (site-wide HTTP -&gt; HTTPS redirection).
At port 9443, TLS is terminated using the certificates in the Kubernetes
secret <code>bookinfo-certs</code>. Clients are authenticated using JWT
tokens, whose keys are obtained from the OIDC provider <code>www.googleapis.com</code>.
The request is then authorized by an the user&rsquo;s authorization engine
hosted at <code>https://company.com/authz</code> before being forwarded to
the <code>productpage</code> service in the backend.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">gateway.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">IngressGateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">ingress-bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l">g1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workspace</span><span class="p">:</span><span class="w"> </span><span class="l">w1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="l">mycompany</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">myorg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workloadSelector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">ns1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">gateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">http</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo-plaintext</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">9090</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">routing</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">redirect</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">authority</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">9443</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">redirectCode</span><span class="p">:</span><span class="w"> </span><span class="m">301</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">scheme</span><span class="p">:</span><span class="w"> </span><span class="l">https</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">9443</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">tls</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l">SIMPLE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">secretName</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo-certs</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">authentication</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">jwt</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">issuer</span><span class="p">:</span><span class="w"> </span><span class="l">https://accounts.google.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">jwksUri</span><span class="p">:</span><span class="w"> </span><span class="l">https://www.googleapis.com/oauth2/v3/certs</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">issuer</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;auth.mycompany.com&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">jwksUri</span><span class="p">:</span><span class="w"> </span><span class="l">https://auth.mycompany.com/oauth2/jwks</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">authorization</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">external</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">https://company.com/authz</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">includeRequestHeaders</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">Authorization</span><span class="w"> </span><span class="c"># forwards the header to the authorization service.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">routing</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">route</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l">ns1/productpage.ns1.svc.cluster.local</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">rateLimiting</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">settings</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">rules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Ratelimit at 10 requests/hour for clients with a remote address of 1.2.3.4 </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">dimensions</span><span class="p">:</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="nt">remoteAddress</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="m">1.2.3.4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">limit</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">requestsPerUnit</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">unit</span><span class="p">:</span><span class="w"> </span><span class="l">HOUR</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Ratelimit at 50 requests/minute for every unique value in the user-agent header</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">dimensions</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="nt">header</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">user-agent</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">limit</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">requestsPerUnit</span><span class="p">:</span><span class="w"> </span><span class="m">50</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">unit</span><span class="p">:</span><span class="w"> </span><span class="l">MINUTE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># Ratelimit at 100 requests/second for every unique client remote address</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="c"># with the HTTP requests having a GET method and the path prefix of /productpage</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">dimensions</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="nt">remoteAddress</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;*&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="nt">header</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;:path&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l">/productpage</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="nt">header</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;:method&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="nt">exact</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;GET&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">limit</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">requestsPerUnit</span><span class="p">:</span><span class="w"> </span><span class="m">100</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">unit</span><span class="p">:</span><span class="w"> </span><span class="l">SECOND</span><span class="w">
</span></span></span></code></pre></div><p>If the <code>productpage.ns1</code> service on Kubernetes has a <code>ServiceRoute</code>
with multiple subsets and weights, the traffic will be split across
the subsets accordingly.</p>
<p>The following example illustrates defining non-HTTP servers (based
on TCP) with TLS termination. Here, kafka.myorg.internal uses non-HTTP
protocol and listens on port 9000. The clients have to connect with TLS
with the SNI <code>kafka.myorg.internal</code>. The TLS is terminated at the gateway
and the traffic is routed to <code>kafka.infra.svc.cluster.local:8000</code>.</p>
<p>If subsets are defined in the <code>ServiceRoute</code> referencing
<code>kafka.infra.svc.cluster.local</code> service, then it is also considered
while routing.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">gateway.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">IngressGateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">ingress-bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l">g1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workspace</span><span class="p">:</span><span class="w"> </span><span class="l">w1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="l">mycompany</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">myorg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workloadSelector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">ns1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">gateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tcp</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">kafka-gateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="l">kafka.myorg.internal</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">9000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">tls</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">mode</span><span class="p">:</span><span class="w"> </span><span class="l">SIMPLE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">secretName</span><span class="p">:</span><span class="w"> </span><span class="l">kafka-cred</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">route</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l">kafka.infra.svc.cluster.local</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">8000</span><span class="w">
</span></span></span></code></pre></div><p>The following example customizes the <code>Extensions</code> to enable
the execution of the specified WasmExtensions list and details
custom properties for the execution of each extension.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">gateway.tsb.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">IngressGateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">ingress-bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">group</span><span class="p">:</span><span class="w"> </span><span class="l">g1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workspace</span><span class="p">:</span><span class="w"> </span><span class="l">w1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tenant</span><span class="p">:</span><span class="w"> </span><span class="l">mycompany</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">organization</span><span class="p">:</span><span class="w"> </span><span class="l">myorg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">workloadSelector</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">ns1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">gateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">extension</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">fqn</span><span class="p">:</span><span class="w"> </span><span class="l">hello-world</span><span class="w"> </span><span class="c"># fqn of imported extensions in TSB</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">foo</span><span class="p">:</span><span class="w"> </span><span class="l">bar</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">http</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">80</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">routing</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">rules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">route</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l">ns1/productpage.ns1.svc.cluster.local</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">`IngressGateway` also allows you to apply ModSecurity/Coraza compatible Web</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">Application Firewall rules to traffic passing through the gateway.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">```yaml</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">gateway.xcp.tetrate.io/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">IngressGateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">waf-gw</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">ns1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">waf-gateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">http</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">9443</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="l">bookinfo.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">waf</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">rules</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Include @recommended-conf</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">SecResponseBodyAccess Off</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Include @owasp_crs/*.conf</span><span class="w">
</span></span></span></code></pre></div><h2 id="tetrateio-api-tsb-gateway-v2-httprouting">HttpRouting</h2>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>corsPolicy</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/gateway_common#tetrateio-api-tsb-gateway-v2-corspolicy" title="tetrateio.api.tsb.gateway.v2.CorsPolicy">tetrateio.api.tsb.gateway.v2.CorsPolicy</a>
 <br/> Cross origin resource request policy settings for all routes.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>rules</p>
</td>
<td>
<p>List of <a href="../../../tsb/gateway/v2/ingress_gateway#tetrateio-api-tsb-gateway-v2-httprule" title="tetrateio.api.tsb.gateway.v2.HttpRule">tetrateio.api.tsb.gateway.v2.HttpRule</a>
 <br/> <em>REQUIRED</em> <br/> HTTP routes.</p>
</td>
<td>
<p>repeated = {<br/>  min_items: <code>1</code><br/>}<br/></p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-gateway-v2-httprule">HttpRule</h2>
<p>A single HTTP rule.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>match</p>
</td>
<td>
<p>List of <a href="../../../tsb/gateway/v2/gateway_common#tetrateio-api-tsb-gateway-v2-httpmatchcondition" title="tetrateio.api.tsb.gateway.v2.HttpMatchCondition">tetrateio.api.tsb.gateway.v2.HttpMatchCondition</a>
 <br/> One or more match conditions (OR-ed).</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>modify</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/gateway_common#tetrateio-api-tsb-gateway-v2-httpmodifyaction" title="tetrateio.api.tsb.gateway.v2.HttpModifyAction">tetrateio.api.tsb.gateway.v2.HttpModifyAction</a>
 <br/> One or more mutations to be performed before forwarding. Includes typical modifications to be
done on a single request like URL rewrite, host rewrite, headers to add/remove/append.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>route</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/ingress_gateway#tetrateio-api-tsb-gateway-v2-route" title="tetrateio.api.tsb.gateway.v2.Route">tetrateio.api.tsb.gateway.v2.Route</a>
 <em><sup><a href="https://developers.google.com/protocol-buffers/docs/proto3#oneof" target="_blank">oneof</a> route_or_redirect</sup></em> <br/> Forward the request to the specified destination(s). One of route or redirect must be specified.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>redirect</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/gateway_common#tetrateio-api-tsb-gateway-v2-redirect" title="tetrateio.api.tsb.gateway.v2.Redirect">tetrateio.api.tsb.gateway.v2.Redirect</a>
 <em><sup><a href="https://developers.google.com/protocol-buffers/docs/proto3#oneof" target="_blank">oneof</a> route_or_redirect</sup></em> <br/> Redirect the request to a different host or URL or both. One of route or redirect must be specified.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-gateway-v2-httpserver">HttpServer</h2>
<p>An HTTP server exposed in an ingress gateway.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>name</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="string" target="_blank" rel="noopener">string</a>
 <br/> <em>REQUIRED</em> <br/> A name assigned to the server. The name will be visible in the generated metrics. The name must be
unique across all servers in a gateway.</p>
</td>
<td>
<p>string = {<br/>  min_len: <code>1</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>port</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="uint32" target="_blank" rel="noopener">uint32</a>
 <br/> <em>REQUIRED</em> <br/> The port where the server is exposed. Two servers with different protocols (HTTP and HTTPS) should not
share the same port. Note that port 15443 is reserved for internal use.</p>
</td>
<td>
<p>uint32 = {<br/>  not_in: <code>0,15443</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>hostname</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="string" target="_blank" rel="noopener">string</a>
 <br/> <em>REQUIRED</em> <br/> Hostname with which the service can be expected to be accessed by clients.
<strong>NOTE:</strong> The hostname must be unique across all gateways in the cluster in order for multicluster routing to work.</p>
</td>
<td>
<p>string = {<br/>  min_len: <code>1</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>tls</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/gateway_common#tetrateio-api-tsb-gateway-v2-servertlssettings" title="tetrateio.api.tsb.gateway.v2.ServerTLSSettings">tetrateio.api.tsb.gateway.v2.ServerTLSSettings</a>
 <br/> TLS certificate info. If omitted, the gateway will expose a plain text HTTP server.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>authentication</p>
</td>
<td>
<p><a href="../../../tsb/auth/v2/auth#tetrateio-api-tsb-auth-v2-authentication" title="tetrateio.api.tsb.auth.v2.Authentication">tetrateio.api.tsb.auth.v2.Authentication</a>
 <br/> Configuration to authenticate clients.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>authorization</p>
</td>
<td>
<p><a href="../../../tsb/auth/v2/auth#tetrateio-api-tsb-auth-v2-authorization" title="tetrateio.api.tsb.auth.v2.Authorization">tetrateio.api.tsb.auth.v2.Authorization</a>
 <br/> Configuration to authorize a request.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>routing</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/ingress_gateway#tetrateio-api-tsb-gateway-v2-httprouting" title="tetrateio.api.tsb.gateway.v2.HttpRouting">tetrateio.api.tsb.gateway.v2.HttpRouting</a>
 <br/> <em>REQUIRED</em> <br/> Routing rules associated with HTTP traffic to this service.</p>
</td>
<td>
<p>message = {<br/>  required: <code>true</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>rateLimiting</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/gateway_common#tetrateio-api-tsb-gateway-v2-ratelimiting" title="tetrateio.api.tsb.gateway.v2.RateLimiting">tetrateio.api.tsb.gateway.v2.RateLimiting</a>
 <br/> Configuration for rate limiting requests. This configuration is namespaced to a particular HttpServer</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-gateway-v2-ingressgateway">IngressGateway</h2>
<p><code>IngressGateway</code> configures a workload to act as an ingress gateway into the mesh.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>workloadSelector</p>
</td>
<td>
<p><a href="../../../tsb/types/v2/types#tetrateio-api-tsb-types-v2-workloadselector" title="tetrateio.api.tsb.types.v2.WorkloadSelector">tetrateio.api.tsb.types.v2.WorkloadSelector</a>
 <br/> <em>REQUIRED</em> <br/> Specify the gateway workloads (pod labels and Kubernetes
namespace) under the gateway group that should be configured with
this gateway. There can be only one gateway for a workload selector in a namespace.</p>
</td>
<td>
<p>message = {<br/>  required: <code>true</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>http</p>
</td>
<td>
<p>List of <a href="../../../tsb/gateway/v2/ingress_gateway#tetrateio-api-tsb-gateway-v2-httpserver" title="tetrateio.api.tsb.gateway.v2.HttpServer">tetrateio.api.tsb.gateway.v2.HttpServer</a>
 <br/> One or more HTTP or HTTPS servers exposed by the gateway. The
server exposes configuration for TLS termination, request
authentication/authorization, HTTP routing, etc.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>tlsPassthrough</p>
</td>
<td>
<p>List of <a href="../../../tsb/gateway/v2/ingress_gateway#tetrateio-api-tsb-gateway-v2-tlspassthroughserver" title="tetrateio.api.tsb.gateway.v2.TLSPassthroughServer">tetrateio.api.tsb.gateway.v2.TLSPassthroughServer</a>
 <br/> One or more TLS servers exposed by the gateway. The server
does not terminate TLS and exposes config for SNI based routing.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>tcp</p>
</td>
<td>
<p>List of <a href="../../../tsb/gateway/v2/ingress_gateway#tetrateio-api-tsb-gateway-v2-tcpserver" title="tetrateio.api.tsb.gateway.v2.TCPServer">tetrateio.api.tsb.gateway.v2.TCPServer</a>
 <br/> One or more non-HTTP and non-passthrough servers which use TCP
based protocols. This server also exposes configuration for terminating TLS</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>extension</p>
</td>
<td>
<p>List of <a href="../../../tsb/types/v2/types#tetrateio-api-tsb-types-v2-wasmextensionattachment" title="tetrateio.api.tsb.types.v2.WasmExtensionAttachment">tetrateio.api.tsb.types.v2.WasmExtensionAttachment</a>
 <br/> Extensions specifies all the WasmExtensions assigned to this IngressGateway
with the specific configuration for each extension. This custom configuration
will override the one configured globally to the extension.
Each extension has a global configuration including enablement and priority
that will condition the execution of the assigned extensions.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>waf</p>
</td>
<td>
<p><a href="../../../tsb/security/v2/waf_settings#tetrateio-api-tsb-security-v2-wafsettings" title="tetrateio.api.tsb.security.v2.WAFSettings">tetrateio.api.tsb.security.v2.WAFSettings</a>
 <br/> WAF settings to be enabled for traffic passing through the HttpServer.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>configGenerationMetadata</p>
</td>
<td>
<p><a href="../../../tsb/types/v2/types#tetrateio-api-tsb-types-v2-configgenerationmetadata" title="tetrateio.api.tsb.types.v2.ConfigGenerationMetadata">tetrateio.api.tsb.types.v2.ConfigGenerationMetadata</a>
 <br/> Metadata values that will be add into the Istio generated configurations.
When using YAML APIs like<code>tctl</code> or <code>gitops</code>, put them into the <code>metadata.labels</code> or
<code>metadata.annotations</code> instead.
This field is only necessary when using gRPC APIs directly.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-gateway-v2-route">Route</h2>
<p>One or more destinations in a local/remote cluster for the given request.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>host</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="string" target="_blank" rel="noopener">string</a>
 <br/> <em>REQUIRED</em> <br/> The destination service in <code>&lt;namespace&gt;/&lt;fqdn&gt;</code> format for
<code>IngressGateway</code> resources. For <code>Tier1Gateway</code> resources, the
destination must be in <code>&lt;clusterName&gt;/&lt;namespace&gt;/&lt;fqdn&gt;</code> format,
where cluster name corresponds to a cluster name created in the
management plane. The <code>fqdn</code> must be the fully qualified name of
the destination service in a cluster.</p>
</td>
<td>
<p>string = {<br/>  min_len: <code>1</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>port</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="uint32" target="_blank" rel="noopener">uint32</a>
 <br/> The port on the service to forward the request to. Omit only if
the destination service has only one port. When used for routing
from Tier1 gateways, the port specified here will be used only if
the Tier1 gateway is doing TLS passthrough.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-gateway-v2-tcpserver">TCPServer</h2>
<p>A TCP server exposed in an ingress gateway. A TCP server may be used for any TCP based protocol.
This is also used for the special case of a non-HTTP protocol requiring TLS termination at the gateway</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>name</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="string" target="_blank" rel="noopener">string</a>
 <br/> <em>REQUIRED</em> <br/> A name assigned to the server. The name will be visible in the generated metrics. The name must be
unique across all HTTP, TLS passthrough and TCP servers in a gateway.</p>
</td>
<td>
<p>string = {<br/>  min_len: <code>1</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>port</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="uint32" target="_blank" rel="noopener">uint32</a>
 <br/> <em>REQUIRED</em> <br/> The port where the server is exposed. Two servers with different protocols can share the same port
only when both of them use TLS (either terminated at the gateway or pass-through)</p>
</td>
<td>
<p>uint32 = {<br/>  not_in: <code>0,15443</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>hostname</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="string" target="_blank" rel="noopener">string</a>
 <br/> <em>REQUIRED</em> <br/> Hostname to identify the service. When TLS is configured, clients have to use this as
the Server Name Indication (SNI) for the TLS connection. When TLS is not configured (opaque TCP),
this is used to identify the service traffic for defining routing configs. Usually, this is
configured as the DNS name of the service. For instance, if clients access a zookeeper cluster
as <code>zk-1.myorg.internal</code> then the hostname could be specified as <code>zk-1.myorg.internal</code>. This
also helps easier identification in the configs.</p>
<p>This is also used in multicluster routing. In the previous example, clients within the mesh
can also use <code>zk-1.myorg.internal</code> to access this service (provided authorization policy allows it)</p>
</td>
<td>
<p>string = {<br/>  min_len: <code>1</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>tls</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/gateway_common#tetrateio-api-tsb-gateway-v2-servertlssettings" title="tetrateio.api.tsb.gateway.v2.ServerTLSSettings">tetrateio.api.tsb.gateway.v2.ServerTLSSettings</a>
 <br/> TLS certificate info to terminate the TLS connection</p>
</td>
<td>
<p>–</p>
</td>
</tr>
<tr>
<td>
<p>route</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/ingress_gateway#tetrateio-api-tsb-gateway-v2-route" title="tetrateio.api.tsb.gateway.v2.Route">tetrateio.api.tsb.gateway.v2.Route</a>
 <br/> Forward the connection to the specified destination.</p>
</td>
<td>
<p>–</p>
</td>
</tr>
</table>
<h2 id="tetrateio-api-tsb-gateway-v2-tlspassthroughserver">TLSPassthroughServer</h2>
<p>A TLS server exposed in an ingress gateway. For TLS servers the gateways don&rsquo;t terminate
connections and use SNI based routing.</p>
<div class="generated-table"></div>
<table>
<thead>
<tr>
<th>Field</th>
<th class="description">Description</th>
<th>Validation Rule</th>
</tr>
</thead>
<tr>
<td>
<p>name</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="string" target="_blank" rel="noopener">string</a>
 <br/> <em>REQUIRED</em> <br/> A name assigned to the server. The name will be visible in the generated metrics. The name must be
unique across all HTTP, TCP and TLS servers in a gateway.</p>
</td>
<td>
<p>string = {<br/>  min_len: <code>1</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>port</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="uint32" target="_blank" rel="noopener">uint32</a>
 <br/> <em>REQUIRED</em> <br/> The port where the server is exposed. Two servers with different protocols (HTTP and HTTPS) should not
share the same port. Note that port 15443 is reserved for internal use.</p>
</td>
<td>
<p>uint32 = {<br/>  not_in: <code>0,15443</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>hostname</p>
</td>
<td>
<p><a href="https://developers.google.com/protocol-buffers/docs/proto3#scalar" title="string" target="_blank" rel="noopener">string</a>
 <br/> <em>REQUIRED</em> <br/> Hostname with which the service can be expected to be accessed by clients.
Routing will be done based on SNI matches for this hostname.
<strong>NOTE:</strong> The hostname must be unique across all gateways in the cluster in order for multicluster routing to work.</p>
</td>
<td>
<p>string = {<br/>  min_len: <code>1</code><br/>}<br/></p>
</td>
</tr>
<tr>
<td>
<p>route</p>
</td>
<td>
<p><a href="../../../tsb/gateway/v2/ingress_gateway#tetrateio-api-tsb-gateway-v2-route" title="tetrateio.api.tsb.gateway.v2.Route">tetrateio.api.tsb.gateway.v2.Route</a>
 <br/> <em>REQUIRED</em> <br/> Forward the connection to the specified destination.</p>
</td>
<td>
<p>message = {<br/>  required: <code>true</code><br/>}<br/></p>
</td>
</tr>
</table>


          

<div class="article-tags">
  
  <a class="badge badge-light" href="/tags/tsb/">TSB</a>
  
</div>


          
<div class="col-12">
<ul class="pager blog-pager">

<li class="next">
<a href="https://jimmysong.io/book/tsb/refs/tsb/gateway/v2/istio-gateway-direct/" data-toggle="tooltip" data-placement="top" title="Istio Direct Mode Gateway Service">下一篇 &rarr;</a>
</li>
 
<li class="previous">
<a href="https://jimmysong.io/book/tsb/refs/tsb/v2/info/" data-toggle="tooltip" data-placement="top" title="Info">&larr; 上一篇</a>
</li>

</ul>
</div>


        <div class="body-footer">
            <p>最后更新于 2024/04/28</p>
            <div class="border-bottom">
            


            </div>
          
          <script src="https://giscus.app/client.js"
        data-repo="rootsongjc/rootsongjc.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkzMTQ1MzczNA=="
        data-category="Announcements"
        data-category-id="DIC_kwDOAd_yJs4CPNtR"
        data-mapping="pathname"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        
        data-lang="zh-CN"
        
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

          

        </div>

          
          

      </article>

    </main>
  </div>
</div>

      
    

<footer>
  
  <div class="footer bg-footer section-sm border-bottom">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 col-sm-8 mb-5 mb-lg-0">
          
          <h4 class="text-white mb-5 text-uppercase">联系</h4>
          
          <ul class="list-unstyled">
            
            
            <li class="mb-4 text-color">微信公众号</li>
            
            
            <li class="mb-4"><img src="/images/servicemesher-wechat.webp" width="128px" alt="footer image"></li>
            
            
            
          
        </div>
        
        

        
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5 text-uppercase">博客</h4>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/blog/istio-cni-deep-dive/">深入解析 Istio CNI：赋能无侵入式流量管理与强化服务网格安全</a></li>
            
            <li class="mb-3"><a class="text-color" href="/blog/cloud-native-ai-whitepaper/">深入解读 CNCF 推出的云原生 AI 白皮书</a></li>
            
            <li class="mb-3"><a class="text-color" href="/blog/cni-deep-dive/">深入解读 CNI：容器网络接口</a></li>
            
          </ul>
        </div>

        
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5 text-uppercase">链接</h4>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="https://tetrate.io/?jimmysong" target="_blank" rel="noopener">Tetrate 公司</a></li>
            
            <li class="mb-3"><a class="text-color" href="https://space.bilibili.com/515485124" target="_blank" rel="noopener">云原生学院|Bilibili</a></li>
            
            <li class="mb-3"><a class="text-color" href="/awesome-cloud-native/" target="_blank" rel="noopener">云原生开源项目大全</a></li>
            
            <li class="mb-3"><a class="text-color" href="https://cloudnative.to" target="_blank" rel="noopener">云原生社区（中国）</a></li>
            
            <li class="mb-3"><a class="text-color" href="/book" target="_blank" rel="noopener">云原生资料库</a></li>
            
          </ul>
        </div>

        
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5 text-uppercase">教程</h4>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="https://academy.tetrate.io/courses/envoy-fundamentals-zh" target="_blank" rel="noopener">Envoy 基础教程</a></li>
            
            <li class="mb-3"><a class="text-color" href="https://academy.tetrate.io/courses/istio-fundamentals-zh" target="_blank" rel="noopener">Istio 基础教程</a></li>
            
            <li class="mb-3"><a class="text-color" href="/book/kubernetes-handbook/" target="_blank" rel="noopener">Kubernetes 基础教程</a></li>
            
            <li class="mb-3"><a class="text-color" href="/blog/istio-service-mesh-book/" target="_blank" rel="noopener">深入理解 Istio</a></li>
            
          </ul>
        </div>

        
        <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0">
          <h4 class="text-white mb-5 text-uppercase">通知</h4>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/notice/cloud-native-library-migration/">云原生资料库已整合至主站</a></li>
            
            <li class="mb-3"><a class="text-color" href="/notice/kubecon-eu-2024/">KubeCon 欧洲 2024 巴黎见！</a></li>
            
            <li class="mb-3"><a class="text-color" href="/notice/spiffe-and-spire/">资料分享：使用 SPIFFE 和 SPIRE 实现零信任安全身份</a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>

  
  <div class="copyright py-4 bg-footer">
    <div class="container">
      <div class="row">
        <div class="col-sm-9 text-sm-left text-center">
          <p class="mb-0 text-color">© 2017-2024 Jimmy Song 保留所有权利</p>
        </div>
        <div class="col-sm-3 text-sm-right text-center">
          <ul class="list-inline">
            
            <li class="list-inline-item"><a class="d-inline-block p-2" href="https://twitter.com/jimmysongio" target="_blank" rel="noopener"><i class="fa-brands fa-x-twitter text-white"></i></a></li>
            
            <li class="list-inline-item"><a class="d-inline-block p-2" href="https://github.com/rootsongjc" target="_blank" rel="noopener"><i class="fa-brands fa-github text-white"></i></a></li>
            
            <li class="list-inline-item"><a class="d-inline-block p-2" href="https://linkedin.com/in/jimmysongio" target="_blank" rel="noopener"><i class="fa-brands fa-linkedin text-white"></i></a></li>
            
            <li class="list-inline-item"><a class="d-inline-block p-2" href="mailto:rootsongjc@gmail.com" target="_blank" rel="noopener"><i class="fa-solid fa-envelope text-white"></i></a></li>
            
            <li class="list-inline-item"><a class="d-inline-block p-2" href="/blog/index.xml" target="_blank" rel="noopener"><i class="fa-solid fa-rss text-white"></i></a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>




<!-- JS Plugins -->

<script src="/plugins/jQuery/jquery.min.js"></script>

<script src="/plugins/popper/popper.min.js"></script>

<script src="/plugins/bootstrap/bootstrap.min.js"></script>

<script src="/plugins/slick/slick.min.js"></script>

<script src="/plugins/venobox/venobox.min.js"></script>

<script src="/plugins/filterizr/jquery.filterizr.min.js"></script>

<script src="/plugins/search/fuse.min.js"></script>

<script src="/plugins/search/mark.js"></script>

<script src="/plugins/hex_md5/hex_md5.js"></script>

<script src="/plugins/anchor/anchor.min.js"></script>

<script src="/plugins/tocbot/tocbot.min.js"></script>

<script src="/plugins/bigger-picture/bigger-picture.min.js"></script>


<!-- Main Script -->

<script src="/js/script.min.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-ESY906ZWZ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ESY906ZWZ0');
</script>


<!-- Baidu analysis -->
<meta name="baidu-site-verification" content="g8IYR9SNLF" />


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?11f7d254cfa4e0ca44b175c66d379ecc";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>



<script>

var mybutton = document.getElementById("backTopBtn");


window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}


function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>









<script>



(function() {
  'use strict';

  if(!document.queryCommandSupported('copy')) {
    return;
  }

  function flashCopyMessage(el, msg) {
    el.className = "highlight-copy-btn";
    el.textContent = msg;
    setTimeout(function() {
      el.textContent = "";
      el.className = "highlight-copy-btn fa-regular fa-copy";
    }, 1000);
  }

  function selectText(node) {
    var selection = window.getSelection();
    var range = document.createRange();
    range.selectNodeContents(node);
    selection.removeAllRanges();
    selection.addRange(range);
    return selection;
  }

  function addCopyButton(containerEl) {
    var copyBtn = document.createElement("button");
    copyBtn.className = "highlight-copy-btn fa-regular fa-copy";
    copyBtn.textContent = "";

    var codeEl = containerEl.firstElementChild;
    copyBtn.addEventListener('click', function() {
      try {
        var selection = selectText(codeEl);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        flashCopyMessage(copyBtn, '已复制')
        
      } catch(e) {
        console && console.log(e);
        flashCopyMessage(copyBtn, 'Failed :\'(')
      }
    });

    containerEl.appendChild(copyBtn);
  }

  
  var highlightBlocks = document.getElementsByClassName('highlight');
  Array.prototype.forEach.call(highlightBlocks, addCopyButton);
})();
</script>




<script>
tocbot.init({
  
  tocSelector: '.aside-toc #TableOfContents',
  
  contentSelector: '.content',
  
  headingSelector: 'h1, h2, h3, h4',
  
  hasInnerContainers: false,
  collapseDepth: 3
});
</script>












<script src="/js/wowchemy-search.min.1ecbc9de2b5cc25f418af07a67ab2483.js" type="module"></script>
<script id="search-hit-fuse-template" type="text/x-template">
  <div class="search-hit" id="summary-{{key}}">
    <div class="search-hit-content">
      <div class="search-hit-name">
        <div class="article-metadata search-hit-type">{{relpermalink}}</div>
        <a href="{{relpermalink}}">{{title}}</a>
        <p class="search-hit-description">{{snippet}}</p>
      </div>
    </div>
  </div>
</script>


</body>

</html>
