<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="640" height="338" version="1.1" viewBox="-563 2578 640 338"><defs><marker id="FilledArrow_Marker" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="6" markerUnits="strokeWidth" markerWidth="7" orient="auto" overflow="visible" viewBox="-1 -3 7 6"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 4.8 0 L 0 -1.8 L 0 1.8 Z"/></g></marker><marker id="FilledArrow_Marker_2" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="6" markerUnits="strokeWidth" markerWidth="7" orient="auto" overflow="visible" viewBox="-6 -3 7 6"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M -4.8 0 L 0 1.8 L 0 -1.8 Z"/></g></marker></defs><g id="spire-federation-docker-compose-example" fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>spire-federation-docker-compose-example</title><rect width="640" height="338" x="-563" y="2578" fill="#fff"/><g id="spire-federation-docker-compose-example_Layer_1"><title>Layer 1</title><g id="Graphic_16"><rect width="225.354" height="148.819" x="-202.677" y="2613.543" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(-197.67717 2618.5433)"><tspan x="34.781" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">user: quotes-service</tspan></text></g><g id="Graphic_15"><rect width="225.354" height="148.819" x="-542.126" y="2613.543" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(-537.126 2618.5433)"><tspan x="58.933" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">user: webapp</tspan></text></g><g id="Graphic_2"><rect width="188.504" height="53.858" x="-523.701" y="2650.394" fill="#333"/><rect width="188.504" height="53.858" x="-523.701" y="2650.394" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-518.7008 2658.875)"><tspan x="42.58" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">Stock Broker</tspan> <tspan x="56.364" y="33.448" fill="#fff" font-family="Helvetica Neue" font-size="16">Web App</tspan></text></g><g id="Graphic_3"><rect width="188.504" height="53.858" x="-184.252" y="2650.394" fill="#333"/><rect width="188.504" height="53.858" x="-184.252" y="2650.394" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-179.25197 2658.875)"><tspan x="13.228" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">Stock Market Quotes </tspan> <tspan x="62.74" y="33.448" fill="#fff" font-family="Helvetica Neue" font-size="16">Service</tspan></text></g><g id="Graphic_4"><rect width="188.504" height="53.858" x="-184.252" y="2810.551" fill="#0a55a8"/><rect width="188.504" height="53.858" x="-184.252" y="2810.551" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-179.25197 2819.0323)"><tspan x="41.116" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">SPIRE Server</tspan> <tspan x="12.34" y="33.448" fill="#fff" font-family="Helvetica Neue" font-size="16">stockmarket.example</tspan></text></g><g id="Graphic_5"><rect width="188.504" height="53.858" x="-523.701" y="2810.551" fill="#0a55a8"/><rect width="188.504" height="53.858" x="-523.701" y="2810.551" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-518.7008 2819.0323)"><tspan x="41.116" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">SPIRE Server</tspan> <tspan x="34.42" y="33.448" fill="#fff" font-family="Helvetica Neue" font-size="16">broker.example</tspan></text></g><g id="Line_6"><line x1="-335.197" x2="-197.152" y1="2677.323" y2="2677.323" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)"/></g><g id="Graphic_10"><rect width="188.504" height="32.598" x="-523.701" y="2704.252" fill="#333"/><rect width="188.504" height="32.598" x="-523.701" y="2704.252" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-518.7008 2711.3272)"><tspan x="43.18" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">SPIRE Agent</tspan></text></g><g id="Graphic_11"><rect width="188.504" height="32.598" x="-184.252" y="2704.252" fill="#333"/><rect width="188.504" height="32.598" x="-184.252" y="2704.252" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-179.25197 2711.3272)"><tspan x="43.18" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">SPIRE Agent</tspan></text></g><g id="Line_12"><line x1="-429.449" x2="-429.449" y1="2736.85" y2="2797.651" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_13"><line x1="-90" x2="-90" y1="2736.85" y2="2797.651" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)"/></g><g id="Graphic_14"><text fill="#000" transform="translate(-280.7644 2655.3937)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" font-style="italic">mTLS</tspan></text></g><g id="Graphic_17"><rect width="188.504" height="32.598" x="-523.701" y="2864.41" fill="#0a55a8"/><rect width="188.504" height="32.598" x="-523.701" y="2864.41" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-518.7008 2871.4847)"><tspan x="4.644" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">SPIRE Bundle Endpoint</tspan></text></g><g id="Graphic_18"><rect width="188.504" height="32.598" x="-184.252" y="2864.41" fill="#0a55a8"/><rect width="188.504" height="32.598" x="-184.252" y="2864.41" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-179.25197 2871.4847)"><tspan x="4.644" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16">SPIRE Bundle Endpoint</tspan></text></g><g id="Line_19"><line x1="-322.297" x2="-197.152" y1="2880.709" y2="2880.709" stroke="#000" stroke-dasharray="8 8" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" marker-start="url(#FilledArrow_Marker_2)"/></g><g id="Graphic_20"><text fill="#000" transform="translate(-291.27894 2862.2607)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" font-style="italic">Exchange</tspan> <tspan x="6.664" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16" font-style="italic">bundles</tspan></text></g><g id="Graphic_22"><text fill="#000" transform="translate(-247.632 2590.0953)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" font-style="italic">spiffe://stockmarket.example/quotes-service</tspan></text></g><g id="Graphic_23"><text fill="#000" transform="translate(-541.7768 2590.0953)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16" font-style="italic">spiffe://broker.example/webapp</tspan></text></g></g></g></svg>