<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="632" height="391" version="1.1" viewBox="-952 2385 632 391"><defs><font-face x-height="517" ascent="975.006" cap-height="714" descent="-216.995" font-family="Helvetica Neue" font-size="12" font-weight="700" panose-1="2 0 8 3 0 0 0 9 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Bold"/></font-face-src></font-face><font-face x-height="517" ascent="975.006" cap-height="714" descent="-216.995" font-family="Helvetica Neue" font-size="14" font-weight="700" panose-1="2 0 8 3 0 0 0 9 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Bold"/></font-face-src></font-face><marker id="FilledArrow_Marker" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="6" markerUnits="strokeWidth" markerWidth="7" orient="auto" overflow="visible" viewBox="-1 -3 7 6"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 4.8 0 L 0 -1.8 L 0 1.8 Z"/></g></marker><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="12" font-weight="400" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face></defs><metadata>Produced by OmniGraffle 7.11.5</metadata><g id="Canvas___-1" fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>两级网关</title><rect width="632" height="391" x="-952" y="2385" fill="#fff"/><g id="Canvas___-1: Layer 1"><title>Layer 1</title><g id="Graphic_41"><rect width="606.998" height="98.646" x="-938.885" y="2503.559" fill="#eaeaea" fill-opacity=".605"/><rect width="606.998" height="98.646" x="-938.885" y="2503.559" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(-933.8848 2508.559)"><tspan x="0" y="12" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="700">Global</tspan> <tspan x="0" y="27.348" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="700">Control</tspan> <tspan x="0" y="42.696" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="700">Plane</tspan></text></g><g id="Graphic_16"><rect width="287.998" height="116.073" x="-938.885" y="2649.124" fill="#eaeaea" fill-opacity=".605"/><rect width="287.998" height="116.073" x="-938.885" y="2649.124" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-opacity=".662" stroke-width="1"/><text fill="#000" transform="translate(-933.8848 2744.8488)"><tspan x="113.331" y="12" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="700">Cluster 1</tspan></text></g><g id="Graphic_14"><rect width="102.5" height="40.484" x="-911.347" y="2698.73" fill="#333"/><rect width="102.5" height="40.484" x="-911.347" y="2698.73" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-906.3474 2710.2694)"><tspan x="14.743" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Service A</tspan></text></g><g id="Graphic_9"><rect width="113.386" height="46.772" x="-851.579" y="2529.921" fill="#0a55a8"/><rect width="113.386" height="46.772" x="-851.579" y="2529.921" stroke="#666" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-846.5787 2535.901)"><tspan x="34.977" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Tier1</tspan> <tspan x="15.79" y="31.406" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Gateway A</tspan></text></g><g id="Graphic_8"><rect width="113.386" height="46.772" x="-692.079" y="2529.921" fill="#0a55a8"/><rect width="113.386" height="46.772" x="-692.079" y="2529.921" stroke="#666" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-687.07875 2535.901)"><tspan x="34.977" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Tier1</tspan> <tspan x="15.657" y="31.406" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Gateway B</tspan></text></g><g id="Graphic_7"><rect width="113.386" height="46.772" x="-532.579" y="2529.921" fill="#0a55a8"/><rect width="113.386" height="46.772" x="-532.579" y="2529.921" stroke="#666" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-527.57875 2535.901)"><tspan x="34.977" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Tier1</tspan> <tspan x="15.398" y="31.406" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Gateway C</tspan></text></g><g id="Graphic_6"><title>Account Box</title><path fill="#0a55a8" d="M -653.3858 2398.425 L -653.3858 2426.425 C -653.3858 2428.625 -651.6058 2430.425 -649.3858 2430.425 L -621.3858 2430.425 C -619.1858 2430.425 -617.3858 2428.625 -617.3858 2426.425 L -617.3858 2398.425 C -617.3858 2396.225 -619.1858 2394.425 -621.3858 2394.425 L -649.3858 2394.425 C -651.6058 2394.425 -653.3858 2396.225 -653.3858 2398.425 Z M -629.3858 2406.425 C -629.3858 2409.745 -632.0658 2412.425 -635.3858 2412.425 C -638.7058 2412.425 -641.3858 2409.745 -641.3858 2406.425 C -641.3858 2403.105 -638.7058 2400.425 -635.3858 2400.425 C -632.0658 2400.425 -629.3858 2403.105 -629.3858 2406.425 Z M -647.3858 2422.425 C -647.3858 2418.425 -639.3858 2416.225 -635.3858 2416.225 C -631.3858 2416.225 -623.3858 2418.425 -623.3858 2422.425 L -623.3858 2424.425 L -647.3858 2424.425 L -647.3858 2422.425 Z"/></g><g id="Line_5"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -635.3858 2486.96 L -794.4228 2486.96 L -794.4228 2517.0296"/></g><g id="Line_4"><line x1="-635.386" x2="-635.386" y1="2430.425" y2="2517.021" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_3"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -635.3858 2486.7765 L -475.6209 2486.7765 L -475.6209 2517.024"/></g><g id="Graphic_19"><rect width="102.5" height="40.484" x="-784.322" y="2698.73" fill="#333"/><rect width="102.5" height="40.484" x="-784.322" y="2698.73" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-779.3219 2710.2694)"><tspan x="14.61" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Service B</tspan></text></g><g id="Graphic_20"><rect width="113.386" height="46.772" x="-851.579" y="2624.18" fill="#0a55a8"/><rect width="113.386" height="46.772" x="-851.579" y="2624.18" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-846.5787 2638.8627)"><tspan x="3.869" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Tier2 Gateway</tspan></text></g><g id="Graphic_24"><rect width="287.998" height="116.073" x="-619.885" y="2649.124" fill="#eaeaea" fill-opacity=".605"/><rect width="287.998" height="116.073" x="-619.885" y="2649.124" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-opacity=".662" stroke-width="1"/><text fill="#000" transform="translate(-614.88485 2744.8488)"><tspan x="113.331" y="12" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="700">Cluster 2</tspan></text></g><g id="Graphic_23"><rect width="102.5" height="40.484" x="-592.347" y="2698.73" fill="#333"/><rect width="102.5" height="40.484" x="-592.347" y="2698.73" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-587.34744 2710.2694)"><tspan x="14.743" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Service A</tspan></text></g><g id="Graphic_22"><rect width="102.5" height="40.484" x="-465.322" y="2698.73" fill="#333"/><rect width="102.5" height="40.484" x="-465.322" y="2698.73" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-460.32185 2710.2694)"><tspan x="14.61" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Service B</tspan></text></g><g id="Graphic_21"><rect width="113.386" height="46.772" x="-532.579" y="2624.18" fill="#0a55a8"/><rect width="113.386" height="46.772" x="-532.579" y="2624.18" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-527.57875 2638.8627)"><tspan x="3.869" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="700">Tier2 Gateway</tspan></text></g><g id="Line_32"><line x1="-738.193" x2="-544.95" y1="2570.059" y2="2627.159" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_33"><line x1="-674.958" x2="-744.208" y1="2576.693" y2="2617.617" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_34"><line x1="-595.813" x2="-526.564" y1="2576.693" y2="2617.617" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_35"><line x1="-532.579" x2="-725.822" y1="2570.059" y2="2627.159" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_39"><line x1="-816.243" x2="-832.912" y1="2670.952" y2="2689.205" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_40"><line x1="-497.243" x2="-513.912" y1="2670.952" y2="2689.205" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)"/></g><g id="Graphic_42"><text fill="#000" transform="translate(-409.3548 2517.467)"><tspan x="23.79" y="11" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400">DNS</tspan> <tspan x="0" y="25.336" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400">example.com</tspan> <tspan x="12.672" y="39.672" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400">points to</tspan> <tspan x="22.902" y="54.008" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400">Tier1</tspan> <tspan x="12.576" y="68.344" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400">Gateway</tspan></text></g><g id="Graphic_43"><rect width="148.252" height="38.672" x="-709.512" y="2437.484" fill="#fff"/><text fill="#000" transform="translate(-704.5118 2442.484)"><tspan x="58.908" y="11" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400">Call</tspan> <tspan x="0" y="25.336" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400">serivceA.example.com:80</tspan></text></g><g id="Graphic_44"><text fill="#000" transform="translate(-933.8848 2582.8687)"><tspan x="0" y="11" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="400">Listening serviceA.example.com</tspan></text></g><g id="Graphic_45"><text fill="#000" transform="translate(-933.8848 2654.124)"><tspan x="0" y="12" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="700">Istio Mesh</tspan></text></g><g id="Graphic_46"><text fill="#000" transform="translate(-614.88485 2654.124)"><tspan x="0" y="12" fill="#000" font-family="Helvetica Neue" font-size="12" font-weight="700">Istio Mesh</tspan></text></g></g></g></svg>