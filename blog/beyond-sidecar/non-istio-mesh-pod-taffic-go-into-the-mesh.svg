<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns:xl="http://www.w3.org/1999/xlink" xmlns:dc="http://purl.org/dc/elements/1.1/" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="40 -88 1649 559" width="1649" height="559">
  <defs>
    <marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker" stroke-linejoin="miter" stroke-miterlimit="10" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black">
      <g>
        <path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/>
      </g>
    </marker>
  </defs>
  <g id="non-istio-mesh-pod-taffic-go-into-the-mesh" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1" fill="none">
    <title>non-istio-mesh-pod-taffic-go-into-the-mesh</title>
    <rect fill="white" x="40" y="-88" width="1649" height="559"/>
    <g id="non-istio-mesh-pod-taffic-go-into-the-mesh_Layer_1">
      <title>Layer 1</title>
      <g id="Graphic_50"/>
      <g id="Graphic_46">
        <path d="M 79 -12 L 825.5285 -12 C 827.7376 -12 829.5285 -10.209139 829.5285 -8 L 829.5285 376.5 C 829.5285 378.70914 827.7376 380.5 825.5285 380.5 L 79 380.5 C 76.79086 380.5 75 378.70914 75 376.5 L 75 -8 C 75 -10.209139 76.79086 -12 79 -12 Z" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>
        <text transform="translate(80 -7)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="0" y="15" xml:space="preserve">Node A</tspan>
        </text>
      </g>
      <g id="Graphic_91">
        <path d="M 626.4646 183.83447 L 792.4616 183.83447 L 792.4616 263.25823 L 626.4646 263.25823 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="4.0,4.0" stroke-width="1"/>
        <text transform="translate(631.4646 188.83447)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="33.974474" y="15" xml:space="preserve">Out of mesh</tspan>
        </text>
      </g>
      <g id="Graphic_45">
        <rect x="131.9661" y="321.25625" width="660.49545" height="34.27516" fill="#dadada"/>
        <text transform="translate(136.9661 329.16983)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="268.20774" y="15" xml:space="preserve">Kubernetes CNI</tspan>
        </text>
      </g>
      <g id="Graphic_44">
        <rect x="131.9661" y="275.11966" width="660.49545" height="34.27516" fill="#dadada"/>
        <text transform="translate(136.9661 283.03324)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="294.43974" y="15" xml:space="preserve">Istio CNI</tspan>
        </text>
      </g>
      <g id="Graphic_43">
        <rect x="131.9661" y="218.20806" width="315.17482" height="38.671997" fill="#666"/>
        <text transform="translate(136.9661 228.32005)" fill="white">
          <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="130.65942" y="15" xml:space="preserve">Pod A</tspan>
        </text>
      </g>
      <g id="Graphic_42">
        <path d="M 404.21383 37 L 520.21383 37 C 522.423 37 524.21383 38.79086 524.21383 41 L 524.21383 85 C 524.21383 87.20914 522.423 89 520.21383 89 L 404.21383 89 C 402.0047 89 400.21383 87.20914 400.21383 85 L 400.21383 41 C 400.21383 38.79086 402.0047 37 404.21383 37 Z" fill="#456bb0"/>
        <text transform="translate(405.21383 53.267944)" fill="white">
          <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="22.624" y="16" xml:space="preserve">ztunnel A</tspan>
        </text>
      </g>
      <g id="Line_39">
        <path d="M 407.43077 189.76006 C 396.36257 173.76586 374.4557 150 342 150 C 313.6203 150 284.91753 168.17137 265.81936 183.42886" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>
      </g>
      <g id="Group_36">
        <g id="Graphic_38">
          <path d="M 384.5981 218.20806 L 384.5981 195.34652 L 415.8695 183.9329 L 447.14093 195.34652 L 447.14093 218.20806 Z" fill="#ff8080"/>
        </g>
        <g id="Graphic_37">
          <text transform="translate(398.0775 194.76006)" fill="white">
            <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="0" y="15" xml:space="preserve">9080</tspan>
          </text>
        </g>
      </g>
      <g id="Graphic_33">
        <rect x="638.4823" y="218.10963" width="141.96156" height="38.671997" fill="#666"/>
        <text transform="translate(643.4823 228.22163)" fill="white">
          <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="43.75678" y="15" xml:space="preserve">Pod B</tspan>
        </text>
      </g>
      <g id="Line_29">
        <path d="M 680.5068 218.10963 C 668.33056 214.14915 651.03416 210.2663 626.4646 207.22222 C 573.0874 200.60898 501.4903 199.9502 457.0399 200.327" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>
      </g>
      <g id="Graphic_28">
        <rect x="485.5382" y="187.43404" width="133.888" height="28.447998" fill="white"/>
        <text transform="translate(490.5382 192.43404)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="0" y="15" xml:space="preserve">To Pod A IP:9080</tspan>
        </text>
      </g>
      <g id="Graphic_47">
        <text transform="translate(79.99999 -56.19617)" fill="black">
          <tspan font-family="Helvetica Neue" font-weight="bold" font-size="24" fill="black" x="36948222e-20" y="23" xml:space="preserve">Non-Istio Mesh Pod Taffic Go into the Mesh</tspan>
        </text>
      </g>
      <g id="Graphic_49">
        <text transform="translate(80 396)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="0" y="15" xml:space="preserve">Iptables redirect the packets to the ports that ztunnel listening.</tspan>
        </text>
      </g>
      <g id="Group_51">
        <g id="Graphic_53">
          <path d="M 131.9661 218.10963 L 131.9661 195.2481 L 163.23752 183.83447 L 194.50894 195.2481 L 194.50894 218.10963 Z" fill="#ff8080"/>
        </g>
        <g id="Graphic_52">
          <text transform="translate(140.99752 194.66164)" fill="white">
            <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="0" y="15" xml:space="preserve">15001</tspan>
          </text>
        </g>
      </g>
      <g id="Graphic_54">
        <text transform="translate(80 424.448)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="0" y="17" xml:space="preserve">Istio CNI will create a cross-netns socket for each Pod that listen on port 15001 </tspan>
          <tspan font-family="PingFang SC" font-size="16" fill="black" y="17" xml:space="preserve">(outbound socket), 15006 (plaintext socket) and 15008 (HBONE socket).</tspan>
        </text>
      </g>
      <g id="Line_55">
        <path d="M 234.57324 187.0849 C 224.49455 167.08404 214.25567 129.70884 257.64706 102.35294 C 290.39474 81.70732 345.56136 71.89255 390.35854 67.2269" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>
      </g>
      <g id="Graphic_58">
        <rect x="310.52" y="135.7971" width="66.304" height="28.447998" fill="white"/>
        <text transform="translate(315.52 140.7971)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="42632564e-21" y="15" xml:space="preserve">iptables</tspan>
        </text>
      </g>
      <g id="Graphic_59">
        <rect x="183.5598" y="88.62242" width="146.624" height="28.447998" fill="white"/>
        <text transform="translate(188.5598 93.62242)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="0" y="15" xml:space="preserve">cross-netns socket</tspan>
        </text>
      </g>
      <g id="Group_78">
        <g id="Graphic_80">
          <path d="M 211.93778 218.20806 L 211.93778 195.34652 L 243.2092 183.9329 L 274.4806 195.34652 L 274.4806 218.20806 Z" fill="#ff8080"/>
        </g>
        <g id="Graphic_79">
          <text transform="translate(220.9692 194.76006)" fill="white">
            <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="0" y="15" xml:space="preserve">15006</tspan>
          </text>
        </g>
      </g>
      <g id="Group_84">
        <g id="Graphic_86">
          <path d="M 291.90945 218.10963 L 291.90945 195.2481 L 323.18087 183.83447 L 354.4523 195.2481 L 354.4523 218.10963 Z" fill="#ff8080"/>
        </g>
        <g id="Graphic_85">
          <text transform="translate(300.94086 194.66164)" fill="white">
            <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="0" y="15" xml:space="preserve">15008</tspan>
          </text>
        </g>
      </g>
      <g id="Line_90">
        <path d="M 467.0312 89 C 467.76845 101.22926 466.80706 116.9344 461.1111 134.26204 C 454.90573 153.13942 444.46015 169.74709 435.16855 182.01376" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>
      </g>
      <g id="Graphic_150">
        <path d="M 900 -12 L 1646.5285 -12 C 1648.7376 -12 1650.5285 -10.209139 1650.5285 -8 L 1650.5285 376.5 C 1650.5285 378.70914 1648.7376 380.5 1646.5285 380.5 L 900 380.5 C 897.7909 380.5 896 378.70914 896 376.5 L 896 -8 C 896 -10.209139 897.7909 -12 900 -12 Z" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>
        <text transform="translate(901 -7)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="0" y="15" xml:space="preserve">Node A</tspan>
        </text>
      </g>
      <g id="Graphic_149">
        <path d="M 1447.4646 183.83447 L 1613.4616 183.83447 L 1613.4616 263.25823 L 1447.4646 263.25823 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="4.0,4.0" stroke-width="1"/>
        <text transform="translate(1452.4646 188.83447)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="33.974474" y="15" xml:space="preserve">Out of mesh</tspan>
        </text>
      </g>
      <g id="Graphic_148">
        <rect x="952.9661" y="321.25625" width="660.49545" height="34.27516" fill="#dadada"/>
        <text transform="translate(957.9661 329.16983)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="268.20774" y="15" xml:space="preserve">Kubernetes CNI</tspan>
        </text>
      </g>
      <g id="Graphic_147">
        <rect x="952.9661" y="275.11966" width="660.49545" height="34.27516" fill="#dadada"/>
        <text transform="translate(957.9661 283.03324)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="294.43974" y="15" xml:space="preserve">Istio CNI</tspan>
        </text>
      </g>
      <g id="Graphic_146">
        <rect x="952.9661" y="218.20806" width="315.17482" height="38.671997" fill="#666"/>
        <text transform="translate(957.9661 228.32005)" fill="white">
          <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="130.65942" y="15" xml:space="preserve">Pod A</tspan>
        </text>
      </g>
      <g id="Graphic_145">
        <path d="M 1225.2138 37 L 1341.2138 37 C 1343.423 37 1345.2138 38.79086 1345.2138 41 L 1345.2138 85 C 1345.2138 87.20914 1343.423 89 1341.2138 89 L 1225.2138 89 C 1223.0047 89 1221.2138 87.20914 1221.2138 85 L 1221.2138 41 C 1221.2138 38.79086 1223.0047 37 1225.2138 37 Z" fill="#456bb0"/>
        <text transform="translate(1226.2138 53.267944)" fill="white">
          <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="22.624" y="16" xml:space="preserve">ztunnel A</tspan>
        </text>
      </g>
      <g id="Graphic_140">
        <rect x="1459.4823" y="218.10963" width="141.96156" height="38.671997" fill="#666"/>
        <text transform="translate(1464.4823 228.22163)" fill="white">
          <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="43.75678" y="15" xml:space="preserve">Pod B</tspan>
        </text>
      </g>
      <g id="Group_134">
        <g id="Graphic_136">
          <path d="M 952.9661 218.10963 L 952.9661 195.2481 L 984.2375 183.83447 L 1015.509 195.2481 L 1015.509 218.10963 Z" fill="#ff8080"/>
        </g>
        <g id="Graphic_135">
          <text transform="translate(961.9975 194.66164)" fill="white">
            <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="0" y="15" xml:space="preserve">15001</tspan>
          </text>
        </g>
      </g>
      <g id="Line_133">
        <path d="M 1122.806 189.66164 C 1094.4442 169.0719 1051.002 130.3664 1078.647 102.35294 C 1100.599 80.10849 1161.6211 70.435345 1211.3463 66.23028" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>
      </g>
      <g id="Graphic_131">
        <rect x="1005.17" y="88.29715" width="146.624" height="28.447998" fill="white"/>
        <text transform="translate(1010.17 93.29715)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="0" y="15" xml:space="preserve">cross-netns socket</tspan>
        </text>
      </g>
      <g id="Group_128">
        <g id="Graphic_130">
          <path d="M 1032.9378 218.20806 L 1032.9378 195.34652 L 1064.2092 183.9329 L 1095.4806 195.34652 L 1095.4806 218.20806 Z" fill="#ff8080"/>
        </g>
        <g id="Graphic_129">
          <text transform="translate(1041.9692 194.76006)" fill="white">
            <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="0" y="15" xml:space="preserve">15006</tspan>
          </text>
        </g>
      </g>
      <g id="Group_125">
        <g id="Graphic_127">
          <path d="M 1112.9094 218.10963 L 1112.9094 195.2481 L 1144.1809 183.83447 L 1175.4523 195.2481 L 1175.4523 218.10963 Z" fill="#ff8080"/>
        </g>
        <g id="Graphic_126">
          <text transform="translate(1121.9409 194.66164)" fill="white">
            <tspan font-family="Helvetica Neue" font-size="16" fill="white" x="0" y="15" xml:space="preserve">15008</tspan>
          </text>
        </g>
      </g>
      <g id="Line_151">
        <path d="M 1473.2705 218.10963 C 1443.3384 209.90409 1402.6271 201.1766 1353.4653 196.53465 C 1287.2319 190.28075 1224.5102 193.22233 1185.3106 196.51948" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>
      </g>
      <g id="Graphic_152">
        <rect x="1260.5672" y="180.582" width="142.784" height="28.447998" fill="white"/>
        <text transform="translate(1265.5672 185.582)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="0" y="15" xml:space="preserve">To Pod A IP:15008</tspan>
        </text>
      </g>
      <g id="Graphic_153">
        <rect x="1032.7126" y="66.49245" width="62.768" height="28.447998" fill="white"/>
        <text transform="translate(1037.7126 71.49245)" fill="black">
          <tspan font-family="Helvetica Neue" font-size="16" fill="black" x="14210855e-21" y="15" xml:space="preserve">0x539?</tspan>
        </text>
      </g>
    </g>
  </g>
</svg>
