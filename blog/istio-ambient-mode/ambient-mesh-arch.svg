<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="694" height="622" version="1.1" viewBox="511 385 694 622"><defs><marker id="FilledArrow_Marker" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker><marker id="FilledArrow_Marker_2" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="6" markerUnits="strokeWidth" markerWidth="7" orient="auto" overflow="visible" viewBox="-1 -3 7 6"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 4.8 0 L 0 -1.8 L 0 1.8 Z"/></g></marker></defs><g id="Ambient_mesh_architecture" fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>Ambient mesh architecture</title><rect width="694" height="622" x="511" y="385" fill="#fff"/><g id="Ambient_mesh_architecture_Layer_1"><title>Layer 1</title><g id="Graphic_30"><rect width="693.071" height="620.787" x="511.654" y="385.512" fill="#fff"/></g><g id="Line_70"><path stroke="#000" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M 742.44095 945.1336 C 721.5077 942.2704 700.8415 937.6627 683.1496 930.4444 C 650.2682 917.0289 635.0656 897.6167 628.1503 881.0279"/></g><g id="Line_71"><path stroke="#000" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M 811.1874 923.7656 C 802.2001 918.2383 793.7366 911.7581 787.3333 904.3535 C 780.5698 896.5324 776.9928 888.7067 775.3503 881.4887"/></g><g id="Line_72"><path stroke="#000" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M 908.5157 923.7656 C 912.0053 920.4478 915.3615 916.6911 918.4252 912.4444 C 925.6438 902.4386 930.0262 891.3934 932.6776 881.3276"/></g><g id="Line_73"><path stroke="#000" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M 988.1102 940.358 C 1011.0191 936.8148 1033.368 931.5506 1051.3333 923.7656 C 1079.6341 911.5017 1091.2305 895.5065 1095.3243 881.3974"/></g><g id="Line_75"><path stroke="#000" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M 860.5678 923.7656 C 856.5428 901.6417 851.2137 866.5284 850 830.4156 C 849.1616 805.4696 850.4515 784.9454 852.2384 769.5003"/></g><g id="Graphic_43"><path stroke="gray" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 537.16536 816.1506 L 1193.3858 816.1506 L 1193.3858 904.3535 L 537.16536 904.3535 Z"/></g><g id="Graphic_29"><rect width="171.496" height="337.323" x="982.205" y="396.85" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(987.2047 401.8504)"><tspan x="52.3" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Node C</tspan></text></g><g id="Graphic_28"><rect width="171.496" height="337.323" x="772.441" y="396.85" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(777.44095 401.8504)"><tspan x="52.596" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Node B</tspan></text></g><g id="Graphic_24"><rect width="120.472" height="46.772" x="797.953" y="435.118" fill="#333"/><text fill="#fff" transform="translate(802.9528 448.7719)"><tspan x="32.124" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">App B</tspan></text></g><g id="Graphic_23"><rect width="120.472" height="46.772" x="797.953" y="503.15" fill="#333"/><text fill="#fff" transform="translate(802.9528 516.8034)"><tspan x="32.276" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">App A</tspan></text></g><g id="Graphic_22"><rect width="120.472" height="46.772" x="797.953" y="571.181" fill="#333"/><text fill="#fff" transform="translate(802.9528 584.8349)"><tspan x="31.828" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">App C</tspan></text></g><g id="Graphic_21"><rect width="120.472" height="46.772" x="1007.716" y="435.118" fill="#333"/><text fill="#fff" transform="translate(1012.7165 448.7719)"><tspan x="31.828" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">App C</tspan></text></g><g id="Graphic_20"><rect width="120.472" height="46.772" x="1007.716" y="503.15" fill="#333"/><text fill="#fff" transform="translate(1012.7165 516.8034)"><tspan x="31.828" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">App D</tspan></text></g><g id="Graphic_19"><rect width="120.472" height="46.772" x="1007.716" y="571.181" fill="#333"/><text fill="#fff" transform="translate(1012.7165 584.8349)"><tspan x="31.828" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">App D</tspan></text></g><g id="Line_33"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker_2)" d="M 648.4252 763.937 L 648.4252 802.513 L 779.7638 802.513 L 779.7638 811.9819"/></g><g id="Line_34"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker_2)" d="M 814.252 824.8819 L 814.252 801.0295 L 858.2693 801.0295 L 858.189 778.585 L 858.189 772.58505"/></g><g id="Line_35"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker_2)" d="M 858.189 712.9134 L 858.189 696.7626 L 934.127 696.7626 L 934.127 458.50394 L 931.3252 458.50394"/></g><g id="Graphic_36"><text fill="#666" transform="translate(671.1417 782.8758)"><tspan x="0" y="11" fill="#666" font-family="Helvetica Neue" font-size="12" font-style="italic">HBONE encapsulation</tspan></text></g><g id="Graphic_39"><path stroke="gray" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 537.16536 684.5669 L 1193.3858 684.5669 L 1193.3858 772.7699 L 537.16536 772.7699 Z"/></g><g id="Graphic_27"><rect width="171.496" height="347.244" x="562.677" y="396.85" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(567.6772 401.8504)"><tspan x="52.748" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Node A</tspan></text></g><g id="Graphic_26"><rect width="120.472" height="46.772" x="588.189" y="435.118" fill="#333"/><text fill="#fff" transform="translate(593.189 448.7719)"><tspan x="32.276" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">App A</tspan></text></g><g id="Graphic_25"><rect width="120.472" height="46.772" x="588.189" y="503.15" fill="#333"/><text fill="#fff" transform="translate(593.189 516.8034)"><tspan x="31.828" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">App C</tspan></text></g><g id="Line_32"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker_2)" d="M 708.6614 458.50394 L 719.5276 458.50394 L 719.5276 696 L 648.4252 696 L 648.4252 704.2654"/></g><g id="Graphic_17"><rect width="87.874" height="46.772" x="814.252" y="712.913" fill="#0a55a8"/><text fill="#fff" transform="translate(819.252 716.8351)"><tspan x="11.081" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">ztunnel</tspan> <tspan x="11.073" y="35.464" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">(Envoy)</tspan></text></g><g id="Graphic_16"><rect width="87.874" height="46.772" x="1024.016" y="712.913" fill="#0a55a8"/><text fill="#fff" transform="translate(1029.0158 716.8351)"><tspan x="11.081" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">ztunnel</tspan> <tspan x="11.073" y="35.464" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">(Envoy)</tspan></text></g><g id="Graphic_15"><rect width="120.472" height="46.772" x="562.677" y="824.882" fill="#0a55a8"/><text fill="#fff" transform="translate(567.6772 830.8616)"><tspan x="2.225" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="bold">App A Waypoint</tspan> <tspan x="21.93" y="31.406" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="bold">(Gateway)</tspan></text></g><g id="Graphic_14"><rect width="120.472" height="46.772" x="719.528" y="824.882" fill="#0a55a8"/><text fill="#fff" transform="translate(724.5276 830.8616)"><tspan x="2.092" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="bold">App B Waypoint</tspan> <tspan x="21.93" y="31.406" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="bold">(Gateway)</tspan></text></g><g id="Graphic_13"><rect width="120.472" height="46.772" x="876.378" y="824.882" fill="#0a55a8"/><text fill="#fff" transform="translate(881.378 830.8616)"><tspan x="1.833" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="bold">App C Waypoint</tspan> <tspan x="21.93" y="31.406" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="bold">(Gateway)</tspan></text></g><g id="Graphic_12"><rect width="120.472" height="46.772" x="1033.228" y="824.882" fill="#0a55a8"/><text fill="#fff" transform="translate(1038.2284 830.8616)"><tspan x="1.833" y="14" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="bold">App D Waypoint</tspan> <tspan x="21.93" y="31.406" fill="#fff" font-family="Helvetica Neue" font-size="14" font-weight="bold">(Gateway)</tspan></text></g><g id="Graphic_18"><rect width="87.874" height="46.772" x="604.488" y="717.165" fill="#0a55a8"/><text fill="#fff" transform="translate(609.4882 721.0871)"><tspan x="11.081" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">ztunnel</tspan> <tspan x="11.073" y="35.464" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="bold">(Envoy)</tspan></text></g><g id="Graphic_41"><text fill="#666" transform="translate(928.7329 751.3779)"><tspan x="0" y="11" fill="#666" font-family="Helvetica Neue" font-size="12" font-style="italic">DaemonSets</tspan></text></g><g id="Graphic_42"><text fill="#666" transform="translate(938.0288 885.0175)"><tspan x="0" y="11" fill="#666" font-family="Helvetica Neue" font-size="12" font-style="italic">Per waypoint proxy per service account</tspan></text></g><g id="Graphic_45"><text fill="#000" transform="translate(1176.6103 767.6024) rotate(-90)"><tspan x="0" y="9" fill="#000" font-family="Helvetica Neue" font-size="9" font-weight="bold">L4 Secure Overlay</tspan></text></g><g id="Graphic_46"><text fill="#000" transform="translate(1177.1248 884.7536) rotate(-90)"><tspan x="0" y="9" fill="#000" font-family="Helvetica Neue" font-size="9" font-weight="bold">L7 Network</tspan></text></g><g id="Graphic_52"><rect width="120.472" height="33.358" x="588.189" y="637.795" fill="#ccc"/><text fill="#000" transform="translate(593.189 644.74244)"><tspan x="22.372" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Istio CNI</tspan></text></g><g id="Graphic_53"><rect width="120.472" height="33.358" x="797.953" y="637.795" fill="#ccc"/><text fill="#000" transform="translate(802.9528 644.74244)"><tspan x="22.372" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Istio CNI</tspan></text></g><g id="Graphic_54"><rect width="120.472" height="33.358" x="1006.957" y="637.795" fill="#ccc"/><text fill="#000" transform="translate(1011.9565 644.74244)"><tspan x="22.372" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Istio CNI</tspan></text></g><g id="Group_57"><g id="Graphic_44"><rect width="245.669" height="46.772" x="742.441" y="923.766" fill="#fff"/><rect width="245.669" height="46.772" x="742.441" y="923.766" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(747.44095 937.4193)"><tspan x="38.133" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Istio Control Plane (Istiod)</tspan></text></g><g id="Graphic_55"><path fill="#466bb0" d="M 752.83465 959.6626 L 774.0957 959.6626 L 760.8109 963.8306 Z M 752.83465 958.2709 L 760.8109 956.8792 L 760.8109 941.5916 Z M 762.1347 956.8792 L 774.0957 958.2709 L 762.1347 930.4722 Z"/></g></g><g id="Graphic_58"><text fill="#666" transform="translate(593.189 578.8423)"><tspan x="4.896" y="11" fill="#666" font-family="Helvetica Neue" font-size="12" font-style="italic">Watch namespaces</tspan> <tspan x="11.232" y="25.336" fill="#666" font-family="Helvetica Neue" font-size="12" font-style="italic">and pods events,</tspan> <tspan x="0" y="39.672" fill="#666" font-family="Helvetica Neue" font-size="12" font-style="italic">intercept and redirect</tspan> <tspan x="14.328" y="54.008" fill="#666" font-family="Helvetica Neue" font-size="12" font-style="italic">traffic to ztunnel</tspan></text></g><g id="Line_76"><path stroke="#000" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M 916.1292 923.7656 C 949.7798 906.4372 993.2142 880.3198 1024.0158 848.2759 C 1052.9095 818.2167 1063.8498 790.0553 1067.5889 769.493"/></g><g id="Graphic_77"><text fill="#666" transform="translate(548.5286 885.0175)"><tspan x="0" y="11" fill="#666" font-family="Helvetica Neue" font-size="12" font-style="italic">Waypoint created when needed</tspan></text></g><g id="Line_74"><path stroke="#000" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M 787.9905 923.7656 C 761.4946 912.483 732.531 896.3045 708.6614 873.5632 C 673.1965 839.7746 658.6041 800.6706 652.6044 773.6482"/></g><g id="Graphic_78"><text fill="#666" transform="translate(659.1216 981.4096)"><tspan x="3.336" y="11" fill="#666" font-family="Helvetica Neue" font-size="12" font-style="italic">Watch ServiceAccount, Deployment and Gateway events, update waypoints</tspan></text></g><g id="Graphic_79"><rect width="31.996" height="24.336" x="839.055" y="873.071" fill="#fff"/><text fill="#666" transform="translate(844.0551 878.0709)"><tspan x="0" y="11" fill="#666" font-family="Helvetica Neue" font-size="12" font-style="italic">xDS</tspan></text></g></g></g></svg>