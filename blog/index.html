<!DOCTYPE html>
<html lang="zh"><head>
  <meta charset="utf-8">
  
  <title>åšå®¢ - Jimmy Song</title>
  

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <meta name="description" content="ä¸“æ³¨å¼€æºæŠ€æœ¯ã€äº‘åŸç”Ÿä¸ç”Ÿæ´»éšç¬”çš„åˆ†äº«ä¸æ€è€ƒã€‚">
  <meta name="author" content="Jimmy Song">
  <meta name="generator" content="Hugo 0.145.0">

  <!-- CSS plugins -->
  
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
  
  <link rel="preload" href="/css/combined.7ac6b2864cb09c5595ac8ca79f8ca0db6c69a657edac885ba2c2412080d68da0.css" as="style">
  <link rel="stylesheet" href="/css/combined.7ac6b2864cb09c5595ac8ca79f8ca0db6c69a657edac885ba2c2412080d68da0.css" media="screen">
  

  <!-- Main Stylesheet -->
  
  <link rel="preload" href="/scss/style.min.784204edcd29c092198e88494fa2ae755eba9ae231d6fa7faf8e7da3207b4623.css" as="style">
  <link rel="stylesheet" href="/scss/style.min.784204edcd29c092198e88494fa2ae755eba9ae231d6fa7faf8e7da3207b4623.css" media="screen">

  <!-- Bigger picture css -->
  
  <link rel="stylesheet" href="/plugins/bigger-picture/bigger-picture.min.css" media="print" onload="this.media='all'">
  <!--Favicon generate by https://realfavicongenerator.net-->
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="200x200" href="/images/favicon.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">

  <link href='/opensearchdescription.xml' rel='search' title='Content search' type='application/opensearchdescription+xml'/>

  <!--Twitter card-->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="jimmysong.io" />
  <meta name="twitter:creator" content="@jimmysongio" />
  <meta property="og:url" content="https://jimmysong.io/blog/" />
  <meta property="og:title" content="åšå®¢ | Jimmy Song" />
  <meta property="twitter:title" content="åšå®¢ | Jimmy Song" />

  
  <meta property="og:description" content="ä¸“æ³¨å¼€æºæŠ€æœ¯ã€äº‘åŸç”Ÿä¸ç”Ÿæ´»éšç¬”çš„åˆ†äº«ä¸æ€è€ƒã€‚" />
  <meta property="twitter:description" content="ä¸“æ³¨å¼€æºæŠ€æœ¯ã€äº‘åŸç”Ÿä¸ç”Ÿæ´»éšç¬”çš„åˆ†äº«ä¸æ€è€ƒã€‚" />

  
  <meta property="og:image" content="https://jimmysong.io/images/banner/default.jpg" />
  <meta property="twitter:image" content="https://jimmysong.io/images/banner/default.jpg" />

  
  
</head>
<body>
<header class="fixed-top header">
  
  
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></button>
  
  <div class="navigation w-100 ">
    <div class="container-xl">
      <nav class="navbar navbar-expand-lg navbar-light p-0">
        <a class="navbar-brand" href="/">
            
            <b>JIMMY SONG</b>
            
        </a>
        <button class="navbar-toggler rounded-0" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
          <ul class="navbar-nav ml-auto">
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/blog">åšå®¢</a>
              
            </li>
            
            
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                èµ„æ–™
              </a>
              <div class="dropdown-menu">
                
                <a class="dropdown-item" href="/book">ä¹¦ç±</a>
                
                <a class="dropdown-item" href="/slide">å¹»ç¯ç‰‡</a>
                
              </div>
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/tags">æ ‡ç­¾</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/notice">å…¬å‘Š</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/contact">è”ç³»</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/about">å…³äº</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/community/">ç¤¾åŒº</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="https://space.bilibili.com/515485124" target="_blank" rel="noopener">è§†é¢‘ <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i></a>
              
            </li>
            
            

          
          
          <li class="nav-item">
            
            
            
              
              
                
                
                
                  
                    
                    <a class="nav-link" href="/en/blog/">English</a>
                    
                  
                
              
              
              
                
                  
                    
                    
                  
                
                
                
              
          </li>
          
          
          <!-- search -->
           <button type="button" class="search-btn js-search" id="searchOpen" aria-label="Search">
              <div class="search-container d-flex justify-content-center">
              <span class="search-content">
                  <i class="fa fa-search"></i>
                  <span>æœç´¢</span>
              </span>
              <span class="search-shortcuts d-none d-sm-block">
                  <kbd class="cmd-key">âŒ˜</kbd>
                  <kbd class="k-key">K</kbd>
              </span>
              </div>
          </button>
          
          </ul>
        </div>
      </nav>
    </div>
  </div>
</header>


            <aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between">
        <div class="col-6 search-title">
          <p>ç«™å†…æœç´¢</p> 
        </div>
        <div class="col-6 col-search-close">
          <div class="js-search" aria-label="å…³é—­"><i class="fa-solid fa-circle-xmark text-muted" aria-hidden="true"></i></div>
        </div>
      </div>

      <div id="search-box">
        <i class="fa-solid fa-magnifying-glass" id="search-icon" aria-hidden="true"></i>
        <input name="q" id="search-query" placeholder="è¯·è¾“å…¥æœç´¢è¯" autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control" aria-label="è¯·è¾“å…¥æœç´¢è¯">
        
        <div class="mt-4">
          <span>æœç´¢ç±»å‹: </span>
          <span>
            <input type="radio" id="all" name="search_type" value="all" checked>
            <label for="all">æ‰€æœ‰</label>
            
              <input type="radio" id="blog" name="search_type" value="blog">
              <label for="blog">åŸåˆ›</label>
              <input type="radio" id="trans" name="search_type" value="trans">
              <label for="trans">è¯‘æ–‡</label>
            
            <input type="radio" id="book" name="search_type" value="book">
            <label for="book">èµ„æ–™</label>
            <input type="radio" id="notice" name="search_type" value="notice">
            <label for="notice">å…¬å‘Š</label>
          </span>
        </div>
      </div>
      
    </section>
    <section class="section-search-results">
      <div id="search-results-count" class="search-results-count"></div>
      <div id="search-hits">
        
      </div>
    </section>
  </div>
</aside>

        
        
            

<section class="bg-cover page-title-section overlay" style="background-image: url('/images/backgrounds/circle.svg'),url('/images/backgrounds/page-title.webp');background-size: cover;">
    <div class="container-xl">
        <div class="row">
            <div class="col-12">
                <p class="h1">
                    åšå®¢
                </p>
                <p class="page-description">
                    ä¸“æ³¨å¼€æºæŠ€æœ¯ã€äº‘åŸç”Ÿä¸ç”Ÿæ´»éšç¬”çš„åˆ†äº«ä¸æ€è€ƒã€‚
                </p>
                
            </div>
        </div>
    </div>
</section>

        


<section class="section-sm book-list-section bg-gray">
  <div class="container-xl">
    <div class="row">
      <div class="col-lg-8 order-2 order-lg-1">
        <div class="row">
          
          
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/kubecon-eu-2025-london-recap/">KubeCon EU 2025 å‚ä¼šæŠ¥å‘Šï¼šå¡‘é€ äº‘åŸç”Ÿæ ¼å±€çš„æ´å¯Ÿä¸è¶‹åŠ¿</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2025/04/13</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%85%b6%e4%bb%96"> 
             å…¶ä»–
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('KubeCon EU 2025 å‚ä¼šæŠ¥å‘Šï¼šå¡‘é€ äº‘åŸç”Ÿæ ¼å±€çš„æ´å¯Ÿä¸è¶‹åŠ¿', 'æˆ‘äº²èµ´ä¼¦æ•¦å‚åŠ  KubeCon EU 2025ï¼Œå¹¶æ•´ç†äº†å¤§ä¼šäº®ç‚¹ä¸è¶‹åŠ¿ï¼Œæ¬¢è¿é˜…è¯»æˆ‘çš„HTMLæŠ¥å‘Šã€‚', '\nä¸Šå‘¨ï¼Œæˆ‘äº²è‡ªå‰å¾€ä¼¦æ•¦å‚åŠ äº† [KubeCon \u002b CloudNativeCon Europe 2025](https:\/\/events.linuxfoundation.org\/kubecon-cloudnativecon-europe\/)ï¼Œè¿™æ˜¯äº‘åŸç”Ÿé¢†åŸŸä¸€å¹´ä¸€åº¦çš„ç››ä¼šã€‚ä»Šå¹´çš„å¤§ä¼šæ±‡èšäº†è¶…è¿‡ 12,500 åå¼€å‘è€…ã€ç»´æŠ¤è€…å’Œç”¨æˆ·ï¼Œåœºé¢çƒ­çƒˆã€è¯é¢˜æ·±åº¦åè¶³ã€‚\n\nä¸ºäº†æ›´å¥½åœ°æ€»ç»“è¿™æ¬¡å¤§ä¼šçš„å†…å®¹å’Œè¶‹åŠ¿ï¼Œæˆ‘åˆ¶ä½œäº†ä¸€ä»½ **HTML\/PDF æ ¼å¼çš„æŠ¥å‘Š**ï¼Œå¯¹é‡ç‚¹ä¸»é¢˜è¿›è¡Œäº†å½’çº³ï¼ŒåŒ…æ‹¬ï¼š\n\n- AI åœ¨ Kubernetes ä¸­çš„è½åœ°ä¸è¶‹åŠ¿\n- å®‰å…¨ç­–ç•¥æ¼”è¿›ï¼ˆä¾›åº”é“¾ã€èº«ä»½ä¿¡ä»»ç­‰ï¼‰\n- å¹³å°å·¥ç¨‹ä»å·¥å…·èµ°å‘ä½“éªŒä¸æŒ‡æ ‡\n- å¤šé›†ç¾¤ä¸è¾¹ç¼˜è®¡ç®—çš„ç°å®åº”ç”¨\n- å¯æŒç»­æ€§ä¸ç»¿è‰²è®¡ç®—çš„å‘¼å£°å¢å¼º\n\nğŸ‘‰ [**ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹å®Œæ•´æŠ¥å‘Š**](\/files\/zh\/kubecon-eu-2025-london-recap.html)\n\næ¬¢è¿ä½ é˜…è¯»æŠ¥å‘Šï¼Œä¹Ÿæ¬¢è¿é€šè¿‡è¯„è®ºã€é‚®ä»¶ç­‰æ–¹å¼ä¸æˆ‘äº¤æµä½ å¯¹å¤§ä¼šè¶‹åŠ¿çš„çœ‹æ³•ï¼\n', '\/blog\/kubecon-eu-2025-london-recap\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">æˆ‘äº²èµ´ä¼¦æ•¦å‚åŠ  KubeCon EU 2025ï¼Œå¹¶æ•´ç†äº†å¤§ä¼šäº®ç‚¹ä¸è¶‹åŠ¿ï¼Œæ¬¢è¿é˜…è¯»æˆ‘çš„HTMLæŠ¥å‘Šã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/mastering-github-copilot-for-open-source/">æ¢ç´¢ GitHub Copilotï¼šå½“ AI æˆä¸ºä½ çš„è´´èº«ç¼–ç åŠ©æ‰‹</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2025/03/27</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/ai"> 
             AI
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('æ¢ç´¢ GitHub Copilotï¼šå½“ AI æˆä¸ºä½ çš„è´´èº«ç¼–ç åŠ©æ‰‹', 'è§£é” GitHub Copilot çš„æ­£ç¡®ç”¨æ³•ï¼Œæå‡å¼€å‘æ•ˆç‡ï¼Œå¼€æºè´¡çŒ®è€…è¿˜èƒ½å…è´¹ç”³è¯·ä½¿ç”¨èµ„æ ¼ã€‚', '\nè¿‡å»ä¸€å¹´ä¸­ï¼Œæˆ‘ä¸€ç›´äº«æœ‰ GitHub Copilot çš„å…è´¹ä½¿ç”¨èµ„æ ¼ï¼Œä½†æ˜¯ç”±äºç§ç§åŸå› ï¼Œæˆ‘å¹¶æ²¡æœ‰æ·±å…¥åœ°ä½¿ç”¨å®ƒã€‚æœ€è¿‘çœ‹åˆ°äº† GitHub å®˜æ–¹å‘å¸ƒçš„ä¸€ç¯‡å…³äº Copilot çš„åšå®¢[ã€ŠMastering GitHub Copilot: When to use AI agent modeã€‹](https:\/\/github.blog\/ai-and-ml\/github-copilot\/mastering-github-copilot-when-to-use-ai-agent-mode\/)ï¼Œè®©æˆ‘å¯¹å¦‚ä½•æ›´å¥½åœ°ä½¿ç”¨ Copilot æœ‰äº†æ–°çš„çµæ„Ÿå’Œæ€è€ƒã€‚\n\nåœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘å¯¹ Copilot å¼ºå¤§åŠŸèƒ½çš„ç†è§£ï¼Œå°¤å…¶æ˜¯ **Copilot Edits** å’Œ **Agent Mode** è¿™ä¸¤ä¸ªæ¨¡å¼ä¹‹é—´çš„å·®å¼‚å’Œä½¿ç”¨åœºæ™¯ã€‚æœ€åï¼Œæˆ‘è¿˜æƒ³å‘¼åæ‰€æœ‰å¼€æºé¡¹ç›®çš„è´¡çŒ®è€…ï¼šå¦‚æœä½ ç¬¦åˆæ¡ä»¶ï¼Œä¸€å®šè¦å»ç§¯æç”³è¯· Copilot å…è´¹ä½¿ç”¨èµ„æ ¼ï¼Œè®©è‡ªå·±çš„å¼€å‘æ•ˆç‡æ›´ä¸Šä¸€ä¸ªå°é˜¶ï¼\n\n## ä¸ºä»€ä¹ˆä½ çš„ AI è¾…åŠ©å†™ç å¥½åƒâ€œä¸ç»™åŠ›â€ï¼Ÿ\n\nå¤§å¤šæ•°å¼€å‘è€…åœ¨æ¥è§¦ AI è¾…åŠ©ç¼–ç å·¥å…·ï¼ˆæ¯”å¦‚ GitHub Copilotï¼‰æ—¶ï¼Œéƒ½ä¼šæˆ–å¤šæˆ–å°‘åœ°é‡åˆ°ä¸€äº›çŠ¶å†µï¼Œæ¯”å¦‚ï¼š\n\n- ç”Ÿæˆçš„ä»£ç å’Œä½ æ‰€éœ€çš„åŠŸèƒ½â€œå·®é‚£ä¹ˆä¸€ç‚¹â€ï¼›\n- éœ€è¦åœ¨å¤šä¸ªæ–‡ä»¶é—´è·³æ¥è·³å»ä¿®æ”¹ï¼Œå´å¸Œæœ› AI èƒ½è‡ªåŠ¨å¸®å¿™â€œé€šç›˜è€ƒè™‘â€ã€‚\n\nå…¶å®ï¼Œè¿™äº›å°æŒ«æŠ˜å¾€å¾€ä¸åœ¨äºå·¥å…·æœ¬èº«ï¼Œè€Œåœ¨äº**ä½ æ˜¯å¦æ‰¾å¯¹äº†ä½¿ç”¨æ–¹å¼**ã€‚GitHub Copilot å†…éƒ¨åŒ…å«å¤šä¸ªä¾§é‡ç‚¹å„ä¸ç›¸åŒçš„åŠŸèƒ½ï¼Œå®ƒä»¬å„è‡ªé€‚åˆåœ¨ä¸åŒçš„æƒ…æ™¯ä¸‹ä½¿ç”¨ã€‚**æ­£ç¡®åœ°é€‰æ‹©åˆé€‚çš„åŠŸèƒ½ï¼Œå°±æ˜¯è§£é” Copilot çœŸæ­£å®åŠ›çš„å…³é”®**ã€‚\n\n## Copilot Editsï¼šå¿«é€Ÿç²¾ç¡®çš„â€œå¾®è°ƒâ€\n\n### ä»€ä¹ˆæ—¶å€™ç”¨å®ƒï¼Ÿ\n\n- å°èŒƒå›´çš„ä¿®å¤ï¼šä¿®å¤ä¸€ä¸ªå‡½æ•°çš„ bugã€‚\n- é‡æ„ç‰¹å®šæ¨¡å—ï¼šç»™å‡½æ•°æˆ–ç»„ä»¶åšå±€éƒ¨ä¼˜åŒ–ã€‚\n- åšè·¨æ–‡ä»¶çš„ä¸€è‡´æ€§æ”¹åŠ¨ï¼šä¾‹å¦‚ç»Ÿä¸€æ—¥å¿—æ‰“å°æ ¼å¼ï¼Œæˆ–è€…ç»Ÿä¸€å˜é‡å‘½åæ–¹å¼ã€‚\n\nCopilot Edits çš„åŠŸèƒ½å°±åƒæ˜¯ç»™ä½ é…å¤‡äº†ä¸€ä¸ªèƒ½è¯»æ‡‚ä¸Šä¸‹æ–‡çš„â€œè¶…çº§ç¼–è¾‘å™¨â€ã€‚ä½ å¯ä»¥å¿«é€Ÿå‘å‡ºå‘½ä»¤ï¼Œè®©å®ƒåœ¨**æœ‰é™èŒƒå›´**å†…å¯¹ç°æœ‰ä»£ç è¿›è¡Œæ”¹åŠ¨ï¼Œå¹¶åœ¨æäº¤å‰æŸ¥çœ‹ \u0060diff\u0060ï¼Œéšæ—¶ä¿æŒå¯¹æ”¹åŠ¨çš„æŒæ§ã€‚\n\n## Agent Modeï¼šä½ çš„â€œå¤šæ–‡ä»¶å¤§ç®¡å®¶â€\n\nä¸ Copilot Edits ç›¸æ¯”ï¼Œ**Agent Mode** æ›´åƒæ˜¯ä¸€ä¸ªèƒ½å¤Ÿå®è§‚ç»Ÿç­¹å…¨å±€çš„ AI åŠ©æ‰‹ã€‚å®ƒä¸åªæ˜¯åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œç»™ä½ æå»ºè®®ï¼Œæ›´å¯ä»¥å»ä½ çš„æ•´ä¸ªé¡¹ç›®é‡Œåšæ·±åº¦æœç´¢ã€è‡ªåŠ¨æ‰¾å‡ºä¾èµ–å…³ç³»ã€åˆ›å»ºæˆ–ä¿®æ”¹å¤šä¸ªæ–‡ä»¶ï¼Œç”šè‡³å¯ä»¥å¸®ä½ åœ¨ç»ˆç«¯é‡Œè¿è¡Œå‘½ä»¤ã€ç¼–è¯‘ã€æµ‹è¯•é¡¹ç›®ç­‰ã€‚\n\n### é€‚åˆçš„ä½¿ç”¨åœºæ™¯\n\n1. **æ„å»ºå®Œæ•´åŠŸèƒ½**ï¼šå¦‚â€œä¸ºåº”ç”¨æ·»åŠ å…¨å±€çš„äº‹ä»¶è·Ÿè¸ªâ€ã€‚\n2. **ç†è§£å’Œæµè§ˆé™Œç”Ÿé¡¹ç›®**ï¼šå¦‚â€œå¸®æˆ‘ææ‡‚è¿™ä¸ªé¡¹ç›®é‡Œè®¤è¯ç³»ç»Ÿæ˜¯æ€ä¹ˆè¿ä½œçš„â€ã€‚\n3. **æ•´åˆæµ‹è¯•**ï¼šå¦‚â€œä¸º \u0060UserService\u0060 å†™æµ‹è¯•å¹¶ç¡®ä¿å…¨éƒ¨é€šè¿‡â€ã€‚\n4. **éœ€è¦è¿è¡Œå¤§é‡ç»ˆç«¯æ“ä½œ**ï¼šå¦‚â€œåˆ›å»ºæ–°çš„ React \u002b TS \u002b Redux \u002b styled-components é¡¹ç›®â€ã€‚\n5. **å¤æ‚çš„é‡æ„**ï¼šå¦‚â€œç»Ÿä¸€æ›¿æ¢æ‰€æœ‰ API è°ƒç”¨å¹¶åŠ å…¥æ–°çš„é”™è¯¯å¤„ç†é€»è¾‘â€ã€‚\n\n#### æˆ‘åœ¨ä¸ªäººç½‘ç«™ä¸Šçš„åº”ç”¨åœºæ™¯\n\nåšä¸»ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ï¼‰åœ¨ç»™ä¸ªäººç½‘ç«™çš„ GitHub Action ä¸­å¢åŠ ä¸€ä¸ªæ›´æ–°ç´¢å¼•æ–‡ä»¶çš„å·¥ä½œï¼Œå¯ä»¥å‘Šè¯‰ Copilot Agentï¼š\n\n\u003e â€œç»™æˆ‘çš„ GitHub Action ä¸­å¢åŠ ä¸€ä¸ªæ›´æ–° search index çš„ä»»åŠ¡å¹¶åœ¨æœ¬åœ°æµ‹è¯•â€\n\nç„¶å Copilot Agent ä¼šæ‰«ææˆ‘çš„ä»£ç åº“ï¼Œèªæ˜åœ°åœ¨æˆ‘çš„ GitHub Action é…ç½®æ–‡ä»¶ä¸­å¸®æˆ‘æ’å…¥ç›¸åº”çš„ä»»åŠ¡ï¼Œå¹¶ä¼šè‡ªåŠ¨çš„å®‰è£…ä¾èµ–è½¯ä»¶å¹¶è¿è¡Œæµ‹è¯•ã€‚\n\n![VS Code ä¸­çš„ Copilot Action](github-copilot-agent.webp)\n\nè¿™å°±æ˜¯ Agent Mode çš„å¼ºå¤§ä¹‹å¤„ï¼Œå®ƒå¯ä»¥**ä¸€æ¬¡æ€§å¤„ç†å…¨å±€çº§åˆ«**çš„æ”¹åŠ¨ï¼ŒçœŸæ­£è®© AI æˆä¸ºä½ çš„â€œå¯¹ç­‰â€å¼€å‘ä¼™ä¼´ã€‚\n\n### æ ¸å¿ƒä¼˜åŠ¿\n\n- **è‡ªåŠ¨æ£€ç´¢æ•´ä¸ªä»£ç åº“**ï¼šä¸ç”¨æ‰‹åŠ¨å®šä½æ‰€æœ‰ç›¸å…³æ–‡ä»¶ã€‚\n- **è‡ªæˆ‘è¿­ä»£**ï¼šå¯ä»¥ä¸€æ¬¡æ€§è¿­ä»£å’Œä¿®å¤è‡ªå·±ç”Ÿæˆçš„ä»£ç ã€‚\n- **ç»ˆç«¯å‘½ä»¤æ‰§è¡Œ**ï¼šåœ¨å¾—åˆ°ä½ æˆæƒåï¼Œä¼šè‡ªåŠ¨è·‘å‘½ä»¤ã€ç¼–è¯‘æˆ–æµ‹è¯•ã€‚\n- **ç»´æŒæ•´ä½“æ¶æ„ä¸€è‡´**ï¼šåœ¨æ”¹åŠ¨æ—¶ä¼šè€ƒè™‘è·¨æ–‡ä»¶ä¾èµ–å…³ç³»ï¼Œå‡å°‘é¡¾æ­¤å¤±å½¼çš„é£é™©ã€‚\n\n## Chat çª—å£ï¼šä½ çš„â€œCopilot æŒ‡æŒ¥ä¸­å¿ƒâ€\n\næ— è®ºä½ æ˜¯æƒ³ä½¿ç”¨ Copilot Edits è¿˜æ˜¯ Agent Modeï¼Œä½ éƒ½ä¼šç”¨åˆ° VS Code é‡Œçš„ **Copilot Chat** çª—å£ï¼š\n\n1. æé—®å¸¸è§„æŠ€æœ¯é—®é¢˜ï¼Œæ¯”å¦‚ï¼šâ€œå¦‚ä½•åœ¨ Node.js ä¸­å®ç° JWT è®¤è¯ï¼Ÿâ€\n2. ä½¿ç”¨ \u0060\/explain\u0060 ç†è§£å¤æ‚ä»£ç ç‰‡æ®µã€‚\n3. ä½¿ç”¨ \u0060\/fix\u0060 è®© Copilot å¸®ä½ è°ƒè¯•ã€‚\n4. ä½¿ç”¨ \u0060\/tests\u0060 ä¸ºç»™å®šä»£ç è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€‚\n5. éšæ—¶åœ¨ Edits å’Œ Agent Mode ä¹‹é—´åˆ‡æ¢ã€‚\n\nè®°ä½ï¼š**ä½ æä¾›çš„ä¸Šä¸‹æ–‡ä¿¡æ¯è¶Šå®Œæ•´ï¼ŒCopilot ç”Ÿæˆçš„å›ç­”å°±è¶Šå‡†ç¡®**ã€‚è¯·ä¸è¦åå•¬ç»™å®ƒå¤šä¸€äº›æç¤ºï¼\n\n## äºŒè€…å¹¶ä¸å†²çªâ€”â€”æ··åˆä½¿ç”¨æ‰æ˜¯ç‹é“\n\nåŸæ–‡ä¸­å¼ºè°ƒäº†ä¸€ç‚¹ï¼š**Copilot Edits å’Œ Agent Mode å¹¶ä¸æ˜¯äºŒé€‰ä¸€çš„å¯¹ç«‹å…³ç³»ï¼Œè€Œæ˜¯ç›¸è¾…ç›¸æˆã€‚**\n\n- å½“ä½ éœ€è¦å¿«é€Ÿä¿®å¤å’Œå¾®è°ƒæ—¶ï¼Œé€‰ Copilot Editsï¼›\n- å½“ä½ éœ€è¦åšå¤šæ–‡ä»¶æ”¹åŠ¨ã€å¢åŠ å¤§å‹åŠŸèƒ½æ¨¡å—æˆ–è·‘ç»ˆç«¯å‘½ä»¤ç­‰ï¼Œå¯ç”¨ Agent Modeã€‚\n\nAI åªæ˜¯è¾…åŠ©ï¼Œæˆ‘ä»¬æ‰æ˜¯é¡¹ç›®çš„ä¸»å¯¼è€…ï¼Œæ— è®ºåœ¨ä»»ä½•æ¨¡å¼ä¸‹ï¼Œä½ éƒ½éšæ—¶æ‹¥æœ‰æœ€ç»ˆçš„å†³å®šæƒã€‚**ä¸ AI åä½œçš„å…³é”®æ˜¯ï¼šåœ¨å‘èµ·éœ€æ±‚æ—¶ç¡®ä¿â€œæ„å›¾â€è¶³å¤Ÿæ¸…æ™°ï¼Œå¹¶åœ¨ç”Ÿæˆä»£ç åè‡ªè¡Œè¿›è¡Œå¿…è¦çš„å®¡æŸ¥å’Œæµ‹è¯•ã€‚**\n\n## å¦‚ä½•å¼€å¯ Copilot Edits å’Œ Agent Mode\n\n### Copilot Edits\n\n1. åœ¨ VS Code ä¸­æ‰“å¼€ Copilot Chat çª—å£ã€‚\n2. ç‚¹å‡»ã€ŒEdit with Copilotã€æŒ‰é’®ï¼Œè¿›å…¥ Edits è§†å›¾ã€‚\n3. æŠŠéœ€è¦ä¿®æ”¹çš„æ–‡ä»¶åŠ å…¥å·¥ä½œé›†ï¼ˆworking setï¼‰ï¼Œæœªçº³å…¥å·¥ä½œé›†çš„æ–‡ä»¶é»˜è®¤ä¸ä¼šè¢«ä¿®æ”¹ã€‚\n4. å‘ Copilot å‘å‡ºä¿®æ”¹éœ€æ±‚ï¼Œæ¯”å¦‚â€œè¯·æŠŠç”¨æˆ·éªŒè¯é€»è¾‘æ”¹æˆåŸºäº JWT çš„æ–¹å¼ï¼Œå¹¶æŠŠç›¸å…³å‡½æ•°å‘½åç»Ÿä¸€ä¸º \u0060verifyUserToken\u0060â€ã€‚\n5. æ¥å—ä¿®æ”¹å‰ï¼Œä¸€å®šè¦æŸ¥çœ‹ \u0060diff\u0060ï¼Œç¡®è®¤æ— è¯¯åå†ç‚¹ã€Œæ¥å—æ›´æ”¹ã€ã€‚\n\n### Agent Mode\n\n1. éœ€ä½¿ç”¨ [VS Code 1.99](https:\/\/code.visualstudio.com\/insiders\/) æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚\n2. åœ¨ Copilot Chat ä¸­å°†æ¨¡å¼åˆ‡æ¢ä¸ºã€ŒAgentã€ã€‚\n3. æè¿°ä½ æƒ³å®ç°çš„å¤æ‚åŠŸèƒ½ï¼Œä¾‹å¦‚â€œåˆ›å»ºä¸€ä¸ªå¸¦æœ‰æ‰“å­—æœºåŠ¨ç”»ã€ä¸Šä¸‹å‘½ä»¤å†å²ã€tab è¡¥å…¨ã€ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½çš„ Terminal ç•Œé¢ã€‚â€\n4. Copilot ä¼šåœ¨åç«¯è‡ªåŠ¨è¿­ä»£å¹¶æå‡ºæ”¹åŠ¨å»ºè®®ï¼Œä½ éœ€è¦å¯¹æ¯ä¸€æ­¥æ”¹åŠ¨è¿›è¡Œå®¡æ ¸å¹¶å†³å®šæ˜¯å¦æ‰§è¡Œã€‚\n5. å¦‚éœ€ä¸ªæ€§åŒ–å®šåˆ¶ï¼Œå¯åœ¨ VS Code ä¸­é’ˆå¯¹å·¥ç¨‹çš„ç‰¹å®šéœ€æ±‚ç¼–å†™è‡ªå®šä¹‰æç¤ºï¼ˆcustom instructionsï¼‰ã€‚\n\n## å·å¬ï¼šå¼€æºè´¡çŒ®è€…å¯å…è´¹ä½¿ç”¨ GitHub Copilot\n\nåœ¨å›½å†…å¤–ï¼Œä½ çš„ä¸ªäººå’Œå›¢é˜Ÿå¦‚æœå¯¹å¼€æºç¤¾åŒºæœ‰è´¡çŒ®â€”â€”æ¯”å¦‚åœ¨ GitHub ä¸Šç»´æŠ¤æˆ–ç§¯æå‚ä¸å¼€æºé¡¹ç›®ï¼Œå°±æœ‰æœºä¼š**å…è´¹ç”³è¯· GitHub Copilot**ï¼Œè¿™å¯¹æé«˜å·¥ä½œæ•ˆç‡ã€è®©å›¢é˜Ÿæ›´ä¸“æ³¨äºå…³é”®ä¸šåŠ¡é€»è¾‘è€Œè¨€éå¸¸æœ‰å¸®åŠ©ã€‚\n\n[ç”³è¯·åœ°å€ï¼ˆCopilot for Open Sourceï¼‰](https:\/\/github.com\/features\/copilot\/plans)\n\nå»ºè®®æŠŠä½ çš„ GitHub Profileã€å¼€æºé¡¹ç›®é“¾æ¥ã€è´¡çŒ®åº¦ã€Stars ç­‰ä¿¡æ¯å‡†å¤‡å¥½ï¼Œç”³è¯·é€šè¿‡åå°±å¯ä»¥ä½“éªŒåˆ° Copilot çš„å¼ºå¤§åŠŸèƒ½ã€‚\n\n**åˆ«æ‹…å¿ƒï¼** åªè¦ä½ ç¡®å®ä¸ºå¼€æºç”Ÿæ€åšå‡ºè¿‡è´¡çŒ®ï¼ŒGitHub å®˜æ–¹æ˜¯å¾ˆé¼“åŠ±ä½ å»ç”³è¯· Copilot çš„å…è´¹ä½¿ç”¨èµ„æ ¼çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¯¥å…è´¹èµ„æ ¼æ˜¯æŒ‰æœˆèµ‹äºˆçš„ï¼\n\n## ç»“è¯­ï¼šæ‹¥æŠ± AI å·¥å…·ï¼Œè®©å¼€å‘æ›´é«˜æ•ˆ\n\nä»æœ€åˆçš„ GitHub Copilot åˆ°å¦‚ä»Šé€æ¸æ¶Œç°çš„å„ç§ AI ç¼–ç¨‹å·¥å…·ï¼Œæ¯”å¦‚ **Cursor**ã€**Amazon CodeWhisperer**ã€**Google Gemini Code Assist**ã€ä»¥åŠåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„å„ç§æ’ä»¶ç­‰ç­‰ï¼ŒAI ç¼–ç¨‹åŠ©æ‰‹å·²ç»ä¸å†æ˜¯æ–°é²œäº‹ã€‚**Cursor** çš„ç‰¹ç‚¹åœ¨äºæä¾›ç±»ä¼¼ IDE çš„ç¯å¢ƒï¼Œå¯ç›´æ¥åœ¨å…¶ç¼–è¾‘å™¨é‡Œé›†æˆå¯¹è¯å¼çš„ AI è¾…åŠ©ï¼›Replit çš„ **Ghostwriter** åˆ™å……åˆ†åˆ©ç”¨ Replit åœ¨çº¿ç¼–ç¨‹ç¯å¢ƒçš„ä¼˜åŠ¿ï¼Œä¸ºå¤šäººåä½œå’Œå®æ—¶é¢„è§ˆæä¾›æå¤§æ–¹ä¾¿ã€‚å’Œ Copilot ç›¸æ¯”ï¼Œè¿™äº›å·¥å…·å¯èƒ½åœ¨å¯¹è¯äº¤äº’æ·±åº¦ã€ä»£ç è´¨é‡ã€æˆ–å¯¹ç‰¹å®šè¯­è¨€å’Œç”Ÿæ€çš„æ”¯æŒèŒƒå›´ä¸Šå„æœ‰æ‰€é•¿ã€‚ä½†æ€»ä½“è€Œè¨€ï¼Œå®ƒä»¬éƒ½åœ¨è®©å¼€å‘è€…æ‘†è„±é‚£äº›å†—æ‚ã€é‡å¤ã€æœºæ¢°çš„ç¼–ç¨‹å·¥ä½œï¼Œä»è€Œè…¾å‡ºæ›´å¤šæ—¶é—´å’Œç²¾åŠ›è¿›è¡Œæ¶æ„å’Œåˆ›æ–°ã€‚\n\n\u003e **â€œAI ä¸ä¼šå–ä»£ç¨‹åºå‘˜ï¼Œä½†ä¼šå–ä»£é‚£äº›æ‹’ç»ä¸ AI åˆä½œçš„ç¨‹åºå‘˜ã€‚â€**\n\nå¦‚æœä½ æ­£åœ¨æˆ–å³å°†æŠ•å…¥å¼€æºé¡¹ç›®çš„å¼€å‘ï¼Œæˆ–è€…åœ¨å•†ä¸šé¡¹ç›®ä¸­æƒ³è¦æŒ–æ˜æ›´å¤šé«˜é˜¶ç”Ÿäº§åŠ›ï¼Œéƒ½æ¨èä½ å»å°è¯•å¹¶æ·±å…¥å­¦ä¹ è¿™äº› AI ç¼–ç¨‹å·¥å…·ã€‚åœ¨ [GitHub å®˜æ–¹æ–‡æ¡£](https:\/\/github.com\/features\/copilot) ä¸­ï¼Œä½ è¿˜å¯ä»¥æ‰¾åˆ°ä¸€ä»½ä»å…¥é—¨åˆ°è¿›é˜¶çš„ Copilot æ•™ç¨‹ç³»åˆ—â€”â€”ä»æœ€åˆçš„å®‰è£…åˆ°é«˜çº§ç”¨æ³•ï¼Œè®©ä½ å¿«é€ŸæŒæ¡ Copilot çš„ç²¾é«“ã€‚ä¹Ÿæ¬¢è¿è¯•ç”¨å…¶ä»–åŒç±»å·¥å…·ï¼Œå¯¹æ¯”å„ç§åŠŸèƒ½ä¼˜ç¼ºç‚¹ï¼Œæ¢ç´¢é€‚åˆè‡ªå·±å›¢é˜Ÿçš„å·¥ä½œæµã€‚\n\n**è®©æˆ‘ä»¬ä¸€èµ·æ‹¥æŠ± AIï¼Œåšæ›´é«˜æ•ˆçš„å¼€å‘è€…å§ï¼**\n\nå¦‚æœä½ å¯¹ AI ç¼–ç¨‹ã€äº‘åŸç”Ÿå’Œå¼€æºæŠ€æœ¯æ„Ÿå…´è¶£ï¼Œä¹Ÿæ¬¢è¿è®¿é—®æˆ‘çš„ä¸ªäººåšå®¢ [jimmysong.io](https:\/\/jimmysong.io\/)ï¼Œä¸€èµ·äº¤æµè®¨è®ºã€‚**ç¥å¤§å®¶ç¼–ç æ„‰å¿«ï¼Œæ•ˆç‡å€å¢ï¼**\n', '\/blog\/mastering-github-copilot-for-open-source\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">è§£é” GitHub Copilot çš„æ­£ç¡®ç”¨æ³•ï¼Œæå‡å¼€å‘æ•ˆç‡ï¼Œå¼€æºè´¡çŒ®è€…è¿˜èƒ½å…è´¹ç”³è¯·ä½¿ç”¨èµ„æ ¼ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/beyond-sidecar/">è¶…è¶Š Sidecarï¼šæ·±å…¥è§£æ Istio Ambient Mode çš„æµé‡æœºåˆ¶ä¸æˆæœ¬æ•ˆç›Š</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2025/03/22</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/istio"> 
             Istio
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('è¶…è¶Š Sidecarï¼šæ·±å…¥è§£æ Istio Ambient Mode çš„æµé‡æœºåˆ¶ä¸æˆæœ¬æ•ˆç›Š', 'æœ¬æ–‡å°†å¸¦å¤§å®¶äº†è§£ Ambient Mode çš„å‡ºç°èƒŒæ™¯ã€æ ¸å¿ƒç»„ä»¶ã€æµé‡è·¯å¾„æœºåˆ¶ä»¥åŠä¸ç°æœ‰ Sidecar æ¨¡å¼çš„å¯¹æ¯”ï¼Œä»è€Œå¸®åŠ©ä½ å¿«é€Ÿè¯„ä¼°å¹¶ä¸Šæ‰‹è¿™é¡¹æ–°ç‰¹æ€§ã€‚', '\næ¬¢è¿é˜…è¯»æˆ‘çš„è¿™ç¯‡åšå®¢â€”â€”â€œè¶…è¶Š Sidecarï¼šæ·±å…¥è§£æ Istio Ambient Mode çš„æµé‡æœºåˆ¶ä¸æˆæœ¬æ•ˆç›Šâ€ã€‚æœ¬æ–‡å†…å®¹æºè‡ªæˆ‘åœ¨ KCD åŒ—äº¬çš„ä¸€æ¬¡æ¼”è®²ã€‚ä¸»è¦æ¢è®¨çš„æ˜¯ Istio å…¨æ–°æ¨å‡ºçš„ä¸€ç§æ•°æ®é¢æ¨¡å¼ â€”â€” **Ambient Mode**ã€‚å®ƒçš„æ ¸å¿ƒç†å¿µæ˜¯å»é™¤ Sidecarï¼Œå‡å°‘èµ„æºå¼€é”€ä¸è¿ç»´å¤æ‚åº¦ã€‚æœ¬æ–‡å°†å¸¦å¤§å®¶äº†è§£ Ambient Mode çš„å‡ºç°èƒŒæ™¯ã€æ ¸å¿ƒç»„ä»¶ã€æµé‡è·¯å¾„æœºåˆ¶ä»¥åŠä¸ç°æœ‰ Sidecar æ¨¡å¼çš„å¯¹æ¯”ï¼Œä»è€Œå¸®åŠ©ä½ å¿«é€Ÿè¯„ä¼°å¹¶ä¸Šæ‰‹è¿™é¡¹æ–°ç‰¹æ€§ã€‚\n\n[ç‚¹å‡»æŸ¥çœ‹å¹»ç¯ç‰‡](\/slide\/beyond-sidecar\/)ã€‚\n\n## ä¸ºä»€ä¹ˆå…³æ³¨ Ambient Modeï¼Ÿ\n\né¦–å…ˆï¼Œæˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆè¦å…³æ³¨ã€ç”šè‡³å°è¯•è¿™ç§æ–°æ¨¡å¼ï¼ŸSidecar åœ¨æœåŠ¡ç½‘æ ¼é‡Œä¸€ç›´éƒ½ç”¨å¾—å¥½å¥½çš„ï¼Œä¸ºä»€ä¹ˆè¦â€œå» Sidecarâ€å‘¢ï¼Ÿ\n\nè®©æˆ‘ä»¬çœ‹çœ‹å½“å‰æœåŠ¡ç½‘æ ¼é¢ä¸´çš„ä¸€äº›é—®é¢˜å’ŒæŒ‘æˆ˜ã€‚\n\n### æœåŠ¡ç½‘æ ¼çš„æŒ‘æˆ˜\n\n- Sidecar ä»£ç†å¸¦æ¥çš„ **èµ„æºå¼€é”€** å’Œ **è¿ç»´å¤æ‚åº¦**  \n- **å‡çº§** æˆ– **é‡å¯** Envoy æ—¶ï¼Œå¸¸å¸¸éœ€è¦è¿å¸¦é‡å¯æ‰€æœ‰ Pod  \n- è¶Šæ¥è¶Šå¤šå¯¹ **é«˜æ€§èƒ½ã€ä½æˆæœ¬** çš„éœ€æ±‚\n\n\u003e **æ€è€ƒ**ï¼šæœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼åœ¨ä¿ç•™æœåŠ¡ç½‘æ ¼æ ¸å¿ƒèƒ½åŠ›ï¼ˆå®‰å…¨ã€å¯è§‚æµ‹ã€æµé‡æ§åˆ¶ï¼‰çš„åŒæ—¶ï¼Œå‡å°‘å¯¹æ¯ä¸ª Pod çš„ä¾µå…¥å’Œé¢å¤–èµ„æºæ¶ˆè€—ï¼Ÿ\n\n### æœåŠ¡ç½‘æ ¼çš„å‡ ç§éƒ¨ç½²æ¨¡å¼\n\n![ä»£ç†çš„ä½ç½®](proxy-location.svg)\n\næœåŠ¡ç½‘æ ¼æ¶æ„ä¸€ç›´åœ¨æ¢ç´¢ä»£ç†éƒ¨ç½²ä½ç½®çš„å¤šç§å¯èƒ½æ€§ã€‚ä¾‹å¦‚ï¼š\n\n- **Sidecar**ï¼šæ¯ä¸ª Pod å†…è·‘ä¸€ä¸ª Envoyã€‚\n- **Ambient**ï¼šå°†ä»£ç†ä» Pod ä¸­å‰¥ç¦»åˆ°èŠ‚ç‚¹çº§ï¼ˆå³æœ¬ç¯‡è¦è°ˆçš„æ¨¡å¼ï¼‰ã€‚\n- **Cilium Mesh**ï¼šåˆ©ç”¨ eBPF åœ¨å†…æ ¸ç©ºé—´åš L4ï¼Œç„¶åç»“åˆ Envoy æä¾› L7 åŠŸèƒ½ã€‚\n- **gRPC**ï¼šç›´æ¥å°†ç½‘æ ¼èƒ½åŠ›é›†æˆåˆ° SDK ä¸­ã€‚\n\nè¿™äº›æ¨¡å¼åœ¨åŠŸèƒ½ã€å®‰å…¨ã€æ€§èƒ½å’Œç®¡ç†å¤æ‚åº¦ä¸Šéƒ½æœ‰ä¸åŒçš„ä¾§é‡ã€‚**Istio Ambient Mode** åˆ™æ˜¯é’ˆå¯¹ Sidecar å¸¦æ¥çš„é«˜èµ„æºæ¶ˆè€—å’Œè¿ç»´æˆæœ¬ï¼Œè€Œæå‡ºçš„æ–°å°è¯•ã€‚\n\n### Ambient Mode çš„è¯ç”Ÿ\n\n- Istio çš„æ–°ä¸€ä»£æ¶æ„ï¼Œ**ç§»é™¤ Sidecar**ï¼Œé€šè¿‡ **ztunnel \u002b Waypoint Proxy** å®ç°æ•°æ®é¢çš„è½»é‡åŒ–ã€‚\n- èŠ‚çœèµ„æºã€é™ä½è¿ç»´å¤æ‚åº¦ã€‚\n- ä¾ç„¶æ”¯æŒ **mTLSã€ç­–ç•¥ç®¡æ§**ï¼Œå¹¶ä¸ºéœ€è¦ L7 åŠŸèƒ½çš„æµé‡æä¾›å¯é€‰çš„ **Waypoint Proxy**ã€‚\n\n![éƒ¨ç½²æ¨¡å¼è±¡é™](istio-data-plane-deployment-modes.svg)\n\nä»¥ä¸‹è¡¨æ ¼æ˜¯å¯¹æ¯”å¸¸è§æœåŠ¡ç½‘æ ¼éƒ¨ç½²æ¨¡å¼çš„ä¸€äº›ç®€è¦ç‰¹ç‚¹ï¼š\n\n| **æ¨¡å¼**         | **å®‰å…¨æ€§**                          | **æ•ˆç‡**         | **å¯ç®¡ç†æ€§**             | **æ€§èƒ½**                       |\n| ---------------- | ----------------------------------- | ---------------- | ------------------------ | ------------------------------ |\n| **Sidecar æ¨¡å¼** | é«˜å®‰å…¨æ€§ï¼Œéš”ç¦»çš„ä»£ç†                | èµ„æºä½¿ç”¨ç‡é«˜     | é›†ä¸­åŒ–ç®¡ç†ä½†è¾ƒä¸ºå¤æ‚     | å¢åŠ ä¸€å®šå»¶è¿Ÿ                   |\n| **Ambient æ¨¡å¼** | é€šè¿‡ ztunnel æä¾›å®‰å…¨æ€§ï¼Œä»åœ¨å‘å±•ä¸­ | æ›´é«˜æ•ˆï¼Œå…±äº«ä»£ç† | ç®¡ç†æ›´ç®€å•ä½†åŠŸèƒ½åœ¨å®Œå–„ä¸­ | è‰¯å¥½ï¼›è·¨å¯ç”¨åŒºæ—¶éœ€æ³¨æ„ç½‘ç»œå¼€é”€ |\n| **Cilium mesh**  | ä¸­ç­‰å®‰å…¨æ€§ï¼ŒåŸºäº eBPF               | å†…æ ¸çº§æ•ˆç‡       | é…ç½®å¤æ‚                 | å¯è§†åœºæ™¯ä¸åŒè€Œå¼‚               |\n| **gRPC**         | åº”ç”¨é›†æˆå®‰å…¨ï¼Œä¾èµ–åº”ç”¨è‡ªèº«          | é«˜æ•ˆ             | æ›´æ–°ç®¡ç†å¤æ‚             | ä½å»¶è¿Ÿï¼Œé€‚ç”¨äºå®æ—¶åœºæ™¯         |\n\n## Istio Ambient Mode æ ¸å¿ƒæ¦‚å¿µ\n\næ¥ä¸‹æ¥æˆ‘ä»¬æ­£å¼è¿›å…¥ç¬¬äºŒéƒ¨åˆ†ï¼Œæ·±å…¥çœ‹çœ‹ Ambient Mode çš„å…·ä½“ç»„ä»¶ï¼ŒåŒ…æ‹¬ ztunnelã€Waypoint Proxy ä»¥åŠ Istio CNI åœ¨å…¶ä¸­æ‰®æ¼”çš„è§’è‰²ã€‚\n\n### Ambient Mode çš„æ ¸å¿ƒç»„ä»¶\n\n1. **ztunnel (L4)**  \n   - ä»¥ Node çº§ä»£ç†çš„æ–¹å¼è¿è¡Œ  \n   - è´Ÿè´£ **é€æ˜æµé‡æ‹¦æˆª**ã€**mTLS** åŠ å¯†  \n   - é€‚ç”¨äºå¤§éƒ¨åˆ†åªéœ€ L4 è½¬å‘çš„æµé‡  \n2. **Waypoint Proxy (L7)**  \n   - å¯é€‰éƒ¨ç½²ï¼ˆæ ¹æ®å‘½åç©ºé—´ \/ Service \/ Pod ç²’åº¦çµæ´»é…ç½®ï¼‰  \n   - å¤„ç† **HTTP \/ gRPC** ç­‰é«˜çº§åŠŸèƒ½ï¼ˆé‰´æƒã€è·¯ç”±ã€å¯è§‚æµ‹ç­‰ï¼‰  \n3. **Istio CNI**  \n   - å–ä»£ \u0060istio-init\u0060 å®¹å™¨ï¼Œè´Ÿè´£æµé‡åŠ«æŒ  \n   - å…¼å®¹ Sidecar æ¨¡å¼å’Œ Ambient æ¨¡å¼  \n   - å…è®¸åœ¨éç‰¹æƒæ¨¡å¼ä¸‹ä¸º Pod è®¾ç½®æµé‡é‡å®šå‘\n\n### Ambient æ¨¡å¼æ•´ä½“æ¶æ„\n\n![Istio Ambient æ¨¡å¼æ¶æ„](istio-ambient-layers.svg)\n\nåœ¨ Ambient æ¨¡å¼ä¸‹ï¼ŒIstio æ•°æ®é¢å¯åˆ†ä¸ºä¸¤å±‚ï¼š\n\n1. **å®‰å…¨å±‚ (ztunnel)**ï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ¨ç½²ä¸€ä¸ªè½»é‡çº§ L4 ä»£ç†ã€‚  \n2. **å¯é€‰çš„ L7 å±‚ (Waypoint Proxy)**ï¼šéœ€è¦ HTTP\/gRPC ä»£ç†æ—¶æ‰éƒ¨ç½²ã€‚\n\nControl Plane ä¾ç„¶ç”± Istiod æä¾›ï¼Œä¸»è¦è´Ÿè´£ç»™ ztunnelã€Waypoint ä¸‹å‘é…ç½®å’Œè¯ä¹¦ã€‚\n\n### Waypoint Proxy éƒ¨ç½²ç­–ç•¥\n\n- **Namespace çº§**ï¼ˆé»˜è®¤ï¼‰ï¼šé€‚ç”¨äºè¯¥å‘½åç©ºé—´ä¸‹æ‰€æœ‰ Workload\n- **Service çº§**ï¼šä»…ç‰¹å®šå…³é”®æœåŠ¡éœ€è¦ L7\n- **Pod çº§**ï¼šæ›´ç²¾ç»†åŒ–æ§åˆ¶\n- **è·¨ Namespace**ï¼šå¯ä»¥ä½¿ç”¨ Gateway èµ„æºå…±äº«\n\n### Istio CNI\n\n- **æµé‡æ‹¦æˆª**ï¼šå–ä»£ \u0060istio-init\u0060 å®¹å™¨ï¼Œä½¿å®‰è£…æ›´åŠ æ¸…æ™°ç®€æ´ã€‚\n- **æ”¯æŒä¸¤ç§æ¨¡å¼**ï¼šå…¼å®¹ **Sidecar æ¨¡å¼** å’Œ **Ambient æ¨¡å¼**ã€‚\n- **éç‰¹æƒæ¨¡å¼å…¼å®¹æ€§**ï¼šå…è®¸ Pod è¿è¡Œåœ¨æ— ç‰¹æƒæ¨¡å¼ä¸‹ï¼Œå¢å¼ºå®‰å…¨æ€§ã€‚\n- **CNI é“¾æ¥ï¼ˆChainingï¼‰**ï¼šé€šè¿‡æ·»åŠ  Istio CNI æ‰©å±•èŠ‚ç‚¹çš„ CNI é…ç½®ã€‚\n- **Pod å†…éƒ¨æµé‡é‡å®šå‘ï¼ˆAmbient æ¨¡å¼ï¼‰**ï¼š\n  - åœ¨ Pod çš„ç½‘ç»œå‘½åç©ºé—´å†…ä½¿ç”¨ \u0060iptables REDIRECT\u0060 è§„åˆ™ã€‚\n  - åˆ›å»º Pod å†…éƒ¨çš„ socket ä»¥æ‹¦æˆªå’Œä»£ç†æµé‡ã€‚\n\nè¿™å¼ å›¾ç®€å•ç¤ºæ„äº† Istio CNI å¦‚ä½•ä¸ Kubernetes æœ¬èº«çš„ç½‘ç»œæ’ä»¶ï¼ˆå¦‚ Calicoã€Cilium ç­‰ï¼‰ç»„åˆåœ¨ä¸€èµ·ã€‚å®ƒä¿®æ”¹äº†æœ¬æœºçš„ CNI é…ç½®ï¼Œå¢åŠ äº† CNI é“¾ï¼Œåœ¨ Kubernetes åˆ†é…å®Œ Pod IP åï¼Œç´§æ¥ç€å°±ä¼šæ‰§è¡Œ Istio CNI çš„æ‹¦æˆªé€»è¾‘ï¼ŒæŠŠç½‘ç»œæµé‡è§„åˆ™æ³¨å…¥åˆ° Pod netnsã€‚å¹¶ä¸”ä¸ºä¸åŒæ¨¡å¼ä¸­ Pod é…ç½®ä¸åŒçš„ iptables è§„åˆ™ã€‚\nè¿™æ ·å°±ä¸åŸæœ¬çš„ CNI é…ç½®ï¼ˆåŒ…æ‹¬ç½‘ç»œç­–ç•¥ï¼‰å½¢æˆä¸€ä¸ªé“¾å¼æµç¨‹ï¼Œä¸ä¼šç›¸äº’å†²çªã€‚\n\n![Istio CNI æ’ä»¶çš„è¿è¡Œæ­¥éª¤](istio-cni.svg)\n\n### Istio CNI æ’ä»¶å·¥ä½œåŸç†\n\nè¿™å¼ å›¾è¯¦ç»†æç»˜äº†å½“ Pod å¯åŠ¨æ—¶ï¼ŒIstio CNI ä¼šæ€ä¹ˆåšï¼š\n\n![Istio CNI æ’ä»¶å·¥ä½œåŸç†](istio-cni-diagram.svg)\n\n1. å®ƒä¼šè¿›å…¥ Pod çš„ç½‘ç»œå‘½åç©ºé—´ï¼Œåˆ›å»ºä¸€å¥— iptables è§„åˆ™ï¼ŒæŠŠæµé‡åŠ«æŒåˆ° ztunnel ç›‘å¬çš„ socket ä¸Šã€‚\n2. ä¸å†éœ€è¦åœ¨æ¯ä¸ª Pod é‡Œæ³¨å…¥ init å®¹å™¨ï¼Œä¹Ÿä¸éœ€è¦ç‰¹æƒæƒé™ï¼Œè¿™å°±è®©æ•´ä½“éƒ¨ç½²æ›´å¹²å‡€ã€ä¹Ÿæ›´å®‰å…¨ã€‚\n3. ztunnelä¼šåœ¨podçš„ç½‘ç»œå‘½åç©ºé—´ä¸­å»ºç«‹ä¸€ä¸ªsocketï¼Œå¹¶ä¸”ä¸ºèŠ‚ç‚¹ä¸Šçš„æ¯ä¸ªpodéƒ½ä¼šå»ºç«‹ä¸€ä¸ªã€‚\n\n## æµé‡è·¯å¾„ä¸å…³é”®æœºåˆ¶\n\nä»‹ç»å®Œç»„ä»¶ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æœ€æ ¸å¿ƒçš„â€œæµé‡è·¯å¾„â€ã€‚zTunnel å’Œ Waypoint ç©¶ç«Ÿæ˜¯æ€ä¹ˆæ‹¦æˆªå¹¶è½¬å‘æµé‡çš„ï¼Ÿæˆ‘ä»¬ä¼šä»é€æ˜æµé‡æ‹¦æˆªã€HBONE åè®®ç­‰è§’åº¦è¿›è¡Œè§£æã€‚\n\n### é€æ˜æµé‡æ‹¦æˆª\n\nåœ¨ Ambient æ¨¡å¼ä¸­ï¼Œ**Istio CNI** ä¼šåœ¨ Pod ç½‘ç»œå‘½åç©ºé—´ä¸­æ³¨å…¥ iptables è§„åˆ™ï¼Œå°†å‡ºç«™æµé‡é€æ˜æ‹¦æˆªåˆ°æ‰€åœ¨èŠ‚ç‚¹çš„ **ztunnel** è¿›ç¨‹ã€‚ä¹‹åç”± ztunnel å†³å®šæ˜¯ç›´æ¥è¿›è¡Œ L4 è½¬å‘ï¼Œè¿˜æ˜¯å°†æµé‡è½¬å‘è‡³ **Waypoint Proxy** åšè¿›ä¸€æ­¥çš„ L7 å¤„ç†ã€‚\n\nå¦‚å›¾æ‰€ç¤ºï¼ŒKubelet åœ¨èŠ‚ç‚¹ä¸Šå¯åŠ¨äº†ä¸€ä¸ª Podï¼Œè¿™ä¸ªäº‹ä»¶è¢« Istio CNI Agent ç›‘å¬åˆ°ï¼ŒIstio CNI Agent è¿›å…¥ Pod çš„ç½‘ç»œç©ºé—´ï¼Œè®¾ç½® iptables è§„åˆ™å°†æµé‡é‡å®šå‘åˆ°æœ¬åœ° socketï¼Œå¹¶å°† Pod çš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆFDï¼‰å‘é€ä¸º ztunnelã€‚ztunnel è·å–åˆ° FD ä¹‹åå°±å¯ä»¥åœ¨ Pod çš„ç½‘ç»œç©ºé—´ä¸­åˆ›å»º socketã€‚\n\nPod åœ¨å‘é€æµé‡æ—¶ï¼Œæœ¬è¯¥ç›´è¿ç›®æ ‡åœ°å€ï¼Œä½†æ˜¯ iptables è§„åˆ™ä¼šæŠŠå®ƒæ‹¦æˆªåˆ°æœ¬èŠ‚ç‚¹çš„ ztunnel è¿›ç¨‹é‡Œï¼Œç„¶å ztunnel å†³å®šè¿™æ¡æµé‡éœ€ä¸éœ€è¦äº¤ç»™ Waypoint åš L7 ä»£ç†ã€‚\nå¦‚æœä¸éœ€è¦ï¼Œå°±ç›´æ¥åœ¨ L4 å±‚æŠŠå®ƒåŠ å¯†è½¬å‘åˆ°ç›®æ ‡ Podï¼›å¦‚æœè¦ L7ï¼Œä¾‹å¦‚é‰´æƒï¼Œå°±å†æŠŠæµé‡éš§é“ç»™ Waypointã€‚\n\n![é€æ˜æµé‡æ‹¦æˆª](transparent-traffic-interception.svg)\n\n### æ•°æ®åŒ…ç”Ÿå‘½å‘¨æœŸæ¦‚è§ˆ\n\n1. **Pod â†’ ztunnel**ï¼šPod çš„æµé‡å…ˆè¢« CNI æ‹¦æˆªåˆ°æœ¬èŠ‚ç‚¹ ztunnelã€‚  \n2. **ztunnel**ï¼šè§£æç›®æ ‡åœ°å€å¹¶è¿›è¡Œ mTLS åŠ å¯†ã€‚  \n3. **ï¼ˆå¦‚éœ€è¦ L7 ç­–ç•¥ï¼‰ztunnel â†’ Waypoint Proxy**ï¼šHTTP é‰´æƒã€è·¯ç”±ç­‰æ“ä½œã€‚  \n4. **Waypoint Proxy**ï¼šå®Œæˆ L7 å¤„ç†åï¼Œå†å‘å› ztunnelã€‚  \n5. **ztunnel**ï¼šè§£å°è£…æˆ–ç»§ç»­è½¬å‘è‡³ç›®æ ‡èŠ‚ç‚¹ ztunnelã€‚  \n6. **åˆ°è¾¾ç›®æ ‡ Pod**ï¼šç›®æ ‡èŠ‚ç‚¹ ztunnel æœ€ç»ˆå°†æµé‡äº¤ç»™ç›®æ ‡ Podã€‚\n\n### HBONE åè®®\n\nAmbient æ¨¡å¼ä¸­ï¼ŒzTunnel ä¸ Waypoint ä¹‹é—´ä½¿ç”¨ **HBONE (HTTP\/2 \u002b CONNECT)** åè®®æ¥å»ºç«‹å®‰å…¨éš§é“ï¼Œå®ç° **mTLS åŠ å¯†** å’Œå¤šè·¯å¤ç”¨ï¼Œå‡å°‘é¢å¤–çš„è¿æ¥å¼€é”€ï¼Œç®€åŒ–ä»£ç†è½¬å‘æµç¨‹ã€‚\n\n![HBONE åè®®](hbone-packet.svg)\n\nä¸‹é¢æ˜¯ä¸€ä¸ªç®€åŒ–çš„ HBONE CONNECT è¯·æ±‚ç¤ºä¾‹ï¼Œåˆ©ç”¨ \u0060x-envoy-original-dst-host\u0060ã€\u0060x-istio-auth-userinfo\u0060 ç­‰å¤´ä¿¡æ¯æ¥ä¼ é€’è·¯ç”±å’Œèº«ä»½è®¤è¯æ‰€éœ€ä¸Šä¸‹æ–‡ã€‚\n\n\u0060\u0060\u0060text\n:method: CONNECT\n:scheme: https\n:authority: Pod_B_IP:9080\n:path: \/api\/v1\/users?id=123\nx-envoy-original-dst-host: Pod_B_IP:9080\nx-forwarded-proto: hbone\nx-istio-attributes: ...\n...\n\u0060\u0060\u0060\n\nåœ¨è¿™ä¸ªç¤ºä¾‹é‡Œï¼Œå‡è®¾ ztunnel A éœ€è¦æŠŠæµé‡å‘é€ç»™ ç›®æ ‡èŠ‚ç‚¹ Bï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¤–å±‚çš„ TCP è¿æ¥å…¶å®æ˜¯ä» ztunnel_A_IP:52368 è¿åˆ° Node_B_IP:15008ã€‚è¿™æ˜¯ ztunnel A å’Œ ztunnel B ä¹‹é—´çš„éš§é“ç«¯å£ï¼Œ15008 å°±æ˜¯ HBONE ç›‘å¬ç«¯å£ã€‚\n\nè¿›å…¥åˆ° HTTP\/2 å±‚åï¼Œå°±ä¼šæœ‰ä¸€ä¸ª CONNECT è¯·æ±‚ï¼Œé‡Œé¢çš„ \u0060:authority\u0060 æ˜¾ç¤ºçš„æ˜¯ Pod_B_IP:9080ï¼Œè¡¨ç¤ºå®é™…ä¸Šè¦è¿åˆ° Pod B çš„ 9080 ç«¯å£ã€‚\u0060x-envoy-original-dst-host\u0060 é‡Œä¹Ÿèƒ½çœ‹å‡ºç›¸åŒä¿¡æ¯ã€‚\n\nåŒæ—¶æˆ‘ä»¬çœ‹åˆ°äº†ä¸€äº›è‡ªå®šä¹‰å¤´ï¼Œæ¯”å¦‚ \u0060x-forwarded-proto\u0060ã€x-istio-attributes ç­‰ï¼Œç”¨æ¥ç»™ç›®æ ‡ ztunnel æˆ–åç»­ä»£ç†å¸¦å»æ›´å¤šä¸Šä¸‹æ–‡å’Œå®‰å…¨éªŒè¯ä¿¡æ¯ã€‚\n\nå¯ä»¥æŠŠè¿™ä¸ªç†è§£ä¸ºï¼šåœ¨ HTTP\/2 CONNECT ä¹‹ä¸Šï¼Œæµé‡å°±åƒåŠ äº†ä¸€ä¸ªâ€œå†…å±‚â€éš§é“ï¼ŒæŠŠåº”ç”¨å±‚çš„è¯·æ±‚ï¼ˆä¾‹å¦‚ \u0060\/api\/v1\/users?id=123\u0060ï¼‰å°è£…åœ¨è¿™é‡Œé¢ï¼Œç„¶ååœ¨ ztunnel B ç«¯è§£å°è£…å¹¶è½¬å‘åˆ°çœŸå®çš„ Pod Bã€‚\n\næ•´ä¸ªè¿‡ç¨‹å¯¹åº”ç”¨æ¥è¯´æ˜¯é€æ˜çš„ï¼Œä½†å¯¹æˆ‘ä»¬æ¥è¯´ï¼Œé€šè¿‡æŸ¥çœ‹è¿™ç§ CONNECT è¯·æ±‚å¤´ï¼Œå¯ä»¥äº†è§£ Ambient æ¨¡å¼å¦‚ä½•åœ¨ HTTP\/2 å±‚åšæµé‡è·¯ç”±å’Œèº«ä»½è®¤è¯ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¯´ HBONE æ¯”ä¼ ç»Ÿçš„ Sidecar-to-Sidecaré€šä¿¡æ›´åŠ çµæ´»ï¼Œä¹Ÿæ›´ä¾¿äºåš mTLS ä»¥åŠ L7 æ‰©å±•ã€‚\n\n### åŒèŠ‚ç‚¹ä¸Šçš„åŠ å¯†æµé‡\n\nå¦‚æœæº Pod å’Œç›®æ ‡ Pod æ°å¥½åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œæµé‡ä¼šèµ° ztunnel çš„ L4 åŠ å¯†æµç¨‹ã€‚\nè¿™é‡Œæ˜¾ç¤ºï¼Œztunnel æ˜¯ä½¿ç”¨ DaemonSet éƒ¨ç½²åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„ï¼Œå¹¶ä¸”ä½¿ç”¨äº†host Networkï¼Œå…±äº«ä¸»æœºçš„ç½‘ç»œã€‚Istio CNI å°† Pod çš„å‡ºç«™æµé‡æ‹¦æˆªåˆ° ztunnelçš„15001ç«¯å£ï¼Œå¦‚æœæºå’Œç›®çš„ pod åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œztunnel ç›´æ¥åœ¨å†…éƒ¨å®ŒæˆåŠ è§£å¯†åå°†æµé‡å‘é€åˆ°ç›®çš„åœ° podã€‚\n\nå¦‚æœéœ€è¦ L7 çš„æµé‡å¤„ç†ï¼Œæ¯”å¦‚é‰´æƒï¼Œztunnel å°±ä¼šä¸ Waypoint ä»£ç†å»ºç«‹ HBONE éš§é“ï¼Œç»è¿‡ Waypoint ä»£ç†çš„è½¬å‘åˆ°ç›®çš„ Podã€‚\n\n![åŒèŠ‚ç‚¹ä¸Šçš„åŠ å¯†æµé‡](ambient-traffic-on-the-same-node.svg)\n\n### è·¨èŠ‚ç‚¹çš„åŠ å¯†æµé‡ï¼ˆL4ï¼‰\n\nè¿™æ˜¯è·¨èŠ‚ç‚¹çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯æœ€å¸¸è§çš„åœºæ™¯ï¼š\n\næºèŠ‚ç‚¹çš„ ztunnel æŠŠæµé‡é€šè¿‡ HBONE éš§é“åŠ å¯†åå‘ç»™ç›®æ ‡èŠ‚ç‚¹çš„ ztunnelï¼›ç›®æ ‡èŠ‚ç‚¹ ztunnel è§£å°è£…ï¼Œå†æŠŠæ˜æ–‡æµé‡é€’ç»™ç›®æ ‡ Podã€‚åªè¦æ˜¯çº¯ L4 æ— éœ€ L7ï¼Œå°±ä¸å¿…åŠ ä¸€å±‚ Waypointï¼Œå‡å°‘äº†ä»£ç†é“¾è·¯ã€‚\n\n![è·¨èŠ‚ç‚¹çš„åŠ å¯†æµé‡ï¼ˆL4ï¼‰](ambient-traffic-on-the-different-node-l4.svg)\n\n### è·¨èŠ‚ç‚¹çš„åŠ å¯†æµé‡ï¼ˆL7ï¼‰\n\nå½“æˆ‘ä»¬éœ€è¦ L7 å¤„ç†æ—¶ï¼Œæµé‡å°±ä¼šå¤šç»è¿‡ä¸€ä¸‹ Waypointã€‚ä¹Ÿå°±æ˜¯ï¼š\n\n- æº ztunnel å…ˆæŠŠæµé‡éš§é“ç»™ Waypointï¼›\n- Waypoint åœ¨ HTTP å±‚åšé‰´æƒã€è·¯ç”±ç­‰ï¼›\n- Waypoint å†ç”¨ HBONE æŠŠæµé‡å‘ç»™ç›®æ ‡ ztunnelï¼›\n- ç›®æ ‡ ztunnel è§£å°è£…åç»™ç›®æ ‡ Podã€‚\n\n![è·¨èŠ‚ç‚¹çš„åŠ å¯†æµé‡ï¼ˆL7ï¼‰](ambient-traffic-on-the-different-node-l7.svg)\n\nè¿™ä¸ªæµç¨‹æ¯” L4 å¤šäº†ä¸€æ¬¡ä»£ç†ï¼Œä½†å¥½å¤„æ˜¯åªæœ‰ç‰¹å®šæµé‡æ‰ä¼šè¢« L7 ä»£ç†è§£æï¼Œå‡å°‘ä¸å¿…è¦çš„å¼€é”€ã€‚\n\n### å…œåº•æµé‡ï¼ˆé˜²æ­¢æµé‡é€ƒé€¸ï¼‰\n\nå¯¹äºé Istioç½‘æ ¼å†…éƒ¨çš„æµé‡ï¼Œé€šè¿‡ Pod IPå’Œç«¯å£ç›´æ¥è®¿é—® Podæ—¶ï¼Œä¸ºäº†é˜²æ­¢è¿™äº›æµé‡é€ƒå‡º ztunnelçš„æŒæ§ï¼Œä¹Ÿéœ€è¦æ‹¦æˆªè¿™äº›æµé‡ã€‚å¦‚æœæµé‡æ˜¯è®¿é—®çš„åº”ç”¨ç«¯å£ï¼Œé€šè¿‡åˆ¤æ–­æ•°æ®åŒ…ä¸Šæ˜¯å¦å¸¦æœ‰ 0x539 æ ‡è®°ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™å°†å…¶è½¬å‘åˆ° ztunnel ç›‘å¬çš„ 15006 æ˜æ–‡ç«¯å£ï¼Œç» ztunnel å¤„ç†åä¼šå¸¦ä¸Š 0x539 æ ‡è®°ï¼Œç„¶åå°±å¯ä»¥è®¿é—®åº”ç”¨çš„ç›®æ ‡ç«¯å£äº†ï¼›å¦‚æœæµé‡çš„ç›®çš„ç«¯å£æ˜¯ 15008ï¼Œé‚£ä¹ˆå®é™…ä¸Šå°±ä¼šè¢« ztunnel ç›‘å¬å’Œå¤„ç†ï¼Œåˆ¤æ–­ HBONE åè®®ã€‚\n\n![æ¥è‡ªémeshå†…éƒ¨çš„æµé‡](non-istio-mesh-pod-taffic-go-into-the-mesh.svg)\n\n### L4 ä¸ L7 æµé‡å·®å¼‚\n\n| æµé‡ç±»å‹ | å¤„ç†ä½ç½®                 | ç¤ºä¾‹åœºæ™¯                                         |\n| -------- | ------------------------ | ------------------------------------------------ |\n| **L4**   | ztunnelï¼ˆé€æ˜è½¬å‘ï¼‰      | TCP çº§åˆ«æµé‡ï¼Œä¸éœ€åº”ç”¨å±‚ç­–ç•¥                     |\n| **L7**   | ztunnel â†’ Waypoint Proxy | HTTP\/gRPC éœ€è¦é‰´æƒã€ç†”æ–­ã€è·¯ç”±ã€å¯è§‚æµ‹ç­‰é«˜çº§åŠŸèƒ½ |\n\nå¯¹äºå¤§éƒ¨åˆ†åªéœ€ TCP å±‚åŠ å¯†å’Œè½¬å‘çš„æµé‡ï¼ŒAmbient Mode ä»…é€šè¿‡ ztunnel å³å¯ï¼›åªæœ‰åœ¨éœ€è¦ HTTP å±‚ç­–ç•¥æ—¶æ‰ä¼šé¢å¤–ç»è¿‡ Waypointã€‚\n\n## Ambient Mode vs. Sidecar Mode\n\næœ‰äº†å¯¹ Ambient çš„äº†è§£åï¼Œæˆ‘ä»¬è¿˜æ˜¯å¾—å’ŒåŸæœ‰çš„ Sidecar æ¨¡å¼åšå¯¹æ¯”ï¼Œæ¥çœ‹çœ‹å“ªäº›åŠŸèƒ½è¿˜ä¸å®Œå–„ï¼Œå“ªäº›åœºæ™¯æ›´é€‚åˆ Ambientã€‚\n\n### Ambient æ¨¡å¼çš„é™åˆ¶\n\nä¸ä¼ ç»Ÿ Sidecar æ¨¡å¼ç›¸æ¯”ï¼ŒAmbient ç›®å‰ä»æœ‰ä¸€äº›ä¸å®Œå–„ä¹‹å¤„ï¼š\n\n- åœ¨**æ··åˆä½¿ç”¨** Sidecar ä¸ Ambient æ—¶ï¼Œéš¾ä»¥å¯¹å•ä¸ª Pod åšç²¾å‡†ä»£ç†å®šåˆ¶ï¼ˆä¾‹å¦‚ EnvoyFilterï¼‰ã€‚\n- **å¤šé›†ç¾¤**ã€**å¤šç½‘ç»œ**ã€ä»¥åŠ **è™šæ‹Ÿæœº** å·¥ä½œè´Ÿè½½çš„æ”¯æŒè¿˜ä¸å¤Ÿå®Œå–„ï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨éœ€è°¨æ…ã€‚\n- ä¸€äº›æ·±åº¦å®šåˆ¶ï¼ˆä¾‹å¦‚ WASM æ’ä»¶ï¼‰ç›®å‰æ— æ³•åœ¨ Ambient ä¸‹ç›´æ¥ä¸€å¯¹ä¸€å®ç°ã€‚\n\n### åŠŸèƒ½ä¸å·®å¼‚å¯¹æ¯”\n\n| æŒ‡æ ‡             | **Sidecar æ¨¡å¼**                                          | **Ambient æ¨¡å¼**                                           |\n| ---------------- | --------------------------------------------------------- | ---------------------------------------------------------- |\n| **ä»£ç†ä½ç½®**     | æ¯ä¸ª Pod éƒ½è¿è¡Œ Envoy Sidecar                             | Node çº§ **ztunnel** \u002b å¯é€‰çš„ **Waypoint Proxy**            |\n| **èµ„æºå¼€é”€**     | åœ¨å¤§è§„æ¨¡åœºæ™¯ä¸‹ CPU\/å†…å­˜æ¶ˆè€—ç›¸å¯¹æ›´é«˜                       | ç›¸å¯¹æ›´ä½ï¼šä»£ç†å…±äº«åœ¨èŠ‚ç‚¹\/å‘½åç©ºé—´çº§                        |\n| **è¿ç»´å¤æ‚åº¦**   | å‡çº§ Sidecar éœ€æ»šåŠ¨æ›´æ–°æ‰€æœ‰å…³è” Podï¼Œæ“ä½œè¾ƒç¹ç           | éƒ¨ç½²\/å‡çº§é›†ä¸­åœ¨å°‘æ•°ç»„ä»¶ï¼ˆztunnel \/ Waypointï¼‰ï¼Œè¿ç»´æ›´ç®€å•  |\n| **æ€§èƒ½**         | æ¯ä¸ª Pod éƒ½æœ‰ Envoyï¼Œä½¿å¾—éš”ç¦»æ€§æ›´å¼ºï¼Œä½†æ•´ä½“æœ‰é¢å¤–ä»£ç†å¼€é”€ | L4 æ€§èƒ½è¾ƒå¥½ï¼ŒL7 åœºæ™¯éœ€è¦å¤šç»è¿‡ä¸€æ¬¡ Waypoint è½¬å‘           |\n| **åŠŸèƒ½å®Œæ•´åº¦**   | æˆç†Ÿç¨³å®šï¼Œæ”¯æŒå¤šé›†ç¾¤ã€VMã€æ··åˆç½‘ç»œ                        | å°šåœ¨æ¼”è¿›ï¼Œå¤šç½‘ç»œã€VM ç­‰é«˜çº§åœºæ™¯æ”¯æŒä»åœ¨å®Œå–„                |\n| **å…¸å‹ä½¿ç”¨åœºæ™¯** | æ³¨é‡ä¸¥æ ¼éš”ç¦»æˆ–ä¾èµ–ç‰¹å®šçš„ EnvoyFilterã€WASM æ’ä»¶ç­‰æ·±åº¦å®šåˆ¶ | å¤§è§„æ¨¡é›†ç¾¤ã€éœ€è¦**è½»é‡åŒ–**ç®¡ç†ä¸”å¤§éƒ¨åˆ†æµé‡ä»¥ L4 ä¸ºä¸»çš„åœºæ™¯ |\n\n### é€‰æ‹©å»ºè®®\n\n1. è‹¥å·²æœ‰ **Sidecar** æ¶æ„ä¸”ä¾èµ–å¤§é‡æˆç†Ÿç‰¹æ€§ï¼šå¯å…ˆç»§ç»­ä½¿ç”¨ Sidecarã€‚\n2. è¿½æ±‚ **èµ„æºèŠ‚çœ**ã€**è¿ç»´ç®€åŒ–** ä¸”å¤§éƒ¨åˆ†æµé‡ä»…éœ€ L4ï¼šå¯å°è¯• **Ambient Mode**ã€‚\n3. å¦‚æœéƒ¨åˆ†åº”ç”¨ä»éœ€ä¿ç•™ Sidecarï¼Œå¯è€ƒè™‘ **æ··åˆéƒ¨ç½²**ï¼Œä½†éœ€é¢å¤–è§„åˆ’ Sidecar \/ Ambient çš„è¾¹ç•Œå’Œç­–ç•¥ã€‚\n\n## æ€»ç»“\n\nå¥½çš„ï¼Œæœ€åæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ Ambient Mode çš„ä¼˜ç¼ºç‚¹ï¼Œä»¥åŠå½“å‰é€‚åˆå“ªäº›åœºæ™¯ã€‚\n\n### æ ¸å¿ƒè¦ç‚¹å›é¡¾\n\n1. **Ambient Mode**ï¼šé€šè¿‡ç§»é™¤ Sidecarï¼Œé™ä½æ¯ä¸ª Pod çš„ä»£ç†è´Ÿæ‹…ï¼Œæ˜¾è‘—é™ä½èµ„æºå’Œè¿ç»´æˆæœ¬ã€‚\n2. **ztunnel \u002b Waypoint** æ¶æ„ï¼šéœ€è¦ L7 åŠŸèƒ½æ—¶æ‰å¯ç”¨ Waypointï¼Œå…¶ä»–æµé‡ä»¥ L4 æ–¹å¼å¿«é€Ÿè½¬å‘ã€‚\n3. è™½ç„¶å®˜æ–¹å·²å®£å¸ƒ Ambient Mode GAï¼Œä½†å¯¹äº **å¤šé›†ç¾¤ \/ VM \/ å¤šç½‘ç»œ** ç­‰ä»éœ€è¿›ä¸€æ­¥è§‚å¯Ÿã€æµ‹è¯•ã€‚\n4. é€‚ç”¨åœºæ™¯ï¼š**å¤§è§„æ¨¡é›†ç¾¤** \u002b **ä¸»è¦ä»¥ L4 æµé‡ä¸ºä¸»**ï¼Œå¯¹èµ„æºå’Œç®¡ç†è¦æ±‚é«˜çš„å›¢é˜Ÿå¯ä»¥é‡ç‚¹å…³æ³¨ã€‚\n\nä½ ä¹Ÿå¯ä»¥é€šè¿‡ [jimmysong.io](https:\/\/jimmysong.io) ç½‘ç«™æ‰¾åˆ°æ›´å¤šäº‘åŸç”Ÿç›¸å…³çš„æ–‡ç« å’Œå®è·µåˆ†äº«ã€‚å¦‚æœå¯¹æ­¤æ–‡æˆ– Istio æœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿ç»™æˆ‘ç•™è¨€æˆ–åœ¨ç¤¾åŒºä¸­äº¤æµã€‚è°¢è°¢ï¼\n', '\/blog\/beyond-sidecar\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">æœ¬æ–‡å°†å¸¦å¤§å®¶äº†è§£ Ambient Mode çš„å‡ºç°èƒŒæ™¯ã€æ ¸å¿ƒç»„ä»¶ã€æµé‡è·¯å¾„æœºåˆ¶ä»¥åŠä¸ç°æœ‰ Sidecar æ¨¡å¼çš„å¯¹æ¯”ï¼Œä»è€Œå¸®åŠ©ä½ å¿«é€Ÿè¯„ä¼°å¹¶ä¸Šæ‰‹è¿™é¡¹æ–°ç‰¹æ€§ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/istio-installation-deep-dive/">Istio å®‰è£…æ–¹å¼æ·±åº¦å‰–æâ€”â€”é€‰æ‹©ä¸å®è·µæŒ‡å—</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2025/02/27</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/istio"> 
             Istio
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('Istio å®‰è£…æ–¹å¼æ·±åº¦å‰–æâ€”â€”é€‰æ‹©ä¸å®è·µæŒ‡å—', 'å‰–æ Istio å®‰è£…æ–¹å¼ï¼šæ¨è istioctlï¼ŒHelm å¤‡é€‰ï¼ŒåºŸå¼ƒ Operatorï¼Œè§£è¯» API ä¸å®è·µã€‚', '\néšç€ Istio ç‰ˆæœ¬è¿­ä»£ï¼Œå…¶çš„å®‰è£…æ–¹å¼å’Œå·¥å…·é“¾ä¹Ÿåœ¨ä¸æ–­æ¼”è¿›ã€‚ä» \u0060istioctl\u0060 åˆ° Helmï¼Œå†åˆ°æ›¾ç»çš„ Istio Operatorï¼Œç”¨æˆ·å¸¸å¸¸ä¼šé¢ä¸´é€‰æ‹©å›°å¢ƒï¼šåˆ°åº•å“ªç§æ–¹å¼æœ€é€‚åˆæˆ‘çš„åœºæ™¯ï¼Ÿåœ¨æœ€è¿‘çš„äº¤æµä¸­ï¼Œæˆ‘ç»å¸¸é‡åˆ°å…³äº Istio å®‰è£…æ–¹å¼é€‰æ‹©çš„é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å›´ç»• \u0060IstioOperator API\u0060 å’Œå·²åºŸå¼ƒçš„ Istio Operator ç»„ä»¶çš„åŒºåˆ«ã€‚ä»Šå¤©ï¼Œæˆ‘å°†ä»¥æŠ€æœ¯å®è·µè€…çš„è§†è§’ï¼Œå¸¦ä½ æ¢³ç† Istio çš„å®‰è£…ä¹‹é“ï¼Œæ‹†è§£å…³é”®é—®é¢˜ï¼Œå¹¶ç»™å‡ºç”Ÿäº§çº§å»ºè®®ã€‚\n\n## Istio å®‰è£…æ–¹å¼ä¸€è§ˆ\n\nIstio æä¾›äº†å¤šç§å®‰è£…è·¯å¾„ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰å…¶è®¾è®¡åˆè¡·å’Œé€‚ç”¨åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯å½“å‰ä¸»æµé€‰é¡¹ï¼š\n\n- **\u0060istioctl\u0060**ï¼šå®˜æ–¹æ¨èçš„å®‰è£…å·¥å…·ï¼Œé›†éªŒè¯ã€å®šåˆ¶å’Œè¿ç»´äºä¸€ä½“ï¼Œå‡ ä¹æ˜¯ç”Ÿäº§ç¯å¢ƒçš„æ ‡é…ã€‚\n- **Helm**ï¼šKubernetes ç”Ÿæ€çš„åŒ…ç®¡ç†åˆ©å™¨ï¼Œé€‚åˆ Helm é‡åº¦ç”¨æˆ·æˆ– CI\/CD é›†æˆåœºæ™¯ã€‚\n- **Istio Operatorï¼ˆå·²åºŸå¼ƒï¼‰**ï¼šæ›¾ç»çš„é›†ç¾¤å†…ç®¡ç†æ–¹æ¡ˆï¼Œå¦‚ä»Šå·²é€€å‡ºå†å²èˆå°ã€‚\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€ä¸€å‰–æè¿™äº›æ–¹å¼çš„æ ¸å¿ƒç‰¹ç‚¹ï¼Œä»¥åŠèƒŒåçš„å–èˆé€»è¾‘ã€‚\n\n## \u0060istioctl\u0060ï¼šç”Ÿäº§ç¯å¢ƒçš„ä¸äºŒä¹‹é€‰\n\nåœ¨ Istio ä¸­ï¼Œ\u0060istioctl\u0060 è¢«å®˜æ–¹å®šä½ä¸ºé¦–é€‰å®‰è£…å·¥å…·ã€‚å®ƒçš„ä¼˜åŠ¿æ˜¾è€Œæ˜“è§ï¼š\n\n- **å¼ºå¤§çš„é…ç½®éªŒè¯**ï¼šåœ¨å®‰è£…å‰ï¼Œ\u0060istioctl\u0060 ä¼šå¯¹é…ç½®è¿›è¡Œé™æ€æ£€æŸ¥ï¼Œé¿å…æ½œåœ¨é—®é¢˜ã€‚æ¯”å¦‚ï¼Œä½¿ç”¨ \u0060istioctl analyze\u0060 å¯ä»¥å¿«é€Ÿå®šä½é…ç½®æ–‡ä»¶ä¸­çš„é”™è¯¯ã€‚\n- **çµæ´»çš„å®šåˆ¶èƒ½åŠ›**ï¼šé€šè¿‡ \u0060IstioOperator\u0060 APIï¼Œä½ å¯ä»¥ç²¾ç¡®æ§åˆ¶å®‰è£…ç»†èŠ‚ï¼Œæ¯”å¦‚åªå¯ç”¨ Pilot æˆ–è°ƒæ•´ç½‘å…³é…ç½®ã€‚\n- **ç”Ÿäº§å°±ç»ªçš„ç‰¹æ€§**ï¼šä»å¥åº·æ£€æŸ¥ï¼ˆ\u0060istioctl verify-install\u0060ï¼‰åˆ°å¢é‡å‡çº§ï¼Œ\u0060istioctl\u0060 æä¾›äº†å…¨ç”Ÿå‘½å‘¨æœŸæ”¯æŒã€‚\n- **å®‰å…¨ä¼˜å…ˆ**ï¼šç›¸è¾ƒäºé›†ç¾¤å†…æ§åˆ¶å™¨ï¼Œ\u0060istioctl\u0060 åœ¨æœ¬åœ°è¿è¡Œï¼Œé¿å…äº†é«˜æƒé™ç»„ä»¶å¸¦æ¥çš„å®‰å…¨éšæ‚£ã€‚\n\nå®è·µä¸­çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼š\n\n\u0060\u0060\u0060bash\nistioctl install --set profile=default -y\n\u0060\u0060\u0060\n\nè¿™ä¼šå¿«é€Ÿéƒ¨ç½²é»˜è®¤é…ç½®ã€‚å¦‚æœéœ€è¦æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œå¯ä»¥æ­é… YAML æ–‡ä»¶ï¼ˆåæ–‡è¯¦è§£ï¼‰ã€‚\n\n**é€‚ç”¨åœºæ™¯**ï¼šç”Ÿäº§ç¯å¢ƒã€æ–°ç”¨æˆ·ã€éœ€è¦é«˜åº¦å®šåˆ¶çš„åœºæ™¯ã€‚\n\n## Helmï¼šç”Ÿæ€é›†æˆä¸‹çš„å¤‡é€‰æ–¹æ¡ˆ\n\nHelm æ˜¯ Kubernetes ç”Ÿæ€çš„è€æœ‹å‹ï¼ŒIstio ä¹Ÿæä¾›äº†å®˜æ–¹ Helm chartã€‚å®ƒçš„äº®ç‚¹åœ¨äºï¼š\n\n- **ä¸ Helm ç”Ÿæ€æ— ç¼å¯¹æ¥**ï¼šå¦‚æœä½ çš„é›†ç¾¤å·²ç»åœ¨ç”¨ Helm ç®¡ç†èµ„æºï¼ŒIstio çš„ Helm å®‰è£…å¯ä»¥ç›´æ¥èå…¥ç°æœ‰å·¥ä½œæµã€‚\n- **è‡ªåŠ¨åŒ–å‹å¥½**ï¼šHelm chart çš„ç‰ˆæœ¬åŒ–å’Œå£°æ˜å¼ç‰¹æ€§ï¼Œéå¸¸é€‚åˆ CI\/CD ç®¡é“ã€‚\n\nä½† Helm å¹¶éæ²¡æœ‰çŸ­æ¿ï¼š\n\n- **éªŒè¯èƒ½åŠ›ä¸è¶³**ï¼šç›¸æ¯” \u0060istioctl\u0060ï¼ŒHelm çš„é…ç½®æ£€æŸ¥è¾ƒå¼±ï¼Œé”™è¯¯å¾€å¾€åœ¨è¿è¡Œæ—¶æš´éœ²ã€‚\n- **ç»„ä»¶ç®¡ç†å¤æ‚**ï¼šæ¯”å¦‚å®‰è£… Egress Gatewayï¼ŒHelm chart çš„æ”¯æŒä¸å¤Ÿå®Œå–„ï¼Œç¤¾åŒºåé¦ˆä¸­å¸¸æœ‰äººæåˆ°éœ€è¦é¢å¤–è°ƒæ•´ï¼ˆå‚è€ƒ [GitHub Issue #43826](https:\/\/github.com\/istio\/istio\/issues\/43826)ï¼‰ã€‚\n\n**é€‚ç”¨åœºæ™¯**ï¼šå·²æœ‰ Helm å·¥ä½œæµã€CI\/CD é©±åŠ¨çš„é¡¹ç›®ã€‚\n\n## Istio Operator çš„å…´è¡°\n\nå¦‚æœä½ æ¥è§¦è¿‡æ—©æœŸ Istioï¼Œå¯èƒ½ä¼šå¯¹ Istio Operator æœ‰æ‰€è€³é—»ã€‚è¿™æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨é›†ç¾¤å†…çš„æ§åˆ¶å™¨ï¼Œè´Ÿè´£æ ¹æ®é…ç½®ç®¡ç† Istio å®‰è£…ã€‚ç„¶è€Œï¼Œä» 1.23 ç‰ˆæœ¬èµ·ï¼Œå®ƒå·²è¢«å®˜æ–¹åºŸå¼ƒã€‚åŸå› ä½•åœ¨ï¼Ÿ\n\n- **å®‰å…¨è€ƒé‡**ï¼šé›†ç¾¤å†…é«˜æƒé™ç»„ä»¶å®¹æ˜“æˆä¸ºæ”»å‡»ç›®æ ‡ï¼Œå¢åŠ äº†è¿ç»´é£é™©ã€‚\n- **åŠŸèƒ½å†—ä½™**ï¼šç¤¾åŒºè°ƒæŸ¥æ˜¾ç¤ºï¼Œå…¶ä½¿ç”¨ç‡ä¸è¶³ 10%ï¼Œè€Œ \u0060istioctl\u0060 å·²èƒ½å®Œå…¨è¦†ç›–å…¶åŠŸèƒ½ï¼ˆå‚è€ƒ [GitHub Discussion #166](https:\/\/github.com\/istio\/enhancements\/issues\/166)ï¼‰ã€‚\n\nç°æœ‰ç”¨æˆ·å¯ä»¥ç»§ç»­è¿è¡Œæ—§ç‰ˆæœ¬ï¼Œä½†æ— æ³•å‡çº§åˆ° 1.24\u002bã€‚å¯¹äºæ–°é¡¹ç›®ï¼Œæˆ‘çš„å»ºè®®æ˜¯ç›´æ¥è·³è¿‡è¿™ä¸€é€‰é¡¹ã€‚\n\n## æ‹¨äº‘è§æ—¥ï¼šIstioOperator API vs. Istio Operator\n\nè®¨è®ºä¸­å¸¸å‡ºç°çš„ä¸€ä¸ªå›°æƒ‘æ˜¯ï¼š\u0060IstioOperator API\u0060 å’Œ Istio Operator æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿè®©æˆ‘ä»¬ä¸€æ¬¡æ€§è®²æ¸…æ¥šï¼š\n\n- **\u0060IstioOperator API\u0060**ï¼šä¸€ä¸ªå£°æ˜å¼çš„é…ç½®æ¥å£ï¼Œç”¨äºå®šä¹‰ Istio å®‰è£…çš„æœŸæœ›çŠ¶æ€ã€‚å®ƒå¹¶æœªåºŸå¼ƒï¼Œè€Œæ˜¯ \u0060istioctl\u0060 çš„æ ¸å¿ƒä¾èµ–ã€‚\n- **Istio Operator**ï¼šå·²åºŸå¼ƒçš„é›†ç¾¤å†…æ§åˆ¶å™¨ï¼Œè¿‡å»è´Ÿè´£è§£æ API å¹¶æ‰§è¡Œå®‰è£…ã€‚\n\nç±»æ¯”ä¸€ä¸‹ï¼šAPI æ˜¯è®¾è®¡å›¾çº¸ï¼ŒOperator æ˜¯æ–½å·¥é˜Ÿã€‚ç°åœ¨ï¼Œ\u0060istioctl\u0060 å–ä»£äº†æ–½å·¥é˜Ÿï¼Œæ•ˆç‡æ›´é«˜ï¼Œé£é™©æ›´ä½ã€‚\n\n## å®æˆ˜ï¼šå¦‚ä½•ä½¿ç”¨ \u0060IstioOperator API\u0060ï¼Ÿ\n\n\u0060IstioOperator\u0060 API æ˜¯ Istio å®‰è£…çš„çµé­‚ï¼Œå…è®¸ä½ é€šè¿‡ YAML æ–‡ä»¶çµæ´»å®šåˆ¶é…ç½®ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹æµç¨‹ï¼š\n\n1. **ç¼–å†™é…ç½®æ–‡ä»¶**ï¼š\n\n   å‡è®¾æˆ‘ä»¬è¦å¯ç”¨ Egress Gatewayï¼š\n\n   \u0060\u0060\u0060yaml\n   apiVersion: install.istio.io\/v1alpha1\n   kind: IstioOperator\n   spec:\n     profile: default\n     components:\n       egressGateways:\n         - name: istio-egressgateway\n           enabled: true\n   \u0060\u0060\u0060\n\n1. **éƒ¨ç½²é…ç½®**ï¼š\n\n   æ‰§è¡Œï¼š\n\n   \u0060\u0060\u0060bash\n   istioctl install -f istio-config.yaml\n   \u0060\u0060\u0060\n\n   è¿™ç§æ–¹å¼çš„å¥½å¤„åœ¨äºå£°æ˜å¼ç®¡ç†ï¼Œä¿®æ”¹åé‡æ–°è¿è¡Œå³å¯å®ç°å¢é‡æ›´æ–°ã€‚æ¯”å¦‚ï¼Œè¦è°ƒæ•´èµ„æºé™åˆ¶ï¼Œåªéœ€æ›´æ–° YAML å¹¶å†æ¬¡åº”ç”¨ã€‚\n\n## ç»„ä»¶æ›´æ–°ä¸æ‰©å±•\n\nå®‰è£…å®Œæˆåï¼Œå¦‚ä½•æ·»åŠ æˆ–æ›´æ–°ç»„ä»¶ï¼ˆå¦‚ Egress Gatewayï¼‰ï¼Ÿ\u0060istioctl\u0060 çš„ç­”æ¡ˆç®€å•ç›´æ¥ï¼š\n\n- ç¼–è¾‘ YAMLï¼Œæ·»åŠ æ–°é…ç½®ã€‚\n- è¿è¡Œï¼š\n\n    \u0060\u0060\u0060bash\n    istioctl install -f updated-config.yaml\n    \u0060\u0060\u0060\n    \n    \u0060istioctl\u0060 ä¼šè‡ªåŠ¨è®¡ç®—å·®å¼‚ï¼Œå®Œæˆå¢é‡éƒ¨ç½²ã€‚\n\nHelm æ›´æ–°åˆ™ç¨æ˜¾ç¹çï¼Œå¯èƒ½æ¶‰åŠ chart è°ƒæ•´æˆ–æ‰‹åŠ¨å¹²é¢„ï¼Œå°¤å…¶åœ¨éå¸¸è§„ç»„ä»¶ä¸Šã€‚\n\n## æ€»ç»“ä¸ç”Ÿäº§å»ºè®®\n\né€šè¿‡è¿™æ¬¡æ·±å…¥å‰–æï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š\n\n- **\u0060istioctl\u0060 æ˜¯ç‹é“**ï¼šå®ƒå…¼å…·å®‰å…¨æ€§ã€çµæ´»æ€§å’Œç”Ÿäº§å°±ç»ªç‰¹æ€§ï¼Œé€‚åˆç»å¤§å¤šæ•°åœºæ™¯ã€‚\n- **Helm æœ‰å…¶ä¸€å¸­ä¹‹åœ°**ï¼šå¦‚æœä½ æ·±é™· Helm ç”Ÿæ€ï¼Œä¸å¦¨ä¸€è¯•ï¼Œä½†è¦åšå¥½é¢å¤–é…ç½®çš„å‡†å¤‡ã€‚\n- **Istio Operator å·²æˆå†å²**ï¼šæ–°é¡¹ç›®æ— éœ€è€ƒè™‘ï¼Œç°æœ‰ç”¨æˆ·åº”è§„åˆ’è¿ç§»ã€‚\n\nä½œä¸ºä¸€ä¸ªåœ¨å¼€æºé¢†åŸŸæ‘¸çˆ¬æ»šæ‰“çš„å®è·µè€…ï¼Œæˆ‘å»ºè®®ä» \u0060istioctl\u0060 å…¥æ‰‹ï¼Œç»“åˆ \u0060IstioOperator\u0060 APIï¼Œæ—¢èƒ½å¿«é€Ÿä¸Šæ‰‹ï¼Œåˆèƒ½æ»¡è¶³å¤æ‚éœ€æ±‚ã€‚Istio çš„å®‰è£…çœ‹ä¼¼å¤æ‚ï¼Œä½†æŒæ¡æ ¸å¿ƒé€»è¾‘åï¼Œä½ ä¼šå‘ç°å®ƒå…¶å®å¾ˆæœ‰æ¡ç†ã€‚\n\næœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€äº¤æµï¼Œä¸€èµ·è§£é”æœåŠ¡ç½‘æ ¼çš„æ›´å¤šç©æ³•ï¼\n\n## å‚è€ƒèµ„æ–™\n\n- [Istio å®˜æ–¹å®‰è£…æŒ‡å—](https:\/\/istio.io\/latest\/docs\/setup\/install\/)\n- [IstioOperator API é…ç½®å‚è€ƒ](https:\/\/istio.io\/latest\/docs\/reference\/config\/istio.operator.v1alpha1\/)\n- [GitHub Issue #43826](https:\/\/github.com\/istio\/istio\/issues\/43826)\n- [GitHub Discussion #166](https:\/\/github.com\/istio\/enhancements\/issues\/166)\n', '\/blog\/istio-installation-deep-dive\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">å‰–æ Istio å®‰è£…æ–¹å¼ï¼šæ¨è istioctlï¼ŒHelm å¤‡é€‰ï¼ŒåºŸå¼ƒ Operatorï¼Œè§£è¯» API ä¸å®è·µã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/istio-ambient-terminology/">Istio Ambient æ¨¡å¼ï¼šå›¾è§£åŠæ¦‚å¿µè§£è¯»</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2025/02/13</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/istio"> 
             Istio
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('Istio Ambient æ¨¡å¼ï¼šå›¾è§£åŠæ¦‚å¿µè§£è¯»', 'æœ¬æ–‡é€šè¿‡ä¸€ä»½è¯¦ç»†çš„ Istio Ambient æ¨¡å¼çš„æœ¯è¯­è¡¨ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å…¶ä¸­çš„å…³é”®æ¦‚å¿µåŠå…¶èƒŒåçš„æŠ€æœ¯å®ç°ã€‚', '\nIstio çš„ Ambient æ¨¡å¼æ˜¯ä¸€ç§åˆ›æ–°çš„ã€æ—  Sidecar çš„æœåŠ¡ç½‘æ ¼éƒ¨ç½²æ–¹å¼ï¼Œé€šè¿‡ ztunnel å’Œ waypoint proxy åˆ†ç¦»æ•°æ®å¹³é¢åŠŸèƒ½ï¼Œç®€åŒ–äº†æ“ä½œå¹¶é™ä½äº†èµ„æºæ¶ˆè€—ã€‚æœ¬ç¯‡åšå®¢å°†é€šè¿‡ä¸€ä»½è¯¦ç»†çš„æœ¯è¯­è¡¨ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ Istio Ambient æ¨¡å¼ä¸­çš„å…³é”®æ¦‚å¿µåŠå…¶èƒŒåçš„æŠ€æœ¯å®ç°ã€‚\n\n## Ambient æ¨¡å¼\n\n![Ambient æ¨¡å¼æ¶æ„å›¾](ambient-mode-architecture.svg)\n\n  - **å®šä¹‰**ï¼šIstio çš„ä¸€ç§æ—  Sidecar çš„æ•°æ®å¹³é¢æ¨¡å¼ï¼Œé€šè¿‡ ztunnel å’Œ waypoint proxy å®ç°æœåŠ¡ä¹‹é—´çš„å®‰å…¨é€šä¿¡å’Œç®¡ç†ã€‚ç›¸è¾ƒäº Sidecar æ¨¡å¼ï¼ŒAmbient æ¨¡å¼æ›´åŠ è½»é‡ï¼Œé™ä½äº†èµ„æºæ¶ˆè€—å¹¶ç®€åŒ–äº†é…ç½®ã€‚\n  - **æ¶æ„**ï¼šæ•°æ®å¹³é¢åŠŸèƒ½åˆ†ä¸º L4 å±‚çš„å®‰å…¨è¦†ç›–å±‚ï¼ˆç”± ztunnel æä¾›ï¼‰å’Œ L7 å±‚çš„ç­–ç•¥å¤„ç†å±‚ï¼ˆç”± waypoint proxy æä¾›ï¼‰ã€‚\n\n## æ§åˆ¶å¹³é¢ä¸æ•°æ®å¹³é¢\n\n![æ§åˆ¶å¹³é¢ä¸æ•°æ®å¹³é¢](control-plane-and-data-plane.svg)\n\n  - **å®šä¹‰**ï¼šåœ¨ Ambient æ¨¡å¼ä¸­ï¼Œæ§åˆ¶å¹³é¢ï¼ˆ\u0060istiod\u0060ï¼‰è´Ÿè´£ç®¡ç†é›†ç¾¤å†… ztunnel å’Œ waypoint proxy çš„é…ç½®å’Œç­–ç•¥ï¼Œè€Œæ•°æ®å¹³é¢ç”± ztunnel å’Œ waypoint proxy ç»„æˆï¼Œè´Ÿè´£å¤„ç†å®é™…çš„ç½‘ç»œæµé‡ã€‚\n  - **ç»„ä»¶äº¤äº’**ï¼šztunnel ä½¿ç”¨ xDS APIs ä» \u0060istiod\u0060 è·å–é…ç½®å¹¶æ‰§è¡Œç­–ç•¥ï¼Œç®¡ç† Pod ä¹‹é—´çš„ L4 å’Œ L7 æµé‡ã€‚\n\n## Istio Control Plane (\u0060istiod\u0060)\n\n  - **å®šä¹‰**ï¼šIstio çš„æ§åˆ¶å¹³é¢ç»„ä»¶ï¼Œè´Ÿè´£ä¸ ztunnel å’Œ waypoint proxy é€šä¿¡ï¼Œæä¾› xDS æ¥å£ç”¨äºåŠ¨æ€é…ç½®ã€‚\n  - **åŠŸèƒ½**ï¼š\u0060istiod\u0060 ä½¿ç”¨ xDS APIs è¿›è¡Œé…ç½®æ¨é€ï¼ŒåŠ¨æ€ç®¡ç† Ambient æ¨¡å¼ä¸­çš„æµé‡ç­–ç•¥ã€è¯ä¹¦åˆ†å‘ä»¥åŠä¸ Kubernetes é›†ç¾¤çš„äº¤äº’ã€‚\n\n## é€æ˜æ€§ä¸éä¾µå…¥æ€§\n\n  - **å®šä¹‰**ï¼šAmbient æ¨¡å¼çš„æ¶æ„æ—¨åœ¨å‡å°‘å¯¹åº”ç”¨çš„ä¾µå…¥æ€§ï¼Œåº”ç”¨æ— éœ€æ„ŸçŸ¥æ•°æ®å¹³é¢çš„å­˜åœ¨ï¼ŒPod æ— éœ€é‡å¯æˆ–æ³¨å…¥ Sidecar å³å¯åŠ å…¥ç½‘æ ¼ã€‚\n  - **ä¼˜åŠ¿**ï¼šæé«˜äº†æœåŠ¡ç½‘æ ¼çš„çµæ´»æ€§ï¼Œé™ä½äº†æ“ä½œå¤æ‚åº¦ï¼Œä½¿åº”ç”¨å’ŒåŸºç¡€è®¾æ–½çš„ç”Ÿå‘½å‘¨æœŸæ›´åŠ è§£è€¦ã€‚\n\n## Sidecar Proxy\n\n![Sidecar æ¨¡å¼](sidecar-mode.svg)\n\n  - **å®šä¹‰**ï¼šä¼ ç»Ÿ Istio ä¸­çš„ Envoy ä»£ç†ï¼Œä¸åº”ç”¨å®¹å™¨å…±åŒéƒ¨ç½²åœ¨ä¸€ä¸ª Pod ä¸­ã€‚\n  - **é—®é¢˜**ï¼šå¯¹åº”ç”¨å…·æœ‰ä¾µå…¥æ€§ï¼ŒSidecar å¿…é¡»åœ¨ Pod ä¸­æ³¨å…¥å¹¶ä¼´éšåº”ç”¨è¿è¡Œï¼Œå¢åŠ äº†èµ„æºå¼€é”€ï¼Œå¹¶ä¸”ä½¿åº”ç”¨ä¸ä»£ç†çš„ç”Ÿå‘½å‘¨æœŸè€¦åˆã€‚\n\n## Ztunnel (Zero-Trust Tunnel)\n\n![ztunnel](ztunnel.svg)\n\n  - **å®šä¹‰**ï¼šAmbient æ¨¡å¼ä¸­çš„å…³é”®ç»„ä»¶ï¼Œéƒ¨ç½²ä¸º DaemonSetï¼Œä¸ºæ¯ä¸ªèŠ‚ç‚¹æä¾› L4 å±‚çš„é›¶ä¿¡ä»»éš§é“ã€‚\n  - **åŠŸèƒ½**:\n    - **å®‰å…¨**ï¼šæä¾› mTLS åŠ å¯†å’ŒåŸºäº SPIFFE ID çš„èº«ä»½éªŒè¯ï¼Œç¡®ä¿èŠ‚ç‚¹å’Œå·¥ä½œè´Ÿè½½ä¹‹é—´çš„å®‰å…¨é€šä¿¡ã€‚\n    - **å¯è§‚æµ‹æ€§**ï¼šæ”¶é›† L4 å±‚çš„ TCP æŒ‡æ ‡å’Œæ—¥å¿—ã€‚\n    - **è¿æ¥å¤šè·¯å¤ç”¨å’Œå‡è¡¡**ï¼šåœ¨èŠ‚ç‚¹ä¹‹é—´å»ºç«‹å®‰å…¨çš„æµé‡éš§é“ï¼Œä»¥ä¼˜åŒ–è¿æ¥å’Œç½‘ç»œæ€§èƒ½ã€‚\n    - **å¤šç§Ÿæˆ·æ¶æ„**ï¼šå•ä¸ª ztunnel å¯ä»¥ä»£è¡¨åŒä¸€èŠ‚ç‚¹ä¸Šçš„å¤šä¸ªå·¥ä½œè´Ÿè½½è¿›è¡Œ L4 æ•°æ®å¹³é¢åŠŸèƒ½å¤„ç†ï¼Œè¿™ä¸æ¯ä¸ªåº”ç”¨ Pod æ‹¥æœ‰è‡ªå·±ä»£ç†çš„ Sidecar æ¨¡å¼å½¢æˆå¯¹æ¯”ã€‚\n    - **è¯ä¹¦ç®¡ç†**ï¼šztunnel ä»£è¡¨èŠ‚ç‚¹å†…çš„æ‰€æœ‰ Pod ä» Istio æ§åˆ¶å¹³é¢ (\u0060istiod\u0060) è·å– mTLS è¯ä¹¦ï¼Œå¹¶è´Ÿè´£è¯ä¹¦çš„ç®¡ç†å’Œè½®æ¢ã€‚\n  - **æ¥å£**:\n    - **\u0060pistioin\u0060 å’Œ \u0060pistioout\u0060**ï¼šç”¨äºä¸èŠ‚ç‚¹ä¸Šçš„ \u0060istioin\u0060 å’Œ \u0060istioout\u0060 æ¥å£é€šè¿‡ GENEVE éš§é“è¿æ¥ã€‚\n\n## Waypoint Proxy\n\n![Waypoint Proxy](waypoint-proxy.svg)\n\n  - **å®šä¹‰**ï¼šAmbient æ¨¡å¼ä¸­çš„ L7 å±‚ä»£ç†ï¼Œéƒ¨ç½²åœ¨æ¯ä¸ªå‘½åç©ºé—´çº§åˆ«ï¼Œç”¨äºå¤„ç† L7 å±‚è¯·æ±‚ã€‚\n  - **åŠŸèƒ½**ï¼šæä¾› L7 æˆæƒç­–ç•¥ï¼Œå¦‚åŸºäº HTTP headers çš„è®¿é—®æ§åˆ¶ã€L7 çº§åˆ«çš„é¥æµ‹ç­‰ã€‚Waypoint Proxy åªå¤„ç†éœ€è¦çš„ L7 ä»£ç†æµé‡ï¼Œå…¶ä»– L4 æµé‡ç”± ztunnel å¤„ç†ã€‚\n\n## GENEVE éš§é“ (Generic Network Virtualization Encapsulation)\n\n![GENEVE åè®®ç»„æˆ](geneve.svg)\n\n  - **å®šä¹‰**ï¼šç”¨äºåœ¨ Kubernetes èŠ‚ç‚¹ä¹‹é—´å»ºç«‹è™šæ‹Ÿéš§é“è¿æ¥ï¼Œå°†æµé‡ä»èŠ‚ç‚¹ä¸Šçš„ Pod è½¬å‘åˆ° ztunnelã€‚\n  - **åœ¨ Ambient æ¨¡å¼ä¸­çš„åº”ç”¨**ï¼šGENEVE éš§é“ç”¨äºè¿æ¥èŠ‚ç‚¹ä¸Šçš„è™šæ‹Ÿç½‘ç»œæ¥å£ï¼ˆ\u0060istioin\u0060 å’Œ \u0060istioout\u0060ï¼‰ä¸ ztunnel å†…çš„æ¥å£ï¼ˆ\u0060pistioin\u0060 å’Œ \u0060pistioout\u0060ï¼‰ã€‚\n\n## HBONE (HTTP-Based Overlay Network Environment)\n\n![HBONE æ•°æ®åŒ…æ ¼å¼](hbone.svg)\n\n\u003c!--\n\u0060\u0060\u0060\n\u002b-----------------\u002b\n|    IP Header    | \u003c-- æº IPï¼Œç›®æ ‡ IPï¼Œåè®®ç±»å‹\n\u002b-----------------\u002b\n|    TCP Header   | \u003c-- æºç«¯å£ï¼Œç›®æ ‡ç«¯å£ï¼Œåºåˆ—å·ï¼Œç¡®è®¤å·ï¼Œæ ‡å¿—ä½ç­‰\n\u002b-----------------\u002b\n|    TLS Header   | \u003c-- æ¡æ‰‹æ¶ˆæ¯ï¼Œè¯ä¹¦ï¼ŒåŠ å¯†åº”ç”¨æ•°æ®\n\u002b-----------------\u002b\n| HTTP\/2 \u0026 CONNECT| \u003c-- HTTP æ–¹æ³•ï¼Œç›®æ ‡åœ°å€ï¼Œè¯·æ±‚å¤´ï¼Œè·¯å¾„ç­‰\n\u002b-----------------\u002b\n|  Application    | \u003c-- åº”ç”¨å±‚æ•°æ®ï¼Œå­—èŠ‚æµï¼Œä¾‹å¦‚ HTTP è¯·æ±‚\n\u002b-----------------\u002b\n\u0060\u0060\u0060\n--\u003e\n\n  - **å®šä¹‰**ï¼šIstio ç‰¹æœ‰çš„å®‰å…¨éš§é“åè®®ï¼Œç”¨äºåœ¨ Ambient æ¨¡å¼ç»„ä»¶ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚HBONE æ˜¯ä¸€ç§åŸºäº HTTP\/2 å’Œ HTTP CONNECT å»ºç«‹çš„å®‰å…¨ mTLS åŠ å¯†é€šé“ã€‚\n  - **å®ç°æ–¹å¼**ï¼šé€šè¿‡ HTTP\/2 è¿›è¡Œå¤šè·¯å¤ç”¨ï¼Œé€šè¿‡ HTTP CONNECT å»ºç«‹éš§é“ï¼Œå¹¶ä½¿ç”¨ mTLS ç¡®ä¿å®‰å…¨æ€§ã€‚è¯¦è§ [Istio æ–‡æ¡£](https:\/\/istio.io\/latest\/docs\/ambient\/architecture\/hbone\/)ã€‚\n\n## Istioin å’Œ Istioout è™šæ‹Ÿæ¥å£\n\n![Ambient æ¨¡å¼ä¸­ä¸¤ä¸ªä½äºä¸¤ä¸ªä¸åŒèŠ‚ç‚¹ä¸Šçš„ Pod è®¿é—®è·¯å¾„](ambient-ztunnel-routing.svg)\n\n  - **å®šä¹‰**ï¼šç”± Istio CNI æ’ä»¶åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šé…ç½®çš„ä¸¤ä¸ªè™šæ‹Ÿæ¥å£ï¼Œç”¨äºå¤„ç†è¿›å…¥å’Œç¦»å¼€èŠ‚ç‚¹çš„æµé‡ã€‚\n  - **åŠŸèƒ½**ï¼š\u0060istioin\u0060 å¤„ç†è¿›å…¥èŠ‚ç‚¹çš„æµé‡ï¼Œ\u0060istioout\u0060 å¤„ç†ç¦»å¼€èŠ‚ç‚¹çš„æµé‡ã€‚ä¸¤è€…é€šè¿‡ GENEVE éš§é“è¿æ¥åˆ° ztunnel ä¸­ç›¸åº”çš„æ¥å£ã€‚\n\n## iptables å’Œæµé‡é‡å®šå‘\n\n  - **å®šä¹‰**ï¼šç”¨äºé…ç½® Linux å†…æ ¸ä¸­çš„æµé‡è§„åˆ™ï¼Œå°†æ¥è‡ª Ambient å·¥ä½œè´Ÿè½½çš„æµé‡è¿›è¡Œé‡å®šå‘å’Œæ ‡è®°ã€‚\n  - **åœ¨ Ambient æ¨¡å¼ä¸­çš„åº”ç”¨**ï¼šIstio CNI æ’ä»¶é€šè¿‡ iptables è§„åˆ™ï¼Œå°†æµé‡æ ‡è®°å¹¶é‡å®šå‘åˆ° \u0060istioin\u0060 æˆ– \u0060istioout\u0060ï¼Œç„¶åé€šè¿‡ GENEVE éš§é“ä¼ é€’ç»™ ztunnelã€‚\n\n## æµé‡æ‹¦æˆªä¸é‡å®šå‘ (Traffic Redirection)\n\n  - **å®šä¹‰**ï¼šAmbient æ¨¡å¼ä¸­ï¼Œztunnel è´Ÿè´£é€æ˜æ‹¦æˆªæ‰€æœ‰è¿›å‡º \u0022in-mesh\u0022 Pod çš„æµé‡å¹¶å°†å…¶åŠ å¯†åé‡å®šå‘åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šçš„ç›®æ ‡ Podï¼Œç¡®ä¿ç½‘ç»œæµé‡ç¬¦åˆæœåŠ¡ç½‘æ ¼çš„å®‰å…¨ç­–ç•¥ã€‚\n  - **æœºåˆ¶**ï¼šé€šè¿‡ Istio CNI æ’ä»¶å®‰è£…çš„ iptables è§„åˆ™æˆ– eBPF ç¨‹åºï¼Œztunnel èƒ½å¤Ÿé€æ˜åœ°æ•è·å·¥ä½œè´Ÿè½½çš„æµé‡ï¼Œå¹¶åœ¨ä¸æ”¹å˜å®¢æˆ·ç«¯åº”ç”¨çš„æƒ…å†µä¸‹è¿›è¡Œå®‰å…¨ä»£ç†ã€‚\n\n## æµé‡è·¯å¾„åˆ†ç±»\n\n  - **Out of Mesh**ï¼šPod æ²¡æœ‰åŠ å…¥æœåŠ¡ç½‘æ ¼ï¼Œæµé‡ä¸ä¼šè¢« Ambient æ•°æ®å¹³é¢å¤„ç†ã€‚\n  - **In Mesh**ï¼šPod è¢«çº³å…¥ Ambient æ•°æ®å¹³é¢ï¼ŒL4 å±‚çš„æµé‡è¢« ztunnel æ‹¦æˆªå’Œå¤„ç†ï¼Œæä¾› L4 æˆæƒå’Œå®‰å…¨åŠ å¯†ã€‚\n  - **In Mesh, Waypoint Enabled**ï¼šPod è¢«çº³å…¥ Ambient æ•°æ®å¹³é¢ä¸”å¯ç”¨äº† waypoint proxyï¼ŒL7 å±‚çš„æµé‡é€šè¿‡ waypoint è¿›è¡Œé«˜çº§ç­–ç•¥å¤„ç†ã€‚\n\n## TPROXY\n\n![TPROXY ä½œä¸ºé€æ˜ä»£ç†ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯¹å…¶æ— æ„ŸçŸ¥](tproxy.svg)\n\n  - **å®šä¹‰**ï¼šLinux å†…æ ¸åŠŸèƒ½ï¼Œç”¨äºé€æ˜æ‹¦æˆªå’Œé‡å®šå‘ç½‘ç»œæµé‡ã€‚\n  - **åœ¨ Ambient æ¨¡å¼ä¸­çš„åº”ç”¨**ï¼šztunnel ä½¿ç”¨ TPROXY æ¥æ‹¦æˆªå’Œå¤„ç†æµé‡ï¼Œä¿ç•™åŸå§‹æº IP å’Œç«¯å£ä¿¡æ¯ï¼Œä»è€Œå®ç°é€æ˜ä»£ç†åŠŸèƒ½ã€‚\n\n## Mutual TLS (mTLS)\n\n![Istio ä¸­çš„å®‰å…¨èº«ä»½æ¶æ„ï¼ˆä»¥ Sidecar æ¨¡å¼ä¸ºä¾‹ï¼‰](istio-mtls-process.svg)\n\n  - **å®šä¹‰**ï¼šä¸€ç§åŒå‘ TLS è®¤è¯æœºåˆ¶ï¼Œç¡®ä¿é€šä¿¡åŒæ–¹çš„èº«ä»½éªŒè¯å’Œæ•°æ®åŠ å¯†ã€‚\n  - **åœ¨ Ambient æ¨¡å¼ä¸­çš„åº”ç”¨**ï¼šé€šè¿‡ ztunnel å’Œ waypoint proxy ç¡®ä¿å·¥ä½œè´Ÿè½½ä¹‹é—´çš„ mTLS åŠ å¯†ï¼Œå®ç°é›¶ä¿¡ä»»å®‰å…¨ã€‚\n\nè¯¦è§ [å¦‚ä½•ç†è§£ Istio ä¸­çš„ MTLS æµé‡åŠ å¯†ï¼Ÿ](\/blog\/understanding-the-tls-encryption-in-istio\/)\n\n## SPIFFE ID\n\n![SPIFFE ID æ ¼å¼](spiffe.svg)\n\nIstio æœåŠ¡ç½‘æ ¼ä¸­æ‰€æœ‰å·¥ä½œè´Ÿè½½å°†æ ¹æ®å…¶æœåŠ¡è´¦æˆ·æ³¨å†Œ SPIFFE æ ‡å‡†çš„æœåŠ¡èº«ä»½æ ¼å¼ï¼š\u0060spiffe:\/\/\u003ctrust-domain\u003e\/ns\/\u003cnamespace\u003e\/sa\/\u003cservice-account\u003e\u0060ã€‚\n\n  - **å®šä¹‰**ï¼šç”¨äºæ ‡è¯†å·¥ä½œè´Ÿè½½çš„èº«ä»½æ ‡è¯†ç¬¦ï¼Œåœ¨æœåŠ¡ç½‘æ ¼ä¸­ç”¨äºèº«ä»½ç®¡ç†ã€‚\n  - **åœ¨ Ambient æ¨¡å¼ä¸­çš„åº”ç”¨**ï¼šSPIFFE ID è¢«ç”¨äºå¯¹èŠ‚ç‚¹å’Œå·¥ä½œè´Ÿè½½è¿›è¡Œèº«ä»½éªŒè¯ï¼Œä»¥ç¡®ä¿ç½‘ç»œé€šä¿¡çš„å®‰å…¨æ€§ã€‚\n\nè¯¦è§ [ä¸ºä»€ä¹ˆ Istio è¦ä½¿ç”¨ SPIRE åšèº«ä»½è®¤è¯ï¼Ÿ](\/blog\/why-istio-need-spire\/)\n\n## eBPF (Extended Berkeley Packet Filter)\n\n  - **å®šä¹‰**ï¼šeBPF æ˜¯ Linux å†…æ ¸ä¸­çš„ä¸€ç§æŠ€æœ¯ï¼Œç”¨äºåœ¨å†…æ ¸ç©ºé—´ä¸­è¿è¡Œæ²™ç›’ç¨‹åºï¼Œå®ç°ç½‘ç»œæ•°æ®åŒ…å¤„ç†ç­‰åŠŸèƒ½ã€‚\n  - **åœ¨ Ambient æ¨¡å¼ä¸­çš„åº”ç”¨**ï¼šeBPF å¯ä»¥æ›¿ä»£ä¼ ç»Ÿçš„ iptables å’Œ GENEVE éš§é“ï¼Œç”¨äºæµé‡é‡å®šå‘å’Œç®¡ç†ã€‚eBPF æ›´é«˜æ•ˆã€å¤æ‚åº¦æ›´ä½ä¸”æ˜“äºç®¡ç†ã€‚\n  - **eBPF ç¨‹åº**:\n    - åº”ç”¨å…¥ç«™\n    - åº”ç”¨å‡ºç«™\n    - Ztunnel ä¸»æœºå…¥ç«™\n    - Ztunnel å…¥ç«™\n  - **ä½œç”¨**ï¼šIstio CNI ä½¿ç”¨ eBPF ç¨‹åºå°†å®ƒä»¬æŒ‚è½½åœ¨ç‰¹å®šçš„ TC ç‚¹ï¼Œç”¨äºå¤„ç†åº”ç”¨å’Œ ztunnel çš„ç½‘ç»œæµé‡ã€‚\n\n## Waypoint Proxy çš„å¼¹æ€§æ‰©å±•\n\n![Waypoing Proxy ä½œä¸º Deployment éƒ¨ç½²åœ¨ Kubernetes ä¸­](ambient-waypoint-proxy-scale.svg)\n\n  - **å®šä¹‰**ï¼šåœ¨ Ambient æ¨¡å¼ä¸­ï¼Œwaypoint proxy å¯ä»¥æ ¹æ®æµé‡éœ€æ±‚åŠ¨æ€æ‰©å±•ï¼Œè€Œæ— éœ€ä¸ºæ¯ä¸ªå·¥ä½œè´Ÿè½½å®ä¾‹éƒ¨ç½²ç‹¬ç«‹ä»£ç†ã€‚\n  - **ä¼˜åŠ¿**ï¼šé€šè¿‡åŠ¨æ€æ‰©å±• waypoint proxyï¼Œå¯ä»¥é™ä½åŸºç¡€è®¾æ–½æˆæœ¬å¹¶æé«˜èµ„æºåˆ©ç”¨ç‡ã€‚\n\n## Ztunnel çš„å¼¹æ€§å’Œæ•…éšœæ¢å¤\n\n  - **å®šä¹‰**ï¼šztunnel éƒ¨ç½²ä¸º DaemonSetï¼Œå¦‚æœ ztunnel å®¹å™¨å¤±æ•ˆï¼ŒKubernetes ä¼šè‡ªåŠ¨é‡æ–°è°ƒåº¦ï¼Œä»¥ç¡®ä¿èŠ‚ç‚¹æµé‡çš„ç»§ç»­å¤„ç†ã€‚\n  - **ç‰¹ç‚¹**ï¼šä½¿å¾—æ•…éšœçš„å½±å“èŒƒå›´æœ€å°åŒ–ï¼Œä»…å½±å“è¯¥èŠ‚ç‚¹ä¸Šçš„å·¥ä½œè´Ÿè½½ã€‚\n\n## IP Set å’Œ ztunnel-pods-ips\n\n  - **å®šä¹‰**ï¼šIP Set æ˜¯ç”¨äºå­˜å‚¨ IP åœ°å€çš„å·¥å…·ï¼Œ\u0060ztunnel-pods-ips\u0060 æ˜¯æ¯ä¸ªèŠ‚ç‚¹ä¸Šç”¨äºå­˜å‚¨ Ambient ç½‘æ ¼ Pod IP çš„é›†åˆã€‚\n  - **åœ¨ Ambient æ¨¡å¼ä¸­çš„åº”ç”¨**ï¼šIstio CNI æ’ä»¶ä¼šå°†æ¯ä¸ªåŠ å…¥ Ambient ç½‘æ ¼çš„ Pod IP æ·»åŠ åˆ° \u0060ztunnel-pods-ips\u0060 ä¸­ï¼Œä»¥ç¡®ä¿è¿™äº› Pod çš„æµé‡å¯ä»¥è¢« iptables è§„åˆ™è¯†åˆ«å’Œå¤„ç†ã€‚\n\n## è¿æ¥å¤šè·¯å¤ç”¨ (Connection Multiplexing)\n\n  - **å®šä¹‰**ï¼šåœ¨å•ä¸ªç‰©ç†è¿æ¥ä¸­ä¼ è¾“å¤šæ¡é€»è¾‘è¿æ¥çš„æŠ€æœ¯ã€‚\n  - **åœ¨ Ambient æ¨¡å¼ä¸­çš„åº”ç”¨**ï¼šztunnel å®ç°äº†è¿æ¥å¤šè·¯å¤ç”¨ï¼Œä½¿å¤šä¸ªå·¥ä½œè´Ÿè½½å¯ä»¥å…±äº«ç›¸åŒçš„è¿æ¥ï¼Œæå‡ç½‘ç»œæ•ˆç‡ã€‚\n\n## èŠ‚ç‚¹ç½‘ç»œçš„è™šæ‹Ÿæ¥å£å¯¹ (veth)\n\n  - å®šä¹‰ï¼šæ¯ä¸ª Pod åœ¨è¿è¡Œæ—¶ä¼šåœ¨èŠ‚ç‚¹ä¸Šåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæ¥å£å¯¹ï¼Œç”¨äºå°† Pod çš„ç½‘ç»œè¿æ¥åˆ°èŠ‚ç‚¹çš„ç½‘ç»œã€‚\n  - åœ¨ Ambient æ¨¡å¼ä¸­çš„åº”ç”¨ï¼šveth æ¥å£ç”¨äºå°† Pod çš„æµé‡è¿æ¥åˆ°èŠ‚ç‚¹çš„è™šæ‹Ÿæ¥å£ï¼ˆå¦‚ \u0060istioin\u0060 å’Œ \u0060istioout\u0060ï¼‰ï¼Œä»è€Œå°†æµé‡å¼•å¯¼è‡³ ztunnel è¿›è¡Œå¤„ç†ã€‚\n\n## Waypoint Proxy çš„æµé‡è·¯å¾„\n\n![Waypoint Proxy çš„æµé‡è·¯å¾„](waypoint-proxy-routing.svg)\n\n  - **å®šä¹‰**ï¼šWaypoint Proxy åªå‚ä¸æœåŠ¡å™¨ç«¯çš„æµé‡è·¯å¾„ï¼Œä½œä¸º L7 ä»£ç†æ‰§è¡ŒæœåŠ¡ç«¯çš„è¯·æ±‚ã€‚\n  - **åº”ç”¨åœºæ™¯**ï¼šå½“éƒ¨ç½²äº† Waypoint Proxy æ—¶ï¼Œæ¥è‡ªåŒä¸€æœåŠ¡è´¦æˆ·çš„å·¥ä½œè´Ÿè½½å°†é€šè¿‡ ztunnel é‡å®šå‘è‡³ Waypoint Proxy è¿›è¡Œå¤„ç†ï¼Œç„¶ååˆ°è¾¾ç›®æ ‡ Podï¼Œç¡®ä¿ L7 çº§åˆ«çš„ç­–ç•¥å’Œè®¤è¯å¾—ä»¥æ‰§è¡Œã€‚\n\n## Istio CNI (Container Network Interface)\n\n- **å®šä¹‰**ï¼šIstio çš„å®¹å™¨ç½‘ç»œæ¥å£æ’ä»¶ï¼Œç”¨äºåœ¨ Kubernetes é›†ç¾¤ä¸­è‡ªåŠ¨é…ç½®æµé‡æ‹¦æˆªè§„åˆ™ã€‚\n- **åŠŸèƒ½**ï¼šIstio CNI è´Ÿè´£ä¸ºæ¯ä¸ªæ–°åˆ›å»ºæˆ–åŠ å…¥ç½‘æ ¼çš„ Pod è®¾ç½®å¿…è¦çš„ç½‘ç»œé‡å®šå‘è§„åˆ™ã€‚å®ƒé€šè¿‡ä¿®æ”¹ iptables è§„åˆ™æˆ–åº”ç”¨ eBPF ç¨‹åºæ¥ç¡®ä¿æ‰€æœ‰æµé‡èƒ½å¤Ÿè¢« ztunnel æˆ– waypoint proxy æ‹¦æˆªå’Œå¤„ç†ï¼Œä»è€Œå®ç°æœåŠ¡ç½‘æ ¼çš„é€æ˜æµé‡ç®¡ç†ã€‚\n- **Istio CNI Node Agent**ï¼šIstio CNI Node Agent è´Ÿè´£åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šå®‰è£… Istio CNI æ’ä»¶ï¼Œå¹¶æ›´æ–°èŠ‚ç‚¹çš„ CNI é…ç½®ï¼Œç¡®ä¿å½“ Pod åŠ å…¥æœåŠ¡ç½‘æ ¼æ—¶èƒ½å¤Ÿæ­£ç¡®åœ°é…ç½®æµé‡é‡å®šå‘è§„åˆ™ã€‚åœ¨ Sidecar æ¨¡å¼ä¸­ï¼ŒCNI æ’ä»¶é€šè¿‡ iptables é…ç½® Pod çš„ç½‘ç»œã€‚åœ¨ Ambient æ¨¡å¼ä¸­ï¼ŒCNI æ’ä»¶è´Ÿè´£å°†æ–°çš„ Pod äº‹ä»¶æ¨é€åˆ° Ambient ç›‘æ§æœåŠ¡å™¨ï¼Œä»¥ä¾¿é…ç½® Pod çš„ç½‘ç»œé‡å®šå‘è§„åˆ™ã€‚\n\n## æ€»ç»“\n\nIstio Ambient æ¨¡å¼é€šè¿‡å°†æ•°æ®å¹³é¢åŠŸèƒ½åˆ†ä¸º L4 å’Œ L7 å±‚çš„ç‹¬ç«‹ç»„ä»¶ï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´è½»é‡ä¸”çµæ´»çš„æœåŠ¡ç½‘æ ¼è§£å†³æ–¹æ¡ˆã€‚è¿™ç§æ–¹å¼ä¸ä»…ç®€åŒ–äº†æœåŠ¡çš„éƒ¨ç½²ï¼Œè¿˜å¤§å¹…é™ä½äº†èµ„æºå¼€é”€ã€‚é€šè¿‡æœ¯è¯­è¡¨çš„æ–¹å¼ï¼Œæˆ‘ä»¬æ¢è®¨äº† Ambient æ¨¡å¼ä¸­çš„å„ç§æ ¸å¿ƒæ¦‚å¿µï¼Œä» ztunnel åˆ° waypoint proxyï¼Œå†åˆ° iptables å’Œ eBPF çš„ä½¿ç”¨ï¼Œå¸®åŠ©ä½ å…¨é¢äº†è§£ Istio Ambient æ¨¡å¼çš„æ¶æ„å’Œè¿è¡Œæœºåˆ¶ã€‚å¦‚æœä½ å¯¹æœåŠ¡ç½‘æ ¼æ„Ÿå…´è¶£æˆ–æ­£åœ¨è€ƒè™‘å¦‚ä½•ä¼˜åŒ–å¾®æœåŠ¡é€šä¿¡ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚\n', '\/blog\/istio-ambient-terminology\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">æœ¬æ–‡é€šè¿‡ä¸€ä»½è¯¦ç»†çš„ Istio Ambient æ¨¡å¼çš„æœ¯è¯­è¡¨ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å…¶ä¸­çš„å…³é”®æ¦‚å¿µåŠå…¶èƒŒåçš„æŠ€æœ¯å®ç°ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/free-ai-drawing-tool-raphael/">å…è´¹çš„ AI ç»˜å›¾å·¥å…·æ¨èï¼šRaphael.app</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2025/01/21</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%b7%a5%e5%85%b7"> 
             å·¥å…·
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('å…è´¹çš„ AI ç»˜å›¾å·¥å…·æ¨èï¼šRaphael.app', 'Raphael æ˜¯ä¸€æ¬¾å®Œå…¨å…è´¹çš„ AI ç»˜å›¾å·¥å…·ï¼Œåªéœ€è¾“å…¥è‹±æ–‡æç¤ºè¯å³å¯ç”Ÿæˆæ•ˆæœä¸é”™çš„å›¾ç‰‡ï¼Œé€‚åˆåˆ›ä½œè€…å’Œæ–°æ‰‹å°è¯•ã€‚', '\nåœ¨å¦‚ä»Šå„ç§ AI å·¥å…·å±‚å‡ºä¸ç©·çš„æ—¶ä»£ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¥½ç”¨åˆå…è´¹çš„ç»˜å›¾å·¥å…·çœŸçš„ä¸å®¹æ˜“ã€‚è€Œ [Raphael.app](https:\/\/raphael.app\/) å°±æ˜¯ä¸€æ¬¾éå¸¸å€¼å¾—ä¸€è¯•çš„ AI ç»˜å›¾å·¥å…·ã€‚å®ƒç®€å•æ˜“ç”¨ï¼Œè€Œä¸”ç”¨è‹±æ–‡æç¤ºè¯å°±èƒ½ç”Ÿæˆæ•ˆæœä¸é”™çš„å›¾ç‰‡ã€‚\n\n![Raphael.app é¡µé¢](https:\/\/jimmysong.io\/img\/blog\/free-ai-drawing-tool-raphael\/raphael.webp)\n\n## Raphael ç®€ä»‹\n\nè¿™æ¬¾ä»¥æ–‡è‰ºå¤å…´ä¸‰æ°ä¹‹ä¸€æ‹‰æ–å°”ï¼ˆRaphaelï¼Œå…¨åï¼šRaffaello Sanzio da Urbinoï¼Œ1483 å¹´ 4 æœˆ 6 æ—¥ï¼1520 å¹´ 4 æœˆ 6 æ—¥ï¼‰å‘½åçš„å·¥å…·ï¼Œæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\n\n1. **å®Œå…¨å…è´¹**ï¼šå¸‚é¢ä¸Šå¾ˆå¤š AI ç»˜å›¾å·¥å…·è¦ä¹ˆåŠŸèƒ½å—é™ï¼Œè¦ä¹ˆéœ€è¦è®¢é˜…æ‰èƒ½è§£é”æ›´å¤šåŠŸèƒ½ï¼Œè€Œ Raphael å®Œå…¨å…è´¹ï¼ˆè‡³å°‘åˆ°æ’°å†™æœ¬æ–‡ä¸ºæ­¢ï¼Œç½‘ç«™ä¸­æ‰¿è¯ºå…è´¹ï¼‰ï¼Œæ— éœ€ä»˜è´¹ä¹Ÿèƒ½ç”¨å®ƒåˆ›é€ å‡ºä¸é”™çš„ä½œå“ã€‚\n2. **æ”¯æŒè‹±æ–‡æç¤º**ï¼šåªéœ€è¦ç”¨è‹±æ–‡ç®€å•æè¿°ä½ æƒ³è¦çš„å›¾ç‰‡ï¼Œæ¯”å¦‚â€œA cat-like colorful catâ€ï¼ŒRaphael å°±å¯ä»¥æ ¹æ®æç¤ºç”Ÿæˆå¯¹åº”çš„ç”»é¢ã€‚\n3. **æ•ˆæœè¿˜ä¸é”™**ï¼šè™½ç„¶å’Œä¸€äº›é«˜ç«¯ä»˜è´¹å·¥å…·ç›¸æ¯”è¿˜æœ‰æå‡ç©ºé—´ï¼Œä½† Raphael ç”Ÿæˆçš„å›¾ç‰‡å·²ç»è¶³å¤Ÿè®©äººæ»¡æ„äº†ï¼Œå°¤å…¶å¯¹äºæ–°æ‰‹æˆ–å°è¯• AI ç»˜å›¾çš„äººæ¥è¯´ï¼Œå®ƒå®Œå…¨å¤Ÿç”¨ã€‚\n\n## è°é€‚åˆç”¨ Raphaelï¼Ÿ\n\n- **è‰ºæœ¯çˆ±å¥½è€…**ï¼šå¯ä»¥ç”¨å®ƒæ¥å¯»æ‰¾åˆ›ä½œçµæ„Ÿã€‚\n- **å†…å®¹åˆ›ä½œè€…**ï¼šä¸ºåšå®¢ã€è§†é¢‘æˆ–ç¤¾äº¤åª’ä½“å¢åŠ ç‹¬ç‰¹çš„è§†è§‰å…ƒç´ ã€‚\n- **å­¦ç”Ÿå’Œè€å¸ˆ**ï¼šä¸ºä½œä¸šæˆ–è¯¾ä»¶å¢æ·»ä¸€äº›åˆ›æ„ã€‚\n- **AI ç»˜å›¾åˆå­¦è€…**ï¼šé›¶æˆæœ¬å°è¯• AI è‰ºæœ¯åˆ›ä½œã€‚\n\n## å¦‚ä½•ä½¿ç”¨ï¼Ÿ\n\næ“ä½œéå¸¸ç®€å•ï¼š\n\n1. æ‰“å¼€ [raphael.app](https:\/\/raphael.app\/)ï¼Œæ— éœ€æ³¨å†Œæˆ–ç™»å½•ã€‚\n2. è¾“å…¥ä½ æƒ³è¦çš„å›¾ç‰‡æè¿°ï¼Œç”¨è‹±æ–‡æç¤ºè¯æ•ˆæœä¼šæ›´å¥½ã€‚\n3. ç‚¹å‡»â€œç”Ÿæˆâ€ï¼Œç­‰å¾… 10 ç§’é’Ÿå·¦å³ AI ç”Ÿæˆå›¾ç‰‡ï¼Œè¿™ä¸€æ­¥å¯èƒ½éœ€è¦ç»è¿‡ CloudFlare çš„è‡ªåŠ¨äººæœºéªŒè¯ã€‚\n4. ä½ è¿˜å¯ä»¥é€‰æ‹©å¯¹ç”Ÿæˆçš„å›¾ç‰‡è¿›è¡Œç²¾ä¿®ã€‚\n5. ä¸‹è½½æˆ–è€…ç›´æ¥åˆ†äº«ç”Ÿæˆçš„ä½œå“ã€‚\n\n![ä½¿ç”¨ Raphael ç”Ÿæˆçš„å›¾ç‰‡ï¼ˆä¸€åªé•¿çš„åƒçŒ«çš„äº”å½©ç¼¤çº·çš„é¸Ÿï¼‰](https:\/\/jimmysong.io\/img\/blog\/free-ai-drawing-tool-raphael\/cat-bird.webp)\n\n## æ€»ç»“\n\nRaphael æ˜¯ä¸€ä¸ªç”¨èµ·æ¥ç‰¹åˆ«æ–¹ä¾¿çš„ AI ç»˜å›¾å·¥å…·ï¼Œæ—¢å…è´¹åˆèƒ½ç”Ÿæˆæ•ˆæœä¸é”™çš„å›¾ç‰‡ã€‚ä¸ç®¡ä½ æ˜¯æƒ³æ‰¾çµæ„Ÿè¿˜æ˜¯å•çº¯ç©ç© AIï¼Œéƒ½éå¸¸å€¼å¾—ä¸€è¯•ã€‚\n', '\/blog\/free-ai-drawing-tool-raphael\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">Raphael æ˜¯ä¸€æ¬¾å®Œå…¨å…è´¹çš„ AI ç»˜å›¾å·¥å…·ï¼Œåªéœ€è¾“å…¥è‹±æ–‡æç¤ºè¯å³å¯ç”Ÿæˆæ•ˆæœä¸é”™çš„å›¾ç‰‡ï¼Œé€‚åˆåˆ›ä½œè€…å’Œæ–°æ‰‹å°è¯•ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/cloud-native-observability-devops/">æ¢ç´¢äº‘åŸç”Ÿå¯è§‚æµ‹æ€§ï¼šæŠ€æœ¯ä¸å›¢é˜Ÿåä½œçš„æ·±åº¦ç»“åˆ</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2025/01/20</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%8f%af%e8%a7%82%e6%b5%8b%e6%80%a7"> 
             å¯è§‚æµ‹æ€§
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('æ¢ç´¢äº‘åŸç”Ÿå¯è§‚æµ‹æ€§ï¼šæŠ€æœ¯ä¸å›¢é˜Ÿåä½œçš„æ·±åº¦ç»“åˆ', 'TheNewStack å‡ºå“çš„ç”µå­ä¹¦ã€ŠCloud Native Observability for DevOps Teamsã€‹è¯»åæ„Ÿã€‚', '\næœ€è¿‘è¯»äº† TheNewStack å‘å¸ƒçš„ç”µå­ä¹¦ã€Š[Cloud Native Observability for DevOps Teams](https:\/\/thenewstack.io\/ebooks\/observability\/cloud-native-observability-for-devops-teams\/)ã€‹ï¼Œè™½ç„¶è¿™æœ¬ä¹¦æ˜¯ 2022 å¹´å‡ºå“çš„ï¼Œä½†ç»™æˆ‘äº†å¾ˆå¤§çš„å¯å‘ã€‚å®ƒä¸ä»…è®¨è®ºäº†æŠ€æœ¯å·¥å…·ï¼Œè¿˜æ·±å…¥æ¢è®¨äº†å›¢é˜Ÿåä½œã€æ–‡åŒ–å»ºè®¾å’Œæœªæ¥è¶‹åŠ¿çš„ç»“åˆç‚¹ã€‚åœ¨è¿™æœ¬ä¹¦é‡Œï¼Œâ€œè§‚å¯Ÿâ€ä¸ä»…ä»…æ˜¯çœ‹åˆ°æ•°æ®ï¼Œè€Œæ˜¯çœ‹æ¸…èƒŒåçš„æ„ä¹‰ã€‚å¯ä»¥è¯´ï¼Œå®ƒä»æ ¹æœ¬ä¸Šæ”¹å˜äº†æˆ‘å¯¹å¯è§‚æµ‹æ€§çš„ç†è§£ã€‚\n\n## æ ¸å¿ƒå†…å®¹\n\næœ¬ä¹¦ä»åŸºç¡€å®šä¹‰åˆ°å®é™…æ“ä½œï¼Œç³»ç»Ÿåœ°é˜è¿°äº†äº‘åŸç”Ÿå¯è§‚æµ‹æ€§çš„é‡è¦æ€§åŠå…¶å®ç°æ–¹å¼ã€‚é€šè¿‡å…·ä½“çš„å·¥å…·å’Œç­–ç•¥ï¼Œå®ƒå¸®åŠ©è¯»è€…ç†è§£å¦‚ä½•æ•´åˆæŒ‡æ ‡ã€æ—¥å¿—ã€è¿½è¸ªå’Œæ··æ²Œå·¥ç¨‹ç­‰ç»´åº¦ï¼Œå…¨é¢æŒæ§åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¥åº·çŠ¶å†µï¼Œä¸º DevOps å›¢é˜Ÿæä¾›é«˜æ•ˆçš„å†³ç­–æ”¯æŒã€‚\n\n### å¯è§‚æµ‹æ€§çš„å®šä¹‰ä¸ä»·å€¼\n\nä¹¦ä¸­å¼€ç¯‡å°±ç‚¹æ˜ï¼šå¯è§‚æµ‹æ€§æ˜¯é€šè¿‡ç³»ç»Ÿçš„å¤–éƒ¨ä¿¡å·æ¨æ–­å†…éƒ¨çŠ¶æ€çš„èƒ½åŠ›ã€‚ä¸ä»…æ˜¯ä¼ ç»Ÿçš„æŒ‡æ ‡ï¼ˆMetricsï¼‰ã€æ—¥å¿—ï¼ˆLogsï¼‰ã€è¿½è¸ªï¼ˆTracingï¼‰ä¸‰æ ¹æ”¯æŸ±çš„ç»„åˆï¼Œè€Œæ˜¯ä¸€ç§ç»¼åˆæ€§ã€å…¨å±€åŒ–çš„åˆ†ææ–¹æ³•ã€‚æ­£å¦‚ä½œè€…æ‰€è¯´ï¼š\n\n\u003e \u0022Observability isnâ€™t just the ability to see each piece at a time; itâ€™s also the ability to understand the broader picture and how these pieces combine.\u0022\n\n### äº‘åŸç”Ÿç¯å¢ƒçš„æŒ‘æˆ˜\n\nä¹¦ä¸­ç‰¹åˆ«å¼ºè°ƒäº† Kubernetes ç¯å¢ƒä¸­æ—¥å¿—å’Œç›‘æ§çš„å¤æ‚æ€§ã€‚Kubernetes æ²¡æœ‰å†…ç½®çš„å®Œæ•´å¯è§‚æµ‹æ€§è§£å†³æ–¹æ¡ˆï¼Œåªæä¾›äº†åŸºç¡€åŠŸèƒ½ï¼Œæ¯”å¦‚ \u0060kubectl\u0060 æŸ¥çœ‹å¯¹è±¡çŠ¶æ€ï¼Œè€Œæ›´é«˜çº§çš„åŠŸèƒ½éœ€è¦ä¾èµ–ç¬¬ä¸‰æ–¹å·¥å…·å¦‚ Fluentd å’Œ Prometheusã€‚\n\n### å®è·µæŒ‡å—\n\nä¹¦ä¸­åœ¨å®è·µéƒ¨åˆ†æåˆ°äº†å¤šç§å®ç°å¯è§‚æµ‹æ€§çš„å…·ä½“ç­–ç•¥å’Œå·¥å…·ï¼š\n\n- **åº”ç”¨æ—¥å¿—**ï¼šé€šè¿‡ Fluentd æˆ–ç±»ä¼¼å·¥å…·é‡‡é›†å®¹å™¨å†…çš„æ ‡å‡†è¾“å‡ºæ—¥å¿—ï¼Œå¸®åŠ©å¼€å‘è€…å®šä½åº”ç”¨é—®é¢˜ã€‚\n- **é›†ç¾¤æ—¥å¿—**ï¼šæ”¶é›† Kubernetes æ ¸å¿ƒç»„ä»¶å¦‚ kube-apiserver å’Œ etcd çš„æ—¥å¿—ï¼Œé€‚åˆæ’æŸ¥ç³»ç»Ÿçº§åˆ«çš„æ•…éšœã€‚\n- **äº‹ä»¶æ—¥å¿—**ï¼šåˆ©ç”¨ \u0060kubectl get events\u0060 å¿«é€Ÿäº†è§£é›†ç¾¤ä¸­èµ„æºçš„çŠ¶æ€å˜åŒ–ã€‚\n- **å®¡è®¡æ—¥å¿—**ï¼šè®°å½• API è¯·æ±‚ï¼Œä¾¿äºå®‰å…¨å®¡æŸ¥å’Œæƒé™é—®é¢˜çš„å®šä½ã€‚\n- **æ··æ²Œå·¥ç¨‹**ï¼šåˆ©ç”¨å·¥å…·å¦‚ Chaos Mesh å’Œ Litmus Chaosï¼ŒéªŒè¯ç³»ç»Ÿåœ¨é«˜å‹æˆ–å¼‚å¸¸æƒ…å†µä¸‹çš„è¡¨ç°ã€‚\n\nè¿™äº›å®è·µæŒ‡å—å¼ºè°ƒäº†å·¥å…·ä¸ç­–ç•¥çš„ç»“åˆï¼Œä»è€Œå®ç°å…¨é¢çš„å¯è§‚æµ‹æ€§ã€‚\n\n## æˆ‘çš„æ€è€ƒä¸è§‚ç‚¹\n\n### è¶…è¶Šæ•°æ®æœ¬èº«çš„â€œè§‚å¯ŸåŠ›â€\n\nä¹¦ä¸­å¼ºè°ƒï¼Œå•çº¯æ”¶é›†æ•°æ®å¹¶ä¸èƒ½è§£å†³é—®é¢˜ï¼Œå…³é”®åœ¨äºè·¨ç»´åº¦æ•°æ®çš„æ•´åˆä¸åˆ†æã€‚ä¾‹å¦‚ï¼Œåœ¨æ€§èƒ½é—®é¢˜æ’æŸ¥æ—¶ï¼ŒæŒ‡æ ‡å’Œè¿½è¸ªå¾€å¾€æ— æ³•ç›´æ¥å…³è”ï¼Œè€Œè¿™æ­£æ˜¯ç°æœ‰å·¥å…·çš„çŸ­æ¿ã€‚æœªæ¥ï¼Œç»Ÿä¸€æ•°æ®å­˜å‚¨å’Œåˆ†æè§†è§’çš„å·¥å…·ï¼Œæ¯”å¦‚ OpenTelemetry æå€¡çš„æ ‡å‡†åŒ–æ–¹æ³•ï¼Œå¯èƒ½æ˜¯çªç ´å£ã€‚\n\n### AI ä¸å¯è§‚æµ‹æ€§çš„ç»“åˆ\n\néšç€ AI æŠ€æœ¯çš„å‘å±•ï¼Œå¯è§‚æµ‹æ€§å·¥å…·ä¹Ÿå¯ä»¥æ›´æ™ºèƒ½åŒ–ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡æœºå™¨å­¦ä¹ é¢„æµ‹å¼‚å¸¸ï¼Œæˆ–æ˜¯è‡ªåŠ¨æ¨èä¼˜åŒ–ç­–ç•¥ã€‚è¿™ä¸ä»…èƒ½å‡å°‘äººä¸ºå¹²é¢„ï¼Œè¿˜èƒ½æå‡æ•…éšœå“åº”é€Ÿåº¦ã€‚æ­£å¦‚ä½œè€…åœ¨æ··æ²Œå·¥ç¨‹éƒ¨åˆ†æåˆ°çš„ï¼š\n\n\u003e \u0022Instead of waiting for something to happen and finding out how your application fares, you put it through duress under controlled conditions to identify weaknesses and fix them.\u0022\n\n### ä»å›¢é˜Ÿåä½œåˆ°æ–‡åŒ–è½¬å‹\n\nä¹¦ä¸­æåˆ°â€œDevOps çš„ç»ˆæç›®æ ‡æ˜¯è·¨å›¢é˜Ÿçš„åä½œä¸åŒç†å¿ƒâ€ï¼Œè¿™ç‚¹æ·±æœ‰å…±é¸£ã€‚å°¤å…¶æ˜¯åœ¨å¤æ‚åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¼€å‘å’Œè¿ç»´å›¢é˜Ÿå¾€å¾€å„è‡ªä¸ºæˆ˜ï¼Œå¯¼è‡´æ²Ÿé€šæ–­å±‚ã€‚è·¨å›¢é˜Ÿåä½œçš„å…³é”®åœ¨äºå·¥å…·æä¾›çš„é€æ˜æ€§ä¸å…±äº«è§†è§’ï¼Œè€Œä¸ä»…ä»…æ˜¯æŠ€æœ¯èƒ½åŠ›ã€‚\n\n## æ€»ç»“\n\nè¿™æœ¬ä¹¦çš„ç‹¬åˆ°ä¹‹å¤„åœ¨äºå®ƒä»æŠ€æœ¯å’Œäººæ–‡ä¸¤ä¸ªè§’åº¦åŒæ—¶åˆ‡å…¥ï¼Œå®ƒè®©æˆ‘æ„è¯†åˆ°ï¼Œå¯è§‚æµ‹æ€§ä¸ä»…æ˜¯ä¸€ç»„å·¥å…·çš„é›†åˆï¼Œè€Œæ˜¯ä¸€ç§æ–‡åŒ–ã€ä¸€ç§èƒ½åŠ›ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´æ·±åˆ»åœ°ç†è§£ç³»ç»Ÿï¼Œæ¨åŠ¨å›¢é˜Ÿåä½œï¼Œå¹¶åœ¨å¤æ‚çš„äº‘åŸç”Ÿç¯å¢ƒä¸­å»ºç«‹èµ·çœŸæ­£çš„â€œé€æ˜åŒ–â€ã€‚\n\næœ€åï¼Œæˆ‘æƒ³å¼•ç”¨ä¹¦ä¸­ä¸€æ®µéå¸¸æ‰“åŠ¨æˆ‘çš„è¯æ¥ç»“å°¾ï¼š\n\n\u003e \u0022Observability lets you see the beautiful and complete picture that is your production software systems.\u0022\n', '\/blog\/cloud-native-observability-devops\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">TheNewStack å‡ºå“çš„ç”µå­ä¹¦ã€ŠCloud Native Observability for DevOps Teamsã€‹è¯»åæ„Ÿã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/http2-envoy-tunnel-demo/">ä½¿ç”¨ Envoy å®ç° HTTP/2 CONNECT éš§é“ï¼šåŸç†ä¸å®è·µ</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2025/01/14</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/istio"> 
             Istio
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('ä½¿ç”¨ Envoy å®ç° HTTP\/2 CONNECT éš§é“ï¼šåŸç†ä¸å®è·µ', 'æ·±å…¥è®²è§£å¦‚ä½•åˆ©ç”¨ HTTP\/2 CONNECT æ–¹æ³•åˆ›å»ºéš§é“ï¼Œæ¶µç›–æŠ€æœ¯åŸç†ã€å®è·µæµç¨‹ä¸ç¤ºä¾‹ä»£ç ã€‚', '\nåœ¨æœ€è¿‘å¯¹ Istio Ambient æ¨¡å¼çš„ç ”ç©¶ä¸­ï¼Œæˆ‘å‘ç° HTTP2 Connect æ–¹æ³•è¢«ç”¨ä½œåˆ›å»ºéš§é“çš„æ ¸å¿ƒæŠ€æœ¯ï¼Œä»¥å®ç°é€æ˜æµé‡çš„æ‹¦æˆªå’Œè½¬å‘ã€‚HTTP\/2 CONNECT éš§é“æ˜¯ä¸€ç§å¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥åœ¨å·²æœ‰çš„ HTTP\/2 è¿æ¥ä¸­åˆ›å»ºé«˜æ•ˆçš„éš§é“ï¼Œç”¨äºä¼ è¾“åŸå§‹çš„ TCP æ•°æ®ã€‚è¿™ç¯‡æ–‡ç« é€šè¿‡ä¸€ä¸ªç®€å•çš„ Demoï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Envoy æ¥å®ç° HTTP\/2 CONNECT éš§é“çš„åŸºæœ¬åŠŸèƒ½ã€‚\n\n## ä»€ä¹ˆæ˜¯ HTTP2 Connect æ–¹æ³•ä»¥åŠ HBONE éš§é“ï¼Ÿ\n\nHTTP2 Connect æ–¹æ³•æ˜¯ä¸€ç§æ ‡å‡†åŒ–çš„æ–¹å¼æ¥åˆ›å»ºéš§é“ï¼Œç”¨äºé€æ˜åœ°ä¼ è¾“æ•°æ®ã€‚ç‰¹åˆ«æ˜¯åœ¨ Istio çš„ Ambient æ¨¡å¼ä¸­ï¼Œå®ƒä¸ºä»£ç†æ•°æ®å¹³é¢ä¹‹é—´çš„é€šä¿¡æä¾›äº†ä¸€ç§é«˜æ•ˆçš„æ‰‹æ®µã€‚HBONEï¼ˆHTTP-Based Overlay Network Environmentï¼‰éš§é“åˆ™æ˜¯åŸºäºè¿™ç§ HTTP2 Connect æŠ€æœ¯çš„å®ç°ï¼Œç”¨äº Istio ä¸­çš„é€æ˜æµé‡æ‹¦æˆªå’Œè½¬å‘ã€‚é€šè¿‡ä½¿ç”¨ HBONEï¼Œæ•°æ®å¯ä»¥æœ‰æ•ˆåœ°é€šè¿‡ HTTP2 éš§é“å®‰å…¨ä¼ è¾“ï¼Œæ›¿ä»£äº†ä¼ ç»Ÿçš„ Sidecar æ¨¡å¼ã€‚è¿™ä¸€åˆ›æ–°è®¾è®¡æå¤§åœ°ç®€åŒ–äº†æœåŠ¡ç½‘æ ¼çš„ç®¡ç†å’Œéƒ¨ç½²ã€‚\n\nHBONE æ˜¯ Istio ç‰¹æœ‰çš„æœ¯è¯­ï¼Œå®ƒæ˜¯ä¸€ç§å®‰å…¨éš§é“åè®®ï¼Œç”¨äºåœ¨ Istio ç»„ä»¶ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚åœ¨å½“å‰çš„ Istio å®ç°ä¸­ï¼ŒHBONE åè®®åŒ…å«äº†ä¸‰ä¸ªå¼€æ”¾æ ‡å‡†ï¼š\n\n- **HTTP\/2**\n- **HTTP CONNECT**\n- **Mutual TLS (mTLS)**\n\nHTTP CONNECT ç”¨äºå»ºç«‹éš§é“è¿æ¥ï¼ŒmTLS ç”¨äºå®‰å…¨åœ°åŠ å¯†è¿æ¥ï¼Œè€Œ HTTP\/2 ç”¨äºåœ¨å•ä¸€å®‰å…¨éš§é“ä¸­å¤šè·¯å¤ç”¨åº”ç”¨è¿æ¥æµå¹¶ä¼ è¾“é™„åŠ çš„æµçº§å…ƒæ•°æ®ã€‚æ›´å¤šå…³äº HBONE éš§é“çš„ç»†èŠ‚å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š[HBONE è¯¦ç»†ä»‹ç»](https:\/\/istio.io\/latest\/docs\/ambient\/architecture\/hbone\/)ã€‚\n\n## ä½¿ç”¨ HTTP2 Connect å»ºç«‹éš§é“çš„åŸºæœ¬åŸç†\n\nHTTP2 Connect æ–¹æ³•å…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç±»ä¼¼äº VPN çš„éš§é“ï¼Œé€šè¿‡è¿™ä¸ªéš§é“å¯ä»¥å®‰å…¨åœ°ä¼ é€’æ•°æ®ã€‚å»ºç«‹éš§é“çš„åŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š\n\n1. é¦–å…ˆï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªæ™®é€šçš„ TCP æˆ– HTTP é“¾æ¥è¯·æ±‚ã€‚\n2. ä»£ç†æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä»£è¡¨å®¢æˆ·ç«¯å‘ç›®æ ‡æœåŠ¡å™¨å‘é€ä¸€ä¸ªå¸¦æœ‰ CONNECT æ–¹æ³•çš„ HTTP2 è¯·æ±‚ã€‚\n3. å¦‚æœæœåŠ¡å™¨å…è®¸å»ºç«‹éš§é“ï¼Œé‚£ä¹ˆå®ƒä¼šè¿”å›ä¸€ä¸ª HTTP2 200 OK çš„å“åº”ç»™ä»£ç†ã€‚\n5. éšåï¼Œå®¢æˆ·ç«¯ã€ä»£ç†å’ŒæœåŠ¡å™¨ä¹‹é—´çš„åŒå‘æµæ•°æ®å°±å¯ä»¥é€šè¿‡è¿™ä¸ªéš§é“è¿›è¡Œä¼ è¾“ã€‚\n\nè¿™ç§æ–¹æ³•èƒ½å¤Ÿä½¿å¾—æ•°æ®çš„ä¼ è¾“è¿‡ç¨‹æ›´åŠ é€æ˜ä¸”å®‰å…¨ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦é«˜æ•ˆé€šä¿¡å’Œç«¯åˆ°ç«¯åŠ å¯†çš„åœºæ™¯ã€‚\n\nä¸‹å›¾å±•ç¤ºäº† HTTP2 Connect æ–¹æ³•å»ºç«‹éš§é“çš„åŸºæœ¬è¿‡ç¨‹ã€‚\n\n\u0060\u0060\u0060mermaid \u0022HTTP2 Connect æ–¹æ³•å»ºç«‹éš§é“çš„åŸºæœ¬è¿‡ç¨‹\u0022\nsequenceDiagram\n    participant Client\n    participant Proxy\n    participant Server\n    Client-\u003e\u003eProxy: æ™®é€š TCP è¯·æ±‚\n    Proxy-\u003e\u003eServer: å‘é€ CONNECT è¯·æ±‚ (HTTP2 CONNECT)\n    Server--\u003e\u003eProxy: è¿”å› 200 OK å“åº”\n    Proxy--\u003e\u003eClient: è½¬å‘ 200 OK å“åº”\n    Client-\u003e\u003eProxy: å¼€å§‹ä¼ è¾“æ•°æ®\n    Proxy-\u003e\u003eServer: è½¬å‘æ•°æ®\n    Server-\u003e\u003eProxy: è¿”å›å¤„ç†åçš„æ•°æ®\n    Proxy-\u003e\u003eClient: è½¬å‘å¤„ç†åçš„æ•°æ®\n\u0060\u0060\u0060\n\n![HTTP2 Connect æ–¹æ³•å»ºç«‹éš§é“çš„åŸºæœ¬è¿‡ç¨‹](1f4003a92425618f8bf5b9c1403169a7.svg)\n\n## Demoï¼šä½¿ç”¨ Envoy ä¸ä¸Šæ¸¸ Server å»ºç«‹ HTTP\/2 Connect éš§é“\n\næœ¬ç¤ºä¾‹å±•ç¤ºäº†ä¸€ä¸ªåŸºç¡€åœºæ™¯ï¼š\n\n1. **å®¢æˆ·ç«¯**ï¼šå‘ Envoy ä»£ç†å‘é€æ–‡æœ¬æ¶ˆæ¯ã€‚\n2. **Envoy**ï¼šæ¥æ”¶å®¢æˆ·ç«¯çš„ TCP æ•°æ®ï¼Œå°†å…¶å°è£…ä¸º HTTP\/2 CONNECT è¯·æ±‚ï¼Œå¹¶ä¸ä¸Šæ¸¸æœåŠ¡å™¨å»ºç«‹åŠ å¯†éš§é“ã€‚\n3. **æœåŠ¡å™¨**ï¼šæ¥æ”¶æ¥è‡ª Envoy çš„ HTTP\/2 CONNECT æµé‡ï¼Œè§£å°è£…å¹¶è¿”å›å“åº”ç»™å®¢æˆ·ç«¯ã€‚\n\næ¶æ„å›¾å¦‚ä¸‹ï¼š\n\n\u0060\u0060\u0060mermaid \u0022æ¶æ„å›¾\u0022\ngraph LR\n    Client[Client] --\u003e|TCP| Envoy[Envoy Proxy]\n    Envoy --\u003e|HTTP\/2 CONNECT \u002b TLS| Server[Server]\n\u0060\u0060\u0060\n\n![æ¶æ„å›¾](b25a0e3bb0f015f7a0c8b280d1025f88.svg)\n\næˆ‘ä»¬å°†ä½¿ç”¨ Node.js æ¥ç¼–å†™å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼Œå¹¶å°†æœåŠ¡ç«¯å’Œ Envoy ä»£ç†è¿è¡Œåœ¨å®¹å™¨ä¸­ï¼Œåœ¨æœ¬åœ°é€šè¿‡å®¢æˆ·ç«¯è®¿é—® Envoy ä»£ç†ä»è€Œè¾¾åˆ°è®¿é—®å®¢æˆ·ç«¯çš„ç›®çš„ã€‚\n\nå®Œæ•´çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š\n\n\u0060\u0060\u0060\nenvoy-http2-tunnel\/\nâ”œâ”€â”€ certs\/\nâ”‚   â”œâ”€â”€ openssl.cnf\nâ”‚   â”œâ”€â”€ server.crt\nâ”‚   â”œâ”€â”€ server.key\nâ”œâ”€â”€ client\/\nâ”‚   â””â”€â”€ client.js\nâ”œâ”€â”€ docker-compose.yml\nâ”œâ”€â”€ envoy.yaml\nâ””â”€â”€ server\/\n    â”œâ”€â”€ Dockerfile\n    â””â”€â”€ server.js\n\u0060\u0060\u0060\n\n### æ ¸å¿ƒåŠŸèƒ½å±•ç¤º\n\n#### **1. HTTP\/2 CONNECT éš§é“çš„åŸºæœ¬å®ç°**\n\n- å®¢æˆ·ç«¯é€šè¿‡æ™®é€šçš„ TCP è¿æ¥ä¸ Envoy é€šä¿¡ã€‚\n- Envoy å°† TCP æ•°æ®å°è£…ä¸º HTTP\/2 CONNECT è¯·æ±‚ï¼Œå‘é€åˆ°ä¸Šæ¸¸æœåŠ¡å™¨ã€‚\n- æœåŠ¡å™¨æ¥æ”¶å¹¶è§£å°è£…éš§é“ä¸­çš„æ•°æ®ï¼Œè¿›è¡Œå¤„ç†åè¿”å›å“åº”ã€‚\n- éš§é“é€šä¿¡å¯¹å®¢æˆ·ç«¯å®Œå…¨é€æ˜ã€‚\n\n#### **2. Envoy çš„é€æ˜ä»£ç†èƒ½åŠ›**\n\n- Envoy ä½œä¸ºä¸­é—´ä»£ç†ï¼Œå°†å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡é€»è¾‘å®Œå…¨å°è£…ã€‚\n- å®¢æˆ·ç«¯æ— éœ€æ”¯æŒå¤æ‚çš„åè®®ï¼ˆå¦‚ HTTP\/2 æˆ– TLSï¼‰ï¼ŒEnvoy ä»£ç†å®Œæˆæ‰€æœ‰åè®®è½¬æ¢ã€‚\n\n#### **3. åŠ å¯†é€šä¿¡çš„å®ç°**\n\n- Envoy ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡é€šè¿‡ TLS åŠ å¯†ï¼Œç¡®ä¿éš§é“å†…çš„æ•°æ®å®‰å…¨ã€‚\n- æœåŠ¡å™¨ç»ˆæ­¢ TLSï¼Œå¤„ç†è§£å¯†åçš„æ•°æ®ã€‚\n\n#### **4. éš§é“çš„ç®€åŒ–ä½¿ç”¨åœºæ™¯**\n\n- é€šè¿‡è¯¥ Demoï¼Œå¯ä»¥å¿«é€Ÿç†è§£ HTTP\/2 CONNECT éš§é“çš„å»ºç«‹å’ŒåŸºæœ¬æ•°æ®ä¼ è¾“æµç¨‹ã€‚\n\n### ç¯å¢ƒå‡†å¤‡\n\n#### 1. å®‰è£… Node.js\n\nç¡®ä¿ä½ çš„ç³»ç»Ÿå·²å®‰è£… **Node.js**ï¼ˆç‰ˆæœ¬ \u003e= **10.10.0**ï¼‰ï¼Œå› ä¸º \u0060http2\u0060 æ¨¡å—åœ¨è¯¥ç‰ˆæœ¬åç¨³å®šã€‚\n\n- **ä¸‹è½½é“¾æ¥ï¼š** [Node.js å®˜æ–¹ç½‘ç«™](https:\/\/nodejs.org\/)\n\n#### 2. å®‰è£… Docker å’Œ Docker Compose\n\n- **Docker ä¸‹è½½é“¾æ¥ï¼š** [Docker å®˜æ–¹ç½‘ç«™](https:\/\/www.docker.com\/get-started)\n- **Docker Compose ä¸‹è½½é“¾æ¥ï¼š** [Docker Compose å®˜æ–¹æ–‡æ¡£](https:\/\/docs.docker.com\/compose\/install\/)\n\n#### 3. åˆ›å»ºé¡¹ç›®ç›®å½•\n\nåœ¨ä½ çš„å·¥ä½œç©ºé—´ä¸­åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•å¹¶è¿›å…¥ï¼š\n\n\u0060\u0060\u0060bash\nmkdir envoy-http2-tunnel\ncd envoy-http2-tunnel\n\u0060\u0060\u0060\n\n### ç”Ÿæˆè‡ªç­¾åè¯ä¹¦\n\nç”±äº Envoy å’ŒæœåŠ¡å™¨ä¹‹é—´éœ€è¦åŠ å¯†é€šä¿¡ï¼Œæˆ‘ä»¬éœ€è¦ç”ŸæˆåŒ…å«æ­£ç¡®é…ç½®çš„è‡ªç­¾åè¯ä¹¦ã€‚\n\n#### 1. åˆ›å»ºè¯ä¹¦ç›®å½•å’Œ OpenSSL é…ç½®æ–‡ä»¶\n\nåˆ›å»º \u0060certs\u0060 ç›®å½•ï¼š\n\n\u0060\u0060\u0060bash\nmkdir certs\ncd certs\n\u0060\u0060\u0060\n\nåˆ›å»º \u0060openssl.cnf\u0060ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n\u0060\u0060\u0060ini\n[ req ]\ndefault_bits       = 2048\ndefault_md         = sha256\nprompt             = no\ndistinguished_name = dn\nreq_extensions     = req_ext\n\n[ dn ]\nC            = US\nST           = California\nL            = San Francisco\nO            = My Company\nOU           = My Division\nCN           = server\n\n[ req_ext ]\nsubjectAltName = @alt_names\n\n[ alt_names ]\nDNS.1   = server\nDNS.2   = localhost\n\u0060\u0060\u0060\n\n#### 2. ç”Ÿæˆå¯†é’¥å’Œè¯ä¹¦\n\nè¿è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆå¯†é’¥å’Œè¯ä¹¦ï¼š\n\n\u0060\u0060\u0060bash\nopenssl req -x509 -nodes -days 365 -newkey rsa:2048 \\\n  -keyout server.key -out server.crt -config openssl.cnf\n\u0060\u0060\u0060\n\nè¿™å°†åœ¨ \u0060certs\u0060 ç›®å½•ä¸­ç”Ÿæˆ \u0060server.key\u0060 å’Œ \u0060server.crt\u0060 æ–‡ä»¶ã€‚\n\n### é…ç½® Envoy ä»£ç†\n\næˆ‘ä»¬éœ€è¦é…ç½® Envoyï¼Œä½¿å…¶èƒ½å¤Ÿæ¥å—å®¢æˆ·ç«¯çš„æ™®é€š TCP è¿æ¥ï¼Œå°†æ•°æ®é€šè¿‡ HTTP\/2 CONNECT éš§é“ä¼ é€’ç»™æœåŠ¡å™¨ã€‚\n\n#### 1. åˆ›å»º Envoy é…ç½®æ–‡ä»¶\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º \u0060envoy.yaml\u0060ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n\n\u0060\u0060\u0060yaml\nstatic_resources:\n  listeners:\n  - name: listener_0\n    address:\n      socket_address:\n        protocol: TCP\n        address: 0.0.0.0\n        port_value: 10000\n    filter_chains:\n    - filters:\n      - name: envoy.filters.network.tcp_proxy\n        typed_config:\n          \u0022@type\u0022: type.googleapis.com\/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy\n          stat_prefix: tcp_stats\n          cluster: tunnel_cluster\n          tunneling_config:\n            hostname: server:8080\n          access_log:\n          - name: envoy.access_loggers.stdout\n            typed_config:\n              \u0022@type\u0022: type.googleapis.com\/envoy.extensions.access_loggers.stream.v3.StdoutAccessLog\n              log_format:\n                json_format:\n                  start_time: \u0022%START_TIME%\u0022\n                  method: \u0022%REQ(:METHOD)%\u0022\n                  path: \u0022%REQ(X-ENVOY-ORIGINAL-PATH?:PATH)%\u0022\n                  protocol: \u0022%PROTOCOL%\u0022\n                  response_code: \u0022%RESPONSE_CODE%\u0022\n                  response_flags: \u0022%RESPONSE_FLAGS%\u0022\n                  bytes_received: \u0022%BYTES_RECEIVED%\u0022\n                  bytes_sent: \u0022%BYTES_SENT%\u0022\n                  duration: \u0022%DURATION%\u0022\n                  upstream_service_time: \u0022%RESP(X-ENVOY-UPSTREAM-SERVICE-TIME)%\u0022\n                  x_forwarded_for: \u0022%REQ(X-FORWARDED-FOR)%\u0022\n                  user_agent: \u0022%REQ(USER-AGENT)%\u0022\n                  request_id: \u0022%REQ(X-REQUEST-ID)%\u0022\n                  upstream_host: \u0022%UPSTREAM_HOST%\u0022\n                  upstream_cluster: \u0022%UPSTREAM_CLUSTER%\u0022\n                  downstream_local_address: \u0022%DOWNSTREAM_LOCAL_ADDRESS%\u0022\n                  downstream_remote_address: \u0022%DOWNSTREAM_REMOTE_ADDRESS%\u0022\n  clusters:\n  - name: tunnel_cluster\n    connect_timeout: 5s\n    type: LOGICAL_DNS\n    lb_policy: ROUND_ROBIN\n    transport_socket:\n      name: envoy.transport_sockets.tls\n      typed_config:\n        \u0022@type\u0022: type.googleapis.com\/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext\n        sni: server\n        common_tls_context:\n          validation_context:\n            trusted_ca:\n              filename: \u0022\/certs\/server.crt\u0022\n          alpn_protocols: [ \u0022h2\u0022 ]\n    http2_protocol_options: {}\n    load_assignment:\n      cluster_name: tunnel_cluster\n      endpoints:\n      - lb_endpoints:\n        - endpoint:\n            address:\n              socket_address:\n                address: server\n                port_value: 8080\n\u0060\u0060\u0060\n\n#### 2. å…³é”®ç‚¹\n\n- **Envoy ç›‘å¬ TCP è¿æ¥**ï¼Œå°†æµé‡é€šè¿‡ **HTTP\/2 CONNECT éš§é“**è½¬å‘åˆ°æœåŠ¡å™¨ã€‚\n- **å®¢æˆ·ç«¯**åªéœ€ä¸ **Envoy** å»ºç«‹ TCP è¿æ¥ï¼Œå‘é€æ–‡æœ¬æ¶ˆæ¯ã€‚\n- **Envoy**è´Ÿè´£éš§é“çš„å»ºç«‹å’ŒåŠ å¯†ï¼Œ**å®¢æˆ·ç«¯**æ— éœ€æ„ŸçŸ¥ã€‚\n\n### å®ç°æœåŠ¡å™¨\n\n#### 1. åˆ›å»ºæœåŠ¡å™¨ç›®å½•å’Œæ–‡ä»¶\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º \u0060server\u0060 ç›®å½•ï¼š\n\n\u0060\u0060\u0060bash\nmkdir server\n\u0060\u0060\u0060\n\nåœ¨ \u0060server\u0060 ç›®å½•ä¸­åˆ›å»º \u0060server.js\u0060 å’Œ \u0060Dockerfile\u0060ã€‚\n\n#### 2. ç¼–å†™ \u0060server.js\u0060\n\nåœ¨ \u0060server\/server.js\u0060 ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š\n\n\u0060\u0060\u0060javascript\nconst http2 = require(\u0027http2\u0027);\nconst fs = require(\u0027fs\u0027);\n\nconst server = http2.createSecureServer({\n  key: fs.readFileSync(\u0027\/certs\/server.key\u0027),\n  cert: fs.readFileSync(\u0027\/certs\/server.crt\u0027),\n});\n\nserver.on(\u0027stream\u0027, (stream, headers) =\u003e {\n  const method = headers[\u0027:method\u0027];\n  const path = headers[\u0027:path\u0027];\n\n  if (method === \u0027CONNECT\u0027) {\n    console.log(\u0060Received CONNECT request for ${path}\u0060);\n\n    \/\/ å“åº” 200ï¼Œå»ºç«‹éš§é“\n    stream.respond({\n      \u0027:status\u0027: 200,\n    });\n\n    \/\/ åœ¨éš§é“å†…å¤„ç†æ•°æ®\n    stream.on(\u0027data\u0027, (chunk) =\u003e {\n      const message = chunk.toString();\n      console.log(\u0060Received from client: ${message}\u0060);\n\n      \/\/ å›åº”å®¢æˆ·ç«¯\n      const response = \u0060Echo from server: ${message}\u0060;\n      stream.write(response);\n    });\n\n    stream.on(\u0027end\u0027, () =\u003e {\n      console.log(\u0027Stream ended by client.\u0027);\n      stream.end();\n    });\n  } else {\n    \/\/ å¯¹äºé CONNECT è¯·æ±‚ï¼Œè¿”å› 404\n    stream.respond({\n      \u0027:status\u0027: 404,\n    });\n    stream.end();\n  }\n});\n\nserver.listen(8080, () =\u003e {\n  console.log(\u0027Secure HTTP\/2 server is listening on port 8080\u0027);\n});\n\u0060\u0060\u0060\n\n**æ³¨æ„ï¼š**\n\n- ç›‘å¬ \u0060secureConnection\u0060 äº‹ä»¶ï¼Œç›´æ¥å¤„ç† TLS è¿æ¥åçš„ socketã€‚\n- åœ¨ socket ä¸Šæ¥æ”¶æ•°æ®ï¼Œå¤„ç†æ¥è‡ªå®¢æˆ·ç«¯çš„æ–‡æœ¬æ¶ˆæ¯ï¼Œå¹¶å›å¤ã€‚\n\n#### 3. åˆ›å»º \u0060Dockerfile\u0060\n\nåœ¨ \u0060server\/Dockerfile\u0060 ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š\n\n\u0060\u0060\u0060dockerfile\nFROM node:14\n\nWORKDIR \/app\n\nCOPY server.js .\n\nEXPOSE 8080\n\nCMD [\u0022node\u0022, \u0022server.js\u0022]\n\u0060\u0060\u0060\n\n### å®ç°å®¢æˆ·ç«¯\n\n#### 1. åˆ›å»ºå®¢æˆ·ç«¯ç›®å½•å’Œæ–‡ä»¶\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º \u0060client\u0060 ç›®å½•ï¼š\n\n\u0060\u0060\u0060bash\nmkdir client\n\u0060\u0060\u0060\n\nåœ¨ \u0060client\u0060 ç›®å½•ä¸­åˆ›å»º \u0060client.js\u0060ã€‚\n\n#### 2. ç¼–å†™ \u0060client.js\u0060\n\nåœ¨ \u0060client\/client.js\u0060 ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š\n\n\u0060\u0060\u0060javascript\nconst net = require(\u0027net\u0027);\n\n\/\/ åˆ›å»ºä¸ Envoy çš„ TCP è¿æ¥\nconst client = net.createConnection({ port: 10000 }, () =\u003e {\n  console.log(\u0027Connected to Envoy.\u0027);\n\n  \/\/ å‘é€æ¶ˆæ¯ç»™æœåŠ¡å™¨\n  let counter = 1;\n  const interval = setInterval(() =\u003e {\n    const message = \u0060Message ${counter} from client!\u0060;\n    client.write(message);\n    counter \u002b= 1;\n  }, 1000);\n\n  \/\/ å…³é—­è¿æ¥\n  setTimeout(() =\u003e {\n    clearInterval(interval);\n    client.end();\n  }, 5000);\n});\n\nclient.on(\u0027data\u0027, (data) =\u003e {\n  console.log(\u0060Received from server: ${data.toString()}\u0060);\n});\n\nclient.on(\u0027end\u0027, () =\u003e {\n  console.log(\u0027Disconnected from server.\u0027);\n});\n\nclient.on(\u0027error\u0027, (err) =\u003e {\n  console.error(\u0027Client error:\u0027, err);\n});\n\u0060\u0060\u0060\n\n**è¯´æ˜ï¼š**\n\n- **å®¢æˆ·ç«¯**ä¸ **Envoy** å»ºç«‹æ™®é€šçš„ TCP è¿æ¥ï¼Œå‘é€æ–‡æœ¬æ¶ˆæ¯ã€‚\n- è¯¥å®¢æˆ·ç«¯çš„å­˜åœ¨åªæ˜¯ä¸ºäº†è§¦å‘ Envoy ä¸æœåŠ¡å™¨å»ºç«‹éš§é“ã€‚\n\n### åˆ›å»º Docker Compose æ–‡ä»¶\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º \u0060docker-compose.yml\u0060ï¼š\n\n\u0060\u0060\u0060yaml\nversion: \u00273.8\u0027\n\nservices:\n  envoy:\n    image: envoyproxy\/envoy:v1.32.1\n    volumes:\n      - .\/envoy.yaml:\/etc\/envoy\/envoy.yaml\n      - .\/certs:\/certs  # æŒ‚è½½è¯ä¹¦ç›®å½•\n    ports:\n      - \u002210000:10000\u0022\n    networks:\n      - envoy_network\n    depends_on:\n      - server\n    command: \/usr\/local\/bin\/envoy -c \/etc\/envoy\/envoy.yaml --service-cluster envoy --log-level debug\n\n  server:\n    build:\n      context: .\/server\n    networks:\n      - envoy_network\n    expose:\n      - \u00228080\u0022\n    volumes:\n      - .\/certs:\/certs  # æŒ‚è½½è¯ä¹¦ç›®å½•\n\nnetworks:\n  envoy_network:\n\u0060\u0060\u0060\n\n### è¿è¡Œç¤ºä¾‹\n\n#### 1. å¯åŠ¨ Docker Compose\n\nåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œè¿è¡Œï¼š\n\n\u0060\u0060\u0060bash\ndocker-compose up --build\n\u0060\u0060\u0060\n\n**é¢„æœŸè¾“å‡ºï¼š**\n\n- **Envoy å®¹å™¨ï¼š** æ˜¾ç¤ºå¯åŠ¨ä¿¡æ¯å’Œè°ƒè¯•æ—¥å¿—ã€‚\n- **æœåŠ¡å™¨å®¹å™¨ï¼š** æ˜¾ç¤º \u0060Secure HTTP\/2 server is listening on port 8080\u0060ã€‚\n\n#### 2. è¿è¡Œå®¢æˆ·ç«¯\n\næ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£ï¼Œè¿›å…¥ \u0060client\u0060 ç›®å½•ï¼š\n\n\u0060\u0060\u0060bash\ncd client\n\u0060\u0060\u0060\n\nè¿è¡Œå®¢æˆ·ç«¯ï¼š\n\n\u0060\u0060\u0060bash\nnode client.js\n\u0060\u0060\u0060\n\n**é¢„æœŸè¾“å‡ºï¼š**\n\n\u0060\u0060\u0060\nConnected to Envoy.\nReceived from server: Echo from server: Message 1 from client!\nReceived from server: Echo from server: Message 2 from client!\nReceived from server: Echo from server: Message 3 from client!\nReceived from server: Echo from server: Message 4 from client!\nReceived from server: Echo from server: Message 5 from client!\nDisconnected from server.\n\u0060\u0060\u0060\n\n#### 3. æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—\n\nåœ¨ Docker Compose çš„è¾“å‡ºä¸­ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°æœåŠ¡å™¨çš„æ—¥å¿—ï¼š\n\n\u0060\u0060\u0060\nenvoy_1   | {\u0022downstream_remote_address\u0022:\u0022192.168.65.1:46306\u0022,\u0022path\u0022:null,\u0022request_id\u0022:null,\u0022bytes_sent\u0022:160,\u0022protocol\u0022:null,\u0022upstream_service_time\u0022:null,\u0022bytes_received\u0022:88,\u0022response_code\u0022:0,\u0022user_agent\u0022:null,\u0022downstream_local_address\u0022:\u0022172.21.0.3:10000\u0022,\u0022upstream_host\u0022:\u0022172.21.0.2:8080\u0022,\u0022start_time\u0022:\u00222024-12-03T11:37:59.542Z\u0022,\u0022upstream_cluster\u0022:\u0022tunnel_cluster\u0022,\u0022duration\u0022:5012,\u0022response_flags\u0022:\u0022-\u0022,\u0022method\u0022:null,\u0022x_forwarded_for\u0022:null}\nserver_1  | Secure HTTP\/2 server is listening on port 8080\nserver_1  | New secure connection established.\nserver_1  | Received from client: Message 1 from client!\nserver_1  | Received from client: Message 2 from client!\nserver_1  | Received from client: Message 3 from client!\nserver_1  | Received from client: Message 4 from client!\nserver_1  | Received from client: Message 5 from client!\nserver_1  | Connection ended by client.\n\u0060\u0060\u0060\n\n#### 4. æ£€æŸ¥ Envoy æ—¥å¿—\n\nåœ¨ Envoy çš„æ—¥å¿—ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°å®ƒä½¿ç”¨ **HTTP\/2 CONNECT éš§é“**ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥çš„è®°å½•ã€‚\n\n### æµ‹è¯•é€šä¿¡\n\n- **å®¢æˆ·ç«¯**é€šè¿‡ TCP è¿æ¥å‘ **Envoy ä»£ç†**å‘é€æ–‡æœ¬æ¶ˆæ¯ã€‚\n- **Envoy**å°†å®¢æˆ·ç«¯çš„ TCP æµé‡é€šè¿‡ **HTTP\/2 CONNECT éš§é“**è½¬å‘ç»™ **æœåŠ¡å™¨**ã€‚\n- **æœåŠ¡å™¨**æ¥æ”¶åˆ°æ¥è‡ªå®¢æˆ·ç«¯çš„æ¶ˆæ¯ï¼Œå¤„ç†å¹¶å›å¤ã€‚\n- **Envoy**å°†æœåŠ¡å™¨çš„å›å¤é€šè¿‡éš§é“ä¼ å›ç»™ **å®¢æˆ·ç«¯**ã€‚\n- **å®¢æˆ·ç«¯**æ”¶åˆ°æœåŠ¡å™¨çš„å›å¤ã€‚\n\n### æ³¨æ„äº‹é¡¹\n\n- **è¯ä¹¦ç®¡ç†ï¼š** ç¡®ä¿è¯ä¹¦æ­£ç¡®é…ç½®ï¼Œå¹¶åœ¨ Envoy å’ŒæœåŠ¡å™¨ä¸­æ­£ç¡®ä½¿ç”¨ã€‚\n- **Docker ç½‘ç»œï¼š** ä½¿ç”¨ Docker Compose å®šä¹‰çš„ç½‘ç»œï¼Œå®¹å™¨å¯ä»¥é€šè¿‡æœåŠ¡åç§°äº’ç›¸é€šä¿¡ã€‚\n- **ç«¯å£å†²çªï¼š** ç¡®ä¿ç«¯å£ \u006010000\u0060ï¼ˆEnvoyï¼‰å’Œ \u00608080\u0060ï¼ˆæœåŠ¡å™¨ï¼‰æœªè¢«å ç”¨ã€‚\n- **TLS é…ç½®ï¼š** åœ¨ç¤ºä¾‹ä¸­ï¼ŒEnvoy ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ä½¿ç”¨ TLS å’Œ HTTP\/2ï¼Œç¡®ä¿äº†å®‰å…¨æ€§ã€‚\n\n## éš§é“å»ºç«‹è¿‡ç¨‹\n\nä¸‹å›¾å±•ç¤ºäº†å®¢æˆ·ç«¯ã€Envoy ä»£ç†å’ŒæœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’ï¼Œåæ˜ äº†æ•°æ®çš„ä¼ é€’å’Œéš§é“è¿æ¥çš„å»ºç«‹çš„æµç¨‹ã€‚\n\n\u0060\u0060\u0060mermaid \u0022éš§é“å»ºç«‹æµç¨‹\u0022\nsequenceDiagram\n\nparticipant Client\nparticipant Envoy\nparticipant Server\n\n%% å®¢æˆ·ç«¯ä¸ Envoy å»ºç«‹ TCP è¿æ¥\nClient-\u003e\u003eEnvoy: TCP Connect\nEnvoy--\u003e\u003eClient: Connection Established\n\n%% Envoy åˆ›å»ºæ–°çš„ TCP ä»£ç†ä¼šè¯\nNote over Envoy: åˆ›å»ºæ–°çš„ TCP ä»£ç†ä¼šè¯ (ConnectionId: 0)\n\n%% Envoy åˆ›å»ºåˆ°ä¸Šæ¸¸æœåŠ¡å™¨çš„è¿æ¥\nEnvoy-\u003e\u003eServer: Connect to tunnel_cluster\nNote over Envoy,Server: å°è¯•åˆ›å»ºæ–°çš„è¿æ¥ (ConnectionId: 1)\n\n%% Envoy ä¸æœåŠ¡å™¨å»ºç«‹ HTTP\/2 è¿æ¥\nEnvoy-\u003e\u003eServer: Establish HTTP\/2 Connection\nServer--\u003e\u003eEnvoy: Connection Established\n\n%% Envoy é€šè¿‡ HTTP\/2 CONNECT å»ºç«‹éš§é“\nEnvoy-\u003e\u003eServer: HTTP\/2 CONNECT (hostname: server:8080)\nServer--\u003e\u003eEnvoy: 200 OK (Tunnel Established)\nNote over Envoy,Server: éš§é“å»ºç«‹æˆåŠŸ\n\n%% å®¢æˆ·ç«¯å‘é€æ•°æ®\nloop Send Messages\nClient-\u003e\u003eEnvoy: Data (Message N)\nEnvoy-\u003e\u003eServer: Forward Data (Message N)\nServer--\u003e\u003eEnvoy: Response (Echo Message N)\nEnvoy--\u003e\u003eClient: Forward Response (Echo Message N)\nServer--\u003e\u003eServer: Log \u0022Received from client: Message N from client!\u0022\nend\n\n%% å®¢æˆ·ç«¯å…³é—­è¿æ¥\nClient-\u003e\u003eEnvoy: FIN (Close Connection)\nEnvoy-\u003e\u003eServer: FIN (Close Tunnel)\nServer--\u003e\u003eEnvoy: ACK\nEnvoy--\u003e\u003eClient: ACK\nNote over Envoy,Server: éš§é“å…³é—­\nNote over Envoy,Client: è¿æ¥å…³é—­\n\n%% è¿æ¥å…³é—­æ—¥å¿—\nEnvoy--\u003e\u003eEnvoy: Log Connection Closed (ConnectionId: 0 \u0026 1)\nServer--\u003e\u003eServer: Log \u0022Stream ended by client.\u0022\n\u0060\u0060\u0060\n\n![éš§é“å»ºç«‹æµç¨‹](f426fb19b797e505aed4758bdc372f45.svg)\n\nè¯´æ˜ï¼š\n\n1. **å®¢æˆ·ç«¯ä¸ Envoy å»ºç«‹ TCP è¿æ¥**ï¼š\n    - å®¢æˆ·ç«¯å‘ Envoy å‘èµ· TCP è¿æ¥è¯·æ±‚ã€‚\n    - Envoy æ¥å—è¿æ¥ï¼Œå»ºç«‹æ–°çš„ TCP ä»£ç†ä¼šè¯ï¼ˆConnectionId: 0ï¼‰ã€‚\n2. **Envoy åˆ›å»ºåˆ°æœåŠ¡å™¨çš„è¿æ¥**ï¼š\n\n    - Envoy å°è¯•è¿æ¥ä¸Šæ¸¸é›†ç¾¤ \u0060tunnel_cluster\u0060ï¼Œåˆ›å»ºæ–°çš„è¿æ¥ï¼ˆConnectionId: 1ï¼‰ã€‚\n3. **å»ºç«‹ HTTP\/2 CONNECT éš§é“**ï¼š\n\n    - Envoy ä¸æœåŠ¡å™¨å»ºç«‹ HTTP\/2 è¿æ¥ã€‚\n    - Envoy å‘é€ HTTP\/2 CONNECT è¯·æ±‚ï¼Œç›®æ ‡ä¸»æœºåä¸º \u0060server:8080\u0060ã€‚\n    - æœåŠ¡å™¨å“åº” \u0060200 OK\u0060ï¼Œéš§é“å»ºç«‹æˆåŠŸã€‚\n4. **æ•°æ®ä¼ è¾“**ï¼š\n\n    - **æ¶ˆæ¯ä¼ é€’å¾ªç¯**ï¼š\n        - å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼ˆ\u0060Message N\u0060ï¼‰åˆ° Envoyã€‚\n        - Envoy å°†æ•°æ®é€šè¿‡éš§é“è½¬å‘ç»™æœåŠ¡å™¨ã€‚\n        - æœåŠ¡å™¨å¤„ç†æ•°æ®å¹¶è¿”å›å“åº”ï¼ˆ\u0060Echo Message N\u0060ï¼‰ç»™ Envoyã€‚\n        - Envoy å°†å“åº”è½¬å‘ç»™å®¢æˆ·ç«¯ã€‚\n    - **æ—¥å¿—è®°å½•**ï¼š\n        - æœåŠ¡å™¨è®°å½•æ”¶åˆ°çš„æ¶ˆæ¯ï¼Œä¾‹å¦‚ \u0060Received from client: Message N from client!\u0060ã€‚\n5. **è¿æ¥å…³é—­**ï¼š\n\n    - å®¢æˆ·ç«¯å‘é€ FIN è¯·æ±‚ï¼Œé€šçŸ¥å…³é—­è¿æ¥ã€‚\n    - Envoy å°† FIN è½¬å‘ç»™æœåŠ¡å™¨ï¼Œå…³é—­éš§é“ã€‚\n    - æœåŠ¡å™¨å“åº” ACK ç¡®è®¤å…³é—­ã€‚\n    - Envoy å‘å®¢æˆ·ç«¯å‘é€ ACKï¼Œå®Œæˆè¿æ¥å…³é—­ã€‚\n6. **æ—¥å¿—è®°å½•**ï¼š\n\n    - Envoy è®°å½•è¿æ¥å…³é—­æ—¥å¿—ï¼ŒåŒ…æ‹¬ ConnectionId å’Œç»Ÿè®¡ä¿¡æ¯ã€‚\n    - æœåŠ¡å™¨è®°å½•æ—¥å¿—ï¼Œæ˜¾ç¤ºæµå·²ç”±å®¢æˆ·ç«¯ç»“æŸï¼Œä¾‹å¦‚ \u0060Stream ended by client.\u0060ã€‚\n\n## ç»“è¯­\n\nè™½ç„¶è¿™æ˜¯ä¸€ä¸ªå…¥é—¨ç¤ºä¾‹ï¼Œä½†å®ƒä¸ºç†è§£å’Œè¿›ä¸€æ­¥æ¢ç´¢ HTTP\/2 CONNECT éš§é“åŠŸèƒ½æä¾›äº†åšå®çš„åŸºç¡€ã€‚åœ¨ä¸‹ä¸€ç¯‡åšå®¢ä¸­è®²è§£é€šè¿‡ä¸¤ä¸ª Envoy ä»£ç†å®ç°çš„éš§é“ï¼Œå¸¦ä½ è¿›ä¸€æ­¥äº†è§£ Istio ambient æ¨¡å¼ä¸­çš„ HBONE é€æ˜éš§é“ã€‚\n\n## å‚è€ƒ\n\n - [HTTP upgrades â€” envoy 1.33.0-dev-6d8d0b documentation](https:\/\/www.envoyproxy.io\/docs\/envoy\/latest\/intro\/arch_overview\/http\/upgrades)\n - [envoy\/configs\/proxy\\_connect.yaml at 6d8d0b0ee2cc267b2cd9f57eb952863ddc8e49c3 Â· envoyproxy\/envoy Â· GitHub](https:\/\/github.com\/envoyproxy\/envoy\/blob\/6d8d0b0ee2cc267b2cd9f57eb952863ddc8e49c3\/configs\/proxy_connect.yaml)\n - [Istio Ambient æ¨¡å¼æµé‡ç®¡ç†å®ç°æœºåˆ¶è¯¦è§£ï¼ˆä¸€ï¼‰- èµµåŒ–å†°çš„åšå®¢ | Zhaohuabing Blog](https:\/\/www.zhaohuabing.com\/post\/2022-09-11-ambient-deep-dive-1\/)\n', '\/blog\/http2-envoy-tunnel-demo\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">æ·±å…¥è®²è§£å¦‚ä½•åˆ©ç”¨ HTTP/2 CONNECT æ–¹æ³•åˆ›å»ºéš§é“ï¼Œæ¶µç›–æŠ€æœ¯åŸç†ã€å®è·µæµç¨‹ä¸ç¤ºä¾‹ä»£ç ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/napkin-ai-visualization-tool/">AI å·¥å…·æ¨è Napkin.aiï¼šè®©å¤æ‚æƒ³æ³•ä¸€é”®å˜æˆç›´è§‚å›¾è¡¨</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2025/01/09</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%b7%a5%e5%85%b7"> 
             å·¥å…·
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('AI å·¥å…·æ¨è Napkin.aiï¼šè®©å¤æ‚æƒ³æ³•ä¸€é”®å˜æˆç›´è§‚å›¾è¡¨', 'Napkin.ai æ˜¯ä¸€æ¬¾æ™ºèƒ½å·¥å…·ï¼Œèƒ½è‡ªåŠ¨å°†æ–‡å­—ç”Ÿæˆä¿¡æ¯å›¾ã€æµç¨‹å›¾ç­‰å¤šç§å›¾å½¢ã€‚æ”¯æŒå¤šæ ·åŒ–æ ·å¼é€‰æ‹©å’Œè‡ªå®šä¹‰è°ƒæ•´ï¼Œè¿˜èƒ½å¯¼å‡ºä¸ºå¤šç§æ ¼å¼ã€‚', '\nåœ¨å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ¸…æ™°åœ°ä¼ è¾¾å¤æ‚çš„æƒ³æ³•ï¼Œä½†å•é æ–‡å­—æœ‰æ—¶å€™å®åœ¨ä¸å¤Ÿç›´è§‚ã€‚è¿™æ—¶å€™ï¼Œä¸€å¼ æ¸…æ™°çš„å›¾è¡¨å¾€å¾€èƒ½è®©äººä¸€çœ¼çœ‹æ‡‚ä½ çš„æ€è·¯ã€‚\n\n![æŠ½è±¡æ¦‚å¿µå¯è§†åŒ–çš„å¥½å¤„ï¼ˆæœ¬å›¾ä½¿ç”¨ napkin.ai ç”Ÿæˆï¼‰](f1.svg)\n\nä»Šå¤©æƒ³ç»™å¤§å®¶æ¨èä¸€ä¸ªç‰¹åˆ«å¥½ç”¨çš„å·¥å…·â€”â€”[Napkin.ai](https:\/\/napkin.ai)ã€‚å®ƒå¯ä»¥è‡ªåŠ¨æŠŠä½ çš„æ–‡å­—å†…å®¹å˜æˆå›¾è¡¨ï¼Œæ¯”å¦‚ä¿¡æ¯å›¾ã€æµç¨‹å›¾ç­‰ç­‰ï¼Œè®©ä½ çš„æƒ³æ³•æ›´å®¹æ˜“è¢«ç†è§£å’Œä¼ æ’­ã€‚\n\n![Napkin ç•Œé¢](napkin.webp)\n\n## Napkin.ai çš„æ ¸å¿ƒåŠŸèƒ½\n\n1. æ–‡æœ¬è‡ªåŠ¨å˜å›¾è¡¨ï¼šæŠŠæ–‡å­—ç²˜è´´åˆ° Napkin.aiï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆç›¸å…³çš„å›¾è¡¨ï¼Œå®Œå…¨ä¸ç”¨è‡ªå·±åŠ¨æ‰‹ç”»ã€‚\n2. å›¾è¡¨æ ·å¼å¤šæ ·ï¼šæ ¹æ®ä½ çš„å†…å®¹ï¼ŒNapkin.ai ä¼šæä¾›å¤šç§å›¾è¡¨æ ·å¼ï¼Œä½ å¯ä»¥é€‰æ‹©æœ€é€‚åˆçš„é‚£ä¸ªã€‚\n3. æ”¯æŒè‡ªå®šä¹‰ï¼šå›¾è¡¨ç”Ÿæˆåè¿˜èƒ½è°ƒæ•´ï¼Œæ¯”å¦‚æ›´æ”¹å›¾æ ‡ã€é¢œè‰²ã€å­—ä½“ç­‰ï¼Œè®©å®ƒçœ‹èµ·æ¥æ›´ç¬¦åˆä½ çš„é£æ ¼ã€‚\n4. å¤šç§æ ¼å¼å¯¼å‡ºï¼šç”Ÿæˆçš„å›¾è¡¨å¯ä»¥å¯¼å‡ºä¸º PNGã€SVG æˆ– PDFï¼Œç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚\n\n## é€‚åˆè°ç”¨\n\n![Napkin å¦‚ä½•æå‡æ²Ÿé€šæ•ˆç‡ï¼ˆæœ¬å›¾ä½¿ç”¨ napkin.ai ç”Ÿæˆï¼‰](f2.svg)\n\nä¸ç®¡ä½ æ˜¯å¸‚åœºè¥é”€äººå‘˜ã€å†…å®¹åˆ›ä½œè€…ï¼Œè¿˜æ˜¯éœ€è¦åšå•†ä¸šæ¼”ç¤ºçš„ä¸“ä¸šäººå£«ï¼ŒNapkin.ai éƒ½èƒ½å¸®ä½ æå‡æ²Ÿé€šæ•ˆæœï¼Œè®©ä½ çš„å†…å®¹æ›´å¸å¼•äººã€‚\n\n## å¦‚ä½•å¼€å§‹ï¼Ÿ\n\n1. æ‰“å¼€ [napkin.ai](https:\/\/www.napkin.ai\/)ã€‚\n2. æ³¨å†Œä¸€ä¸ªè´¦å·ï¼ˆå…è´¹ï¼‰ï¼Œç›®å‰é«˜çº§ç‰ˆæœ¬è¿˜åœ¨ beta é˜¶æ®µï¼Œæš‚æœªæ”¶è´¹ï¼Œæœªæ¥çš„æ”¶è´¹è¿˜æœªå…¬å¼€ã€‚\n3. ç²˜è´´æ–‡å­—ï¼Œç”Ÿæˆå›¾è¡¨ï¼Œç„¶åæ ¹æ®éœ€è¦è°ƒæ•´ã€‚\n4. å¯¼å‡ºå›¾è¡¨ï¼Œç”¨åœ¨ä½ çš„å·¥ä½œæˆ–åˆ†äº«ä¸­ã€‚\n\nè¿™æ¬¾å·¥å…·çœŸçš„éå¸¸æ–¹ä¾¿ï¼Œè¯•ä¸€æ¬¡å°±ä¼šçˆ±ä¸Šï¼æ”¯æŒä¸­æ–‡ï¼Œè€Œä¸”å…è´¹ä½¿ç”¨ï¼Œæ— æ¬¡æ•°é™åˆ¶ã€‚å¦‚æœä½ ä¹Ÿéœ€è¦ä¸€ä¸ªå¸®æ‰‹æ¥æŠŠå¤æ‚æƒ³æ³•å˜å¾—æ›´ç›´è§‚ï¼Œèµ¶ç´§å»è¯•è¯•å§ï¼\n', '\/blog\/napkin-ai-visualization-tool\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">Napkin.ai æ˜¯ä¸€æ¬¾æ™ºèƒ½å·¥å…·ï¼Œèƒ½è‡ªåŠ¨å°†æ–‡å­—ç”Ÿæˆä¿¡æ¯å›¾ã€æµç¨‹å›¾ç­‰å¤šç§å›¾å½¢ã€‚æ”¯æŒå¤šæ ·åŒ–æ ·å¼é€‰æ‹©å’Œè‡ªå®šä¹‰è°ƒæ•´ï¼Œè¿˜èƒ½å¯¼å‡ºä¸ºå¤šç§æ ¼å¼ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/cilium-annual-report-2024/">Cilium 2024 å¹´åº¦æŠ¥å‘Šè§£è¯»</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2025/01/07</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%85%b6%e4%bb%96"> 
             å…¶ä»–
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('Cilium 2024 å¹´åº¦æŠ¥å‘Šè§£è¯»', 'Cilium 2024 å¹´åº¦æŠ¥å‘Šå›é¡¾æˆå°±ä¸æŠ€æœ¯åˆ›æ–°ï¼Œå±•æœ›å…¶åœ¨äº‘åŸç”Ÿç½‘ç»œä¸å®‰å…¨é¢†åŸŸçš„å‘å±•ã€‚', '\nè¿‘æ—¥ Cilium é¡¹ç›®å‘å¸ƒäº† 2024 å¹´åº¦æŠ¥å‘Šï¼Œè§ [Github](https:\/\/github.com\/cilium\/cilium.io\/blob\/main\/Annual-Reports\/Cilium_Annual_Report_2024.pdf)ã€‚è¿™ä»½æŠ¥å‘Šè¯¦ç»†å›é¡¾äº† Cilium åœ¨è¿‡å»ä¸€å¹´ä¸­æ‰€å–å¾—çš„é‡å¤§æˆå°±ï¼Œå¹¶å±•æœ›äº†å…¶åœ¨äº‘åŸç”Ÿç½‘ç»œå’Œå®‰å…¨é¢†åŸŸçš„æœªæ¥å‘å±•æ–¹å‘ã€‚Cilium é¡¹ç›®è‡ªé¦–æ¬¡æäº¤ä»¥æ¥ï¼Œå†ç»è¿‘åå¹´å‘å±•ï¼Œå…¶åŠ¿å¤´æŒç»­å¼ºåŠ²ï¼Œæ­£å¼•é¢†äº‘åŸç”Ÿç½‘ç»œå’Œå®‰å…¨é¢†åŸŸçš„æ–°å˜é©ã€‚\n\n![Cilium 2024 å¹´åº¦æŠ¥å‘Šæ¦‚è¿°](f1.svg)\n\n## Cilium çš„å“è¶Šå‘å±•\n\n2024 å¹´æ˜¯ Cilium å‘å±•å†ç¨‹ä¸­è‡³å…³é‡è¦çš„ä¸€å¹´ï¼Œå®ƒä¸ä»…å·©å›ºäº†å…¶ä½œä¸º Kubernetes äº‹å®æ ‡å‡† CNI çš„åœ°ä½ï¼Œæ›´å‘å±•æˆä¸º Kubernetes ç¯å¢ƒä¸‹çš„ç»¼åˆç½‘ç»œå †æ ˆã€‚Cilium çš„æ¼”è¿›å±•ç¤ºäº†å…¶åº”å¯¹ç°ä»£äº‘åŸç”Ÿç¯å¢ƒæŒ‘æˆ˜çš„å“è¶Šèƒ½åŠ›ï¼Œä»æœ€åˆçš„ pod åˆ° pod è¿æ¥æ–¹æ¡ˆï¼Œæ‰©å±•åˆ°ä¸€ä¸ªç»Ÿä¸€ç½‘ç»œã€å¯è§‚å¯Ÿæ€§å’Œå®‰å…¨æ€§çš„é¡¹ç›®ï¼Œè¿™ä¸€åˆ‡éƒ½ç”± eBPF æŠ€æœ¯é©±åŠ¨ã€‚\n\n![Cilium åœ¨ 2024 å¹´çš„æ¼”å˜](f2.svg)\n\n## å…³é”®é‡Œç¨‹ç¢‘ä¸é‡å¤§æˆå°±\n\n![å…³é”®é‡Œç¨‹ç¢‘ä¸é‡å¤§æˆå°±](f3.svg)\n\n- **ç¤¾åŒºè“¬å‹ƒå‘å±•**ï¼šCilium ç¤¾åŒºæŒç»­å£®å¤§ï¼Œè´¡çŒ®è€…å’Œè´¡çŒ®å…¬å¸æ•°é‡ä¸æ–­å¢åŠ ï¼Œç”¨æˆ·éå¸ƒé‡‘èã€ç‰©æµã€åª’ä½“ã€ç”µä¿¡ç­‰ä¼—å¤šè¡Œä¸šã€‚è‡ªåŠ å…¥ CNCF ä»¥æ¥ï¼Œè´¡çŒ®å…¬å¸æ•°é‡å¢é•¿äº† 90%ï¼Œè¾¾åˆ° 1,011 å®¶ï¼Œä¸ªäººè´¡çŒ®è€…å¢é•¿äº† 252%ï¼Œè¾¾åˆ° 4,464 äººã€‚Cilium è¿˜æ˜¯ CNCF ç”Ÿæ€ç³»ç»Ÿä¸­ç¬¬ä¸‰å¤§å‘å±•æœ€å¿«çš„é¡¹ç›®ã€‚\n- **æŠ€æœ¯åˆ›æ–°**ï¼šCilium åœ¨ 2024 å¹´å‘å¸ƒäº† 1.15 å’Œ 1.16 ä¸¤ä¸ªä¸»è¦ç‰ˆæœ¬ï¼Œå¸¦æ¥äº†è¯¸å¤šåˆ›æ–°åŠŸèƒ½ã€‚\n  - **Cilium 1.15**: å¼•å…¥äº†å¯¹ Gateway API 1.0 çš„å…¨é¢æ”¯æŒï¼Œä½¿ Cluster Mesh çš„å¯æ‰©å±•æ€§ç¿»å€ï¼Œå¢å¼ºäº†å¯è§‚æµ‹æ€§ï¼Œå°†æµé‡ä¸ç½‘ç»œç­–ç•¥å…³è”ï¼Œå¹¶æ‰©å±•äº† BGP çš„åŠŸèƒ½ï¼Œä»¥æ›´å¥½åœ°é›†æˆå¤–éƒ¨ä¸–ç•Œã€‚\n  - **Cilium 1.16**: ä»¥â€œæ›´å¿«ã€æ›´å¼ºã€æ›´æ™ºèƒ½â€ä¸ºä¸»é¢˜ï¼Œé€šè¿‡ netkit æ¶ˆé™¤äº†è™šæ‹Ÿç½‘ç»œå¼€é”€ï¼Œå®ç°äº†ä¸»æœºå’Œå®¹å™¨ä¹‹é—´çš„æ€§èƒ½å¯¹ç­‰ï¼›å¼•å…¥äº† BGPv2 APIï¼Œæ”¯æŒç”¨æˆ·å®šä¹‰å¤æ‚çš„ç½‘ç»œç­–ç•¥ï¼›æ”¯æŒå¤šæ’­æ•°æ®è·¯å¾„ï¼›å¹¶æ˜¾è‘—ä¼˜åŒ–äº† CPU å’Œå†…å­˜ä½¿ç”¨ï¼ŒåŒæ—¶å°†å°¾éƒ¨å»¶è¿Ÿé™ä½äº†é«˜è¾¾ 5 å€ã€‚\n- **å¹¿æ³›åº”ç”¨**ï¼šç”¨æˆ·è°ƒæŸ¥æ˜¾ç¤ºï¼ŒCilium æ­£åœ¨é€æ­¥æ¥ç®¡ Kubernetes ç½‘ç»œå †æ ˆï¼ŒCluster Meshã€BGP å’Œ Gateway API ç­‰åŠŸèƒ½å·²å¹¿æ³›åº”ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚95% çš„å—è®¿è€…è¿è¡Œå¤šä¸ª Kubernetes é›†ç¾¤ï¼Œè€Œ Cilium è¢« CNCF æŠ€æœ¯é›·è¾¾è¯„ä¸ºé¡¶çº§å¤šé›†ç¾¤ç®¡ç†å·¥å…·ã€‚\n- **è¡Œä¸šè®¤å¯**ï¼šCilium è£è· OpenUK 2024 å¹´åº¦å¼€æºè½¯ä»¶å¥–ã€‚åŒæ—¶ï¼Œåœ¨ CNCF çš„å¤šé›†ç¾¤ç®¡ç†æŠ€æœ¯é›·è¾¾ä¸­ï¼ŒCilium è¢«è¯„ä¸ºæœ€å€¼å¾—é‡‡ç”¨çš„æŠ€æœ¯ï¼Œå¹¶åœ¨å®ç”¨æ€§å’Œæˆç†Ÿåº¦æ–¹é¢å‡è·å¾—æœ€é«˜åˆ†ã€‚\n- **eBPF å®‰å…¨**ï¼šeBPF åŸºé‡‘ä¼šå‘å¸ƒäº†ä¸¤ä»½é‡è¦ç ”ç©¶æŠ¥å‘Šï¼Œæå‡äº†åŸºäº eBPF éƒ¨ç½²çš„å®‰å…¨æ€§ä¸æ“ä½œæŒ‡å¯¼ï¼š\n  - **eBPF å®‰å…¨å¨èƒæ¨¡å‹**ï¼šè¯¦ç»†é˜è¿°äº† eBPF çš„æ½œåœ¨é£é™©ï¼Œå¹¶æä¾›äº†ç›¸åº”çš„ç¼“è§£ç­–ç•¥ã€‚\n  - **eBPF éªŒè¯å™¨ä»£ç å®¡è®¡**ï¼šå¼ºè°ƒäº†éªŒè¯å™¨åœ¨ä¿éšœ eBPF éƒ¨ç½²å®‰å…¨æ–¹é¢çš„ä½œç”¨ï¼Œå¹¶æå‡ºäº†æ”¹è¿›å»ºè®®ã€‚\n\n## ç”¨æˆ·åé¦ˆä¸åº”ç”¨æ¡ˆä¾‹\n\næ¥è‡ªç”¨æˆ·çš„åé¦ˆå’Œæ¡ˆä¾‹è¿›ä¸€æ­¥å°è¯äº† Cilium åœ¨æ€§èƒ½ã€æˆæœ¬æ•ˆç›Šä»¥åŠåŠŸèƒ½æ–¹é¢çš„ä¼˜åŠ¿ã€‚ç”¨æˆ·æ™®éè®¤ä¸ºï¼ŒCilium æœ‰æ•ˆé™ä½äº†ç½‘ç»œæˆæœ¬å’Œ CPU æ¶ˆè€—ï¼ŒåŒæ—¶æä¾›äº†å“è¶Šçš„æ€§èƒ½å’Œä½å»¶è¿Ÿã€‚æ­¤å¤–ï¼ŒCilium çš„å¯è§‚å¯Ÿæ€§å·¥å…·ï¼ˆå¦‚ Hubbleï¼‰ä»¥åŠç½‘ç»œç­–ç•¥åŠŸèƒ½ä¹Ÿå—åˆ°äº†ç”¨æˆ·çš„å¹¿æ³›å¥½è¯„ã€‚\n\n## æœªæ¥å±•æœ›\n\n![Cilium 2025 å¹´å‘å±•å±•æœ›](f4.svg)\n\nå±•æœ› 2025 å¹´ï¼ŒCilium çš„å‘å±•åŠ¿å¤´å°†æŒç»­å¢å¼ºã€‚å¹³å°å·¥ç¨‹å’Œæ•´åˆè¶‹åŠ¿æ­£åœ¨é‡å¡‘ç»„ç»‡ç®¡ç† Kubernetes ç½‘ç»œçš„æ–¹å¼ï¼Œè€Œ Cilium æ­£å¤„äºè¿™åœºå˜é©çš„æ ¸å¿ƒã€‚æˆ‘ä»¬é¢„è®¡ï¼š\n\n- Cilium å †æ ˆå°†è¿›ä¸€æ­¥æ•´åˆç½‘ç»œåŠŸèƒ½ã€‚\n- Tetragon åœ¨é«˜çº§å®‰å…¨å¯è§‚å¯Ÿæ€§æ–¹é¢çš„åº”ç”¨å°†æ›´åŠ æ™®åŠã€‚\n- Cilium å°†æ›´æ·±å…¥åœ°é›†æˆå¤–éƒ¨å’Œä¼ ç»Ÿå·¥ä½œè´Ÿè½½è‡³ Kubernetes ç¯å¢ƒã€‚\n- Cilium ä¸ä»…ä¼šè¢«å¹¿æ³›ç”¨ä½œ CNIï¼Œæ›´å°†ä½œä¸ºå…¨é¢çš„ Kubernetes ç½‘ç»œè§£å†³æ–¹æ¡ˆã€‚\n- Tetragon å°†ä¸æ–­è¿›åŒ–ï¼Œæä¾›æ›´å¼ºå¤§çš„æ£€æµ‹èƒ½åŠ›å’Œæ›´å…·è¡ŒåŠ¨åŠ›çš„å¨èƒå“åº”æ–¹æ¡ˆã€‚\n- Cilium çš„æ··åˆäº‘å’Œå¤šäº‘é›†æˆå°†åœ¨ 2025 å¹´å‘æŒ¥æ›´å¤§çš„ä½œç”¨ã€‚\n\nCilium å¯¹å¤–éƒ¨å·¥ä½œè´Ÿè½½ã€4 å±‚è´Ÿè½½å‡è¡¡ä»¥åŠ BGP å¢å¼ºåŠŸèƒ½çš„æ”¯æŒå°†å¼¥åˆ Kubernetes åŸç”Ÿç³»ç»Ÿä¸ä¼ ç»Ÿç³»ç»Ÿä¹‹é—´çš„é¸¿æ²Ÿã€‚\n\n## æ€»ç»“\n\nCilium é¡¹ç›®åœ¨ 2024 å¹´å–å¾—äº†å·¨å¤§æˆåŠŸï¼Œç¡®ç«‹äº†å…¶åœ¨ Kubernetes ç½‘ç»œé¢†åŸŸçš„é¢†å¯¼åœ°ä½ã€‚Cilium ä¸ä»…ä»…æ˜¯ä¸€ä¸ª CNIï¼Œæ›´æ˜¯ä¸€ä¸ªæ¶µç›–ç½‘ç»œã€å¯è§‚å¯Ÿæ€§å’Œå®‰å…¨æ€§çš„ç»¼åˆ Kubernetes ç½‘ç»œè§£å†³æ–¹æ¡ˆã€‚éšç€äº‘åŸç”ŸæŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼ŒCilium å°†ç»§ç»­å¼•é¢†è¡Œä¸šåˆ›æ–°ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¼ºå¤§ã€æ›´å¯é çš„äº‘åŸç”Ÿç½‘ç»œè§£å†³æ–¹æ¡ˆã€‚\n\n**æ³¨**ï¼šæœ¬æ–‡ä¸­çš„å›¾ç‰‡åˆ©ç”¨ [napkin.ai](https:\/\/www.napkin.ai\/) åˆ¶ä½œã€‚\n', '\/blog\/cilium-annual-report-2024\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">Cilium 2024 å¹´åº¦æŠ¥å‘Šå›é¡¾æˆå°±ä¸æŠ€æœ¯åˆ›æ–°ï¼Œå±•æœ›å…¶åœ¨äº‘åŸç”Ÿç½‘ç»œä¸å®‰å…¨é¢†åŸŸçš„å‘å±•ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
          <div class="col-12">
 
 
 
 
 
 
 
 
 
 
 
 <nav aria-label="Page navigation">
   <ul class="pagination justify-content-center">
     
     
     
     
     
     
       
       
       
         
         
         
           
           
             
           
         
         
         
       
       
       
       
         <li class="page-item page-item active ">
           <a href="/blog/" class="page-link">
             1
           </a>
         </li>
       
     
       
       
       
         
         
         
           
           
             
           
         
         
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/2/" class="page-link">
             2
           </a>
         </li>
       
     
       
       
       
         
         
         
           
           
             
           
         
         
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/3/" class="page-link">
             3
           </a>
         </li>
       
     
       
       
       
         
         
         
           
           
             
           
         
         
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/4/" class="page-link">
             4
           </a>
         </li>
       
     
       
       
       
         
         
         
           
           
             
           
         
         
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/5/" class="page-link">
             5
           </a>
         </li>
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
       
       
       
         
         
         
           
           
         
         
         
       
       
       
       
     
     
     
     <li class="page-item">
       <a href="/blog/page/2/" class="page-link">
         Â»
       </a>
     </li>
     
     
     
     <li class="page-item">
       <a class="page-link" href="/blog/page/30/">
         Â»Â»
       </a>
     </li>
     
   </ul>
 </nav>
 
</div>

        </div>
      </div>
      <!-- sidebar -->
      <aside class="col-lg-4 order-1 order-lg-2 d-none d-sm-block">
          <div class="sidebar">
          <!-- categories -->
<div class="blog-categories mb-4">
  <p class="sidebar-title">
      ä¸“æ 
  </p>
  
  
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
  
  <div class="bg-gray">
      
        <a href="/categories/istio" class="sidebar-item">
            <span>Istio</span>
            <span>(87)</span>
        </a>
      
        <a href="/categories/service-mesh" class="sidebar-item">
            <span>Service Mesh</span>
            <span>(42)</span>
        </a>
      
        <a href="/categories/kubernetes" class="sidebar-item">
            <span>Kubernetes</span>
            <span>(25)</span>
        </a>
      
        <a href="/categories/%e9%9a%8f%e7%ac%94" class="sidebar-item">
            <span>éšç¬”</span>
            <span>(22)</span>
        </a>
      
        <a href="/categories/%e5%85%b6%e4%bb%96" class="sidebar-item">
            <span>å…¶ä»–</span>
            <span>(21)</span>
        </a>
      
        <a href="/categories/envoy" class="sidebar-item">
            <span>Envoy</span>
            <span>(18)</span>
        </a>
      
        <a href="/categories/%e4%b8%9a%e6%80%81" class="sidebar-item">
            <span>ä¸šæ€</span>
            <span>(17)</span>
        </a>
      
        <a href="/categories/%e4%ba%91%e5%8e%9f%e7%94%9f" class="sidebar-item">
            <span>äº‘åŸç”Ÿ</span>
            <span>(14)</span>
        </a>
      
        <a href="/categories/ai" class="sidebar-item">
            <span>AI</span>
            <span>(10)</span>
        </a>
      
        <a href="/categories/%e5%ae%89%e5%85%a8" class="sidebar-item">
            <span>å®‰å…¨</span>
            <span>(9)</span>
        </a>
      
        <a href="/categories/%e5%bc%80%e6%ba%90" class="sidebar-item">
            <span>å¼€æº</span>
            <span>(9)</span>
        </a>
      
        <a href="/categories/%e5%b7%a5%e5%85%b7" class="sidebar-item">
            <span>å·¥å…·</span>
            <span>(8)</span>
        </a>
      
        <a href="/categories/%e6%97%85%e8%a1%8c" class="sidebar-item">
            <span>æ—…è¡Œ</span>
            <span>(8)</span>
        </a>
      
        <a href="/categories/%e5%8f%af%e8%a7%82%e6%b5%8b%e6%80%a7" class="sidebar-item">
            <span>å¯è§‚æµ‹æ€§</span>
            <span>(6)</span>
        </a>
  </div>
</div>

<div class="blog-categories mb-4">
  <p class="sidebar-title">
      èµ„æ–™
  </p>
  
  
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
  
  <div class="bg-gray">
      
        <a href="/categories/%e5%87%ba%e7%89%88%e7%89%a9" class="sidebar-item">
            <span>å‡ºç‰ˆç‰©</span>
            <span>(8)</span>
        </a>
      
        <a href="/categories/%e7%bf%bb%e8%af%91%e7%94%b5%e5%ad%90%e4%b9%a6" class="sidebar-item">
            <span>ç¿»è¯‘ç”µå­ä¹¦</span>
            <span>(8)</span>
        </a>
      
        <a href="/categories/%e7%bf%bb%e8%af%91%e6%96%87%e6%a1%a3" class="sidebar-item">
            <span>ç¿»è¯‘æ–‡æ¡£</span>
            <span>(7)</span>
        </a>
      
        <a href="/categories/%e7%bf%bb%e8%af%91%e5%9b%be%e4%b9%a6" class="sidebar-item">
            <span>ç¿»è¯‘å›¾ä¹¦</span>
            <span>(6)</span>
        </a>
      
        <a href="/categories/%e5%8e%9f%e5%88%9b%e5%9b%be%e4%b9%a6" class="sidebar-item">
            <span>åŸåˆ›å›¾ä¹¦</span>
            <span>(2)</span>
        </a>
      
        <a href="/categories/%e6%95%99%e7%a8%8b%e6%89%8b%e5%86%8c" class="sidebar-item">
            <span>æ•™ç¨‹æ‰‹å†Œ</span>
            <span>(2)</span>
        </a>
  </div>
</div>





          </div>
      </aside>
      <!-- /sidebar -->
    </div>
  </div>
</section>




<footer>
  
  <div class="footer bg-footer section-sm border-bottom overlay ">
    <div class="container-xl">
      <div class="row">
        <div class="col col-xl-4 d-sm-none mb-2 mb-lg-0 d-xl-block d-none">
          
          <p class="h3 text-white mb-4 text-uppercase">è”ç³»</p>
          
          <ul class="list-unstyled">
            
            
            <li class="mb-4 text-color">å¾®ä¿¡å…¬ä¼—å·</li>
            
            
            <li class="mb-4"><img src="/images/servicemesher-wechat.webp" width="118px" height="118px" alt="footer image"></li>
            
            
            
          
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">åšå®¢</p>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/blog/kubecon-eu-2025-london-recap/">KubeCon EU 2025 å‚ä¼šæŠ¥å‘Šï¼šå¡‘é€ äº‘åŸç”Ÿæ ¼å±€çš„æ´å¯Ÿä¸è¶‹åŠ¿</a></li>
            
            <li class="mb-3"><a class="text-color" href="/blog/mastering-github-copilot-for-open-source/">æ¢ç´¢ GitHub Copilotï¼šå½“ AI æˆä¸ºä½ çš„è´´èº«ç¼–ç åŠ©æ‰‹</a></li>
            
            <li class="mb-3"><a class="text-color" href="/blog/beyond-sidecar/">è¶…è¶Š Sidecarï¼šæ·±å…¥è§£æ Istio Ambient Mode çš„æµé‡æœºåˆ¶ä¸æˆæœ¬æ•ˆç›Š</a></li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">é“¾æ¥</p>
          <ul class="list-unstyled">
            
            <li class="mb-3">
              <a class="text-color" href="https://istio.io/latest/zh/" target="_blank" rel="noopener noreferrer">
                  Istio æœåŠ¡ç½‘æ ¼
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://tetrate.io/?jimmysong" target="_blank" rel="noopener noreferrer">
                  Tetrate å…¬å¸
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://space.bilibili.com/515485124" target="_blank" rel="noopener noreferrer">
                  äº‘åŸç”Ÿå­¦é™¢|Bilibili
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="/awesome-cloud-native/" target="_blank" rel="noopener noreferrer">
                  äº‘åŸç”Ÿå¼€æºé¡¹ç›®å¤§å…¨
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://cloudnativecn.com" target="_blank" rel="noopener noreferrer">
                  äº‘åŸç”Ÿç¤¾åŒºï¼ˆä¸­å›½ï¼‰
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">æ•™ç¨‹</p>
          <ul class="list-unstyled">
            
            <li class="mb-3">
              <a class="text-color" href="https://academy.tetrate.io/courses/envoy-fundamentals-zh" target="_blank" rel="noopener noreferrer">
                  Envoy åŸºç¡€æ•™ç¨‹
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://academy.tetrate.io/courses/istio-fundamentals-zh" target="_blank" rel="noopener noreferrer">
                  Istio åŸºç¡€æ•™ç¨‹
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="/book/kubernetes-handbook/" >
                  Kubernetes åŸºç¡€æ•™ç¨‹
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="/book/envoy-made-simple/" >
                  ç®€æ˜ Envoy æ•™ç¨‹
                  
              </a>
            </li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">é€šçŸ¥</p>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/notice/kcd-beijing-2025/">KCD Beijing 2025 - æäº¤è®®é¢˜åŠå‚ä¼šæŠ¥å</a></li>
            
            <li class="mb-3"><a class="text-color" href="/notice/cloud-native-community-domain-migration/">äº‘åŸç”Ÿç¤¾åŒºç½‘ç«™åŸŸåå˜æ›´é€šçŸ¥</a></li>
            
            <li class="mb-3"><a class="text-color" href="/notice/nist-sp-800-233-service-mesh-proxy-models/">èµ„æ–™åˆ†äº«ï¼šäº‘åŸç”Ÿåº”ç”¨æœåŠ¡ç½‘æ ¼ä»£ç†æ¨¡å‹çš„å¨èƒåˆ†ææŒ‡å—</a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>

  
  <div class="copyright py-4 bg-footer overlay">
    <div class="container-xl">
      <div class="row">
        <div class="col-sm-6 text-sm-left text-center">
          <p class="mb-0 text-color">Â© 2017-2025 Jimmy Song ä¿ç•™æ‰€æœ‰æƒåˆ©</p>
        </div>
        <div class="col-sm-6 text-sm-right text-center">
          <ul class="list-inline">
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://twitter.com/jimmysongio" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-x-twitter text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="/contact/" >
                    <i class="fa-brands fa-weixin text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://github.com/rootsongjc" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-github text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://linkedin.com/in/jimmysongio" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-linkedin text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="mailto:rootsongjc@gmail.com" >
                    <i class="fa-solid fa-envelope text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="/blog/index.xml" >
                    <i class="fa-solid fa-rss text-white"></i>
              </a>
            </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<!-- JS Plugins -->

<script src="/plugins/popper/popper.min.js"></script>

<script src="/plugins/bootstrap/bootstrap.min.js"></script>

<script src="/plugins/slick/slick.min.js"></script>

<script src="/plugins/filterizr/jquery.filterizr.min.js"></script>

<script src="/plugins/search/fuse.min.js"></script>

<script src="/plugins/search/mark.js"></script>

<script src="/plugins/hex_md5/hex_md5.js"></script>

<script src="/plugins/anchor/anchor.min.js"></script>

<script src="/plugins/tocbot/tocbot.min.js"></script>

<script src="/plugins/bigger-picture/bigger-picture.min.js"></script>


<!-- Main Script -->

<script src="/js/script.min.f94c22b1d478bfc9e2e0a7d954429e47b7e6d36edd423758482e04154ae1842e.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-ESY906ZWZ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ESY906ZWZ0');
</script>


<!-- Baidu analysis -->
<meta name="baidu-site-verification" content="g8IYR9SNLF" />





<script>
    anchors.add();
</script>






<script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script>










<script src="/js/wowchemy-search.min.7a37268e7bbe4a9160c2e4c33b749816.js" type="module"></script>
<script id="search-hit-fuse-template" type="text/x-template">
  <div class="search-hit" id="summary-{{key}}">
    <div class="search-hit-content border-bottom">
      <div class="search-hit-name">
        <div class='search-hit-link'><a href="{{relpermalink}}">{{title}}</a></div>
        <div class="search-hit-metadata d-flex">
            <span class="mr-1"><i class="fa-regular fa-calendar mr-1"></i>{{date}}</span>
            <span class="mr-1"><i class="fa-regular fa-folder-open mr-1"></i>{{section}}</span>
            <span class="d-sm-block d-none"><i class="fa-solid fa-link mr-1"></i>{{relpermalink}}</span>
        </div>
        <div class="search-hit-description">{{snippet}}</div>
      </div>
    </div>
  </div>
</script>



    </body>
</html>
