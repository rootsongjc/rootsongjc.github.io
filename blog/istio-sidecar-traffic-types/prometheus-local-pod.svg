<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="1193" height="852" version="1.1" viewBox="-659 -52 1193 852"><defs><font-face x-height="517" ascent="975.006" cap-height="714" descent="-216.995" font-family="Helvetica Neue" font-size="20" font-weight="700" panose-1="2 0 8 3 0 0 0 9 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Bold"/></font-face-src></font-face><font-face x-height="517" ascent="975.006" cap-height="714" descent="-216.995" font-family="Helvetica Neue" font-size="16" font-weight="500" panose-1="2 11 6 4 2 2 2 2 2 4" slope="0" underline-position="-75" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Medium"/></font-face-src></font-face><font-face x-height="517" ascent="975.006" cap-height="714" descent="-216.995" font-family="Helvetica Neue" font-size="16" font-weight="700" panose-1="2 0 8 3 0 0 0 9 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Bold"/></font-face-src></font-face><marker id="FilledArrow_Marker" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="6" markerUnits="strokeWidth" markerWidth="7" orient="auto" overflow="visible" viewBox="-1 -3 7 6"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 4.8 0 L 0 -1.8 L 0 1.8 Z"/></g></marker><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="16" font-weight="400" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face x-height="514" ascent="966.995" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="16" font-weight="300" panose-1="2 11 4 3 2 2 2 2 2 4" slope="0" underline-position="-75" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Thin"/></font-face-src></font-face></defs><metadata>Produced by OmniGraffle 7.11.5</metadata><g id="promethues-local-pod" fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>promethues-local-pod</title><rect width="1193" height="852" x="-659" y="-52" fill="#fff"/><g id="promethues-local-pod: 类型1"><title>类型1</title><g id="Graphic_71"><rect width="1190.551" height="850.394" x="-657.638" y="-51.083" fill="#fff"/><rect width="1190.551" height="850.394" x="-657.638" y="-51.083" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="Graphic_34"><rect width="846.142" height="747.587" x="-348.661" y=".321" fill="#ccc" fill-opacity=".298"/><rect width="846.142" height="747.587" x="-348.661" y=".321" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(-343.66142 718.32734)"><tspan x="740.602" y="20" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Local Pod</tspan></text></g><g id="Graphic_35"><rect width="224.5" height="53" x="-256.535" y="28.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="28.346" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 45.1144)"><tspan x="54.938" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="500">PREROUTING</tspan></text></g><g id="Graphic_36"><rect width="224.5" height="53" x="-256.535" y="117.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="117.346" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 134.1144)"><tspan x="83.394" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="500">INPUT</tspan></text></g><g id="Graphic_37"><rect width="224.5" height="53" x="-256.535" y="206.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="206.346" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 223.1144)"><tspan x="74.794" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="500">OUTPUT</tspan></text></g><g id="Graphic_38"><rect width="224.5" height="53" x="-256.535" y="295.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="295.346" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 312.1144)"><tspan x="49.602" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="500">POSTROUTING</tspan></text></g><g id="Graphic_39"><rect width="224.5" height="53" x="-256.535" y="384.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="384.346" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 401.1144)"><tspan x="45.754" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="500">ISTIO_INBOUND</tspan></text></g><g id="Graphic_40"><rect width="224.5" height="53" x="-256.535" y="473.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="473.346" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 490.1144)"><tspan x="30.93" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="500">ISTIO_IN_REDIRECT</tspan></text></g><g id="Graphic_41"><rect width="224.5" height="53" x="-256.535" y="568.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="568.346" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 585.1144)"><tspan x="50.338" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="500">ISTIO_OUTPUT</tspan></text></g><g id="Graphic_42"><rect width="224.5" height="53" x="-256.535" y="663.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="663.346" stroke="#a5a5a5" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 680.1144)"><tspan x="42.93" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="500">ISTIO_REDIRECT</tspan></text></g><g id="Graphic_43"><rect width="165" height="84" x="-609.449" y="332.114" fill="#ccc"/><rect width="165" height="84" x="-609.449" y="332.114" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(-584.7288 361.8241)"><tspan x="0" y="20" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Prometheus</tspan></text></g><g id="Graphic_44"><rect width="145.99" height="615" x="111.969" y="66.614" fill="#ccc"/><rect width="145.99" height="615" x="111.969" y="66.614" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(148.6733 71.61417)"><tspan x="0" y="20" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Sidecar</tspan> <tspan x="9.24" y="44.58" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Proxy</tspan></text></g><g id="Graphic_45"><rect width="121" height="615" x="327.402" y="66.614" fill="#ccc"/><rect width="121" height="615" x="327.402" y="66.614" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(334.05158 349.53403)"><tspan x="0" y="20" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Application</tspan> <tspan x="7" y="44.58" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Container</tspan></text></g><g id="Graphic_75"><title>Rectangle</title><rect width="121" height="350.067" x="124.345" y="295.346" fill="#fff" fill-opacity=".7"/><rect width="121" height="350.067" x="124.345" y="295.346" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(129.34534 300.34646)"><tspan x="32.964" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">envoy</tspan> <tspan x="24.98" y="35.464" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">process</tspan></text></g><g id="Graphic_46"><rect width="95.191" height="121.266" x="137.368" y="357.165" fill="#0a55a8"/><rect width="95.191" height="121.266" x="137.368" y="357.165" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(144.3473 388.60226)"><tspan x="0" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Port 15006</tspan> <tspan x="9.36" y="35.464" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Inbound</tspan> <tspan x="10.696" y="54.928" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Handler</tspan></text></g><g id="Graphic_47"><rect width="95.191" height="121.266" x="137.25" y="500.08" fill="#0a55a8"/><rect width="95.191" height="121.266" x="137.25" y="500.08" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(144.22934 531.5172)"><tspan x="0" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Port 15001</tspan> <tspan x="2.68" y="35.464" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Outbound</tspan> <tspan x="10.696" y="54.928" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Handler</tspan></text></g><g id="Line_48"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -526.9488 332.11417 L -526.9488 58.51233 L -269.43544 58.51233"/></g><g id="Line_49"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -32.035435 54.84646 L 39.51049 54.84646 L 39.51049 413.85827 L -19.135435 413.85827"/></g><g id="Graphic_56"><path fill="#333" d="M -447.88294 44.288334 L -447.88294 44.288334 C -442.66495 44.288334 -438.43494 48.51835 -438.43494 53.736334 L -438.43494 63.28833 C -438.43494 68.50632 -442.66495 72.73633 -447.88294 72.73633 L -447.88294 72.73633 C -453.10093 72.73633 -457.33094 68.50632 -457.33094 63.28833 L -457.33094 53.736334 C -457.33094 48.51835 -453.10093 44.288334 -447.88294 44.288334 Z"/><text fill="#fff" transform="translate(-452.33094 49.288334)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">1</tspan></text></g><g id="Graphic_57"><path fill="#333" d="M 3.509641 40.62246 L 3.509641 40.62246 C 8.727627 40.62246 12.957641 44.85247 12.957641 50.07046 L 12.957641 59.622456 C 12.957641 64.84044 8.727627 69.07046 3.509641 69.07046 L 3.509641 69.07046 C -1.7083454 69.07046 -5.938359 64.84044 -5.938359 59.622456 L -5.938359 50.07046 C -5.938359 44.85247 -1.7083454 40.62246 3.509641 40.62246 Z"/><text fill="#fff" transform="translate(-.9383592 45.62246)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">2</tspan></text></g><g id="Graphic_65"><text fill="#000" transform="translate(-604.4488 5.320865)"><tspan x="0" y="20" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Prometheus -&gt; Local Pod</tspan></text></g><g id="Line_66"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -256.53544 410.84646 L -279 410.84646 L -279 143 L -269.43544 143"/></g><g id="Graphic_67"><path fill="#333" d="M -279 318.62432 L -279 318.62432 C -273.782 318.62432 -269.552 322.85434 -269.552 328.07232 L -269.552 337.62432 C -269.552 342.8423 -273.782 347.07232 -279 347.07232 L -279 347.07232 C -284.218 347.07232 -288.448 342.8423 -288.448 337.62432 L -288.448 328.07232 C -288.448 322.85434 -284.218 318.62432 -279 318.62432 Z"/><text fill="#fff" transform="translate(-283.448 323.62432)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">3</tspan></text></g><g id="Graphic_74"><title>Rectangle</title><rect width="121" height="126.036" x="124.463" y="133.311" fill="#fff" fill-opacity=".7"/><rect width="121" height="126.036" x="124.463" y="133.311" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(129.4633 176.86447)"><tspan x="13.892" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">pilot-agent</tspan> <tspan x="24.98" y="35.464" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">process</tspan></text></g><g id="Line_76"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -32.035435 143.84646 L 72.72727 143.84646 L 72.72727 34.901004 L 299.5 34.901004 L 299.5 374.11417 L 314.50158 374.11417"/></g><g id="Graphic_77"><path fill="#333" d="M 4.3817457 129.62246 L 4.3817457 129.62246 C 9.599732 129.62246 13.829746 133.85247 13.829746 139.07046 L 13.829746 148.62246 C 13.829746 153.84044 9.599732 158.07046 4.3817457 158.07046 L 4.3817457 158.07046 C -.8362406 158.07046 -5.066254 153.84044 -5.066254 148.62246 L -5.066254 139.07046 C -5.066254 133.85247 -.8362406 129.62246 4.3817457 129.62246 Z"/><text fill="#fff" transform="translate(-.06625433 134.62246)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">4</tspan></text></g><g id="Graphic_78"><text fill="#a5a5a5" transform="translate(-604.4488 705.9793)"><tspan x="2.216" y="15" fill="#a5a5a5" font-family="Helvetica Neue" font-size="16" font-weight="300">https://jimmysong.io</tspan> <tspan x="0" y="33.464" fill="#a5a5a5" font-family="Helvetica Neue" font-size="16" font-weight="300">Version: 2022-09-08</tspan></text></g></g></g></svg>