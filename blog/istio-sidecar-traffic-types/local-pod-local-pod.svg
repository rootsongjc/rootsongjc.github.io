<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="1192" height="851" version="1.1" viewBox="-518 -27 1192 851"><defs><font-face x-height="517" ascent="975.006" cap-height="714" descent="-216.995" font-family="Helvetica Neue" font-size="20" font-weight="700" panose-1="2 0 8 3 0 0 0 9 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Bold"/></font-face-src></font-face><font-face x-height="517" ascent="975.006" cap-height="714" descent="-216.995" font-family="Helvetica Neue" font-size="16" font-weight="700" panose-1="2 0 8 3 0 0 0 9 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Bold"/></font-face-src></font-face><marker id="FilledArrow_Marker" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="6" markerUnits="strokeWidth" markerWidth="7" orient="auto" overflow="visible" viewBox="-1 -3 7 6"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 4.8 0 L 0 -1.8 L 0 1.8 Z"/></g></marker><font-face x-height="517" ascent="951.996" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="16" font-weight="400" panose-1="2 0 5 3 0 0 0 2 0 4" slope="0" underline-position="-100" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue"/></font-face-src></font-face><font-face x-height="514" ascent="966.995" cap-height="714" descent="-212.997" font-family="Helvetica Neue" font-size="19" font-weight="300" panose-1="2 11 4 3 2 2 2 2 2 4" slope="0" underline-position="-75" underline-thickness="50" units-per-em="1000"><font-face-src><font-face-name name="HelveticaNeue-Thin"/></font-face-src></font-face></defs><metadata>Produced by OmniGraffle 7.11.5</metadata><g id="9__local-pod-local-pod" fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>9. local-pod-local-pod</title><rect width="1192" height="851" x="-518" y="-27" fill="#fff"/><g id="9__local-pod-local-pod: 类型1"><title>类型1</title><g id="Graphic_83"><rect width="1190.551" height="850.394" x="-517.323" y="-26.929" fill="#fff"/></g><g id="Graphic_34"><rect width="846.142" height="747.587" x="-348.661" y=".321" fill="#ccc" fill-opacity=".298"/><rect width="846.142" height="747.587" x="-348.661" y=".321" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(-343.66142 718.32734)"><tspan x="740.602" y="20" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Local Pod</tspan></text></g><g id="Graphic_35"><rect width="224.5" height="53" x="-256.535" y="28.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="28.346" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 45.1144)"><tspan x="53.778" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">PREROUTING</tspan></text></g><g id="Graphic_36"><rect width="224.5" height="53" x="-256.535" y="117.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="117.346" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 134.1144)"><tspan x="82.81" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">INPUT</tspan></text></g><g id="Graphic_37"><rect width="224.5" height="53" x="-256.535" y="206.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="206.346" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 223.1144)"><tspan x="74.058" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">OUTPUT</tspan></text></g><g id="Graphic_38"><rect width="224.5" height="53" x="-256.535" y="295.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="295.346" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 312.1144)"><tspan x="48.434" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">POSTROUTING</tspan></text></g><g id="Graphic_39"><rect width="224.5" height="53" x="-256.535" y="384.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="384.346" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 401.1144)"><tspan x="44.298" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">ISTIO_INBOUND</tspan></text></g><g id="Graphic_40"><rect width="224.5" height="53" x="-256.535" y="473.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="473.346" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 490.1144)"><tspan x="28.914" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">ISTIO_IN_REDIRECT</tspan></text></g><g id="Graphic_41"><rect width="224.5" height="53" x="-256.535" y="568.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="568.346" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 585.1144)"><tspan x="49.034" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">ISTIO_OUTPUT</tspan></text></g><g id="Graphic_42"><rect width="224.5" height="53" x="-256.535" y="663.346" fill="#0a55a8"/><rect width="224.5" height="53" x="-256.535" y="663.346" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(-251.53544 680.1144)"><tspan x="41.202" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">ISTIO_REDIRECT</tspan></text></g><g id="Graphic_44"><rect width="145.99" height="615" x="111.969" y="66.614" fill="#ccc"/><rect width="145.99" height="615" x="111.969" y="66.614" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(148.6733 71.61417)"><tspan x="0" y="20" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Sidecar</tspan> <tspan x="9.24" y="44.58" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Proxy</tspan></text></g><g id="Graphic_45"><rect width="121" height="615" x="327.402" y="66.614" fill="#ccc"/><rect width="121" height="615" x="327.402" y="66.614" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(334.05158 349.53403)"><tspan x="0" y="20" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Application</tspan> <tspan x="7" y="44.58" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Container</tspan></text></g><g id="Line_52"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M 327.40158 206.34646 L 280.4054 206.34646 L 280.4054 54.72973 L -.9820927 54.72973 L -.9820927 232.84646 L -19.135435 232.84646"/></g><g id="Line_53"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -256.53544 232.84646 L -297.807 232.84646 L -297.807 596.65215 L -269.43544 596.65215"/></g><g id="Line_54"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -32.035435 587 L 68 587 L 68 689.84646 L -19.135435 689.84646"/></g><g id="Graphic_60"><path fill="#333" d="M -.9820927 113.62796 L -.9820927 113.62796 C 4.2358936 113.62796 8.465907 117.85798 8.465907 123.07596 L 8.465907 132.62796 C 8.465907 137.84595 4.2358936 142.07596 -.9820927 142.07596 L -.9820927 142.07596 C -6.200079 142.07596 -10.430093 137.84595 -10.430093 132.62796 L -10.430093 123.07596 C -10.430093 117.85798 -6.200079 113.62796 -.9820927 113.62796 Z"/><text fill="#fff" transform="translate(-5.430093 118.62796)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">1</tspan></text></g><g id="Graphic_61"><path fill="#333" d="M -297.807 376.27512 L -297.807 376.27512 C -292.58903 376.27512 -288.35902 380.50514 -288.35902 385.72312 L -288.35902 395.2751 C -288.35902 400.4931 -292.58903 404.7231 -297.807 404.7231 L -297.807 404.7231 C -303.025 404.7231 -307.255 400.4931 -307.255 395.2751 L -307.255 385.72312 C -307.255 380.50514 -303.025 376.27512 -297.807 376.27512 Z"/><text fill="#fff" transform="translate(-302.255 381.27512)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">2</tspan></text></g><g id="Graphic_62"><path fill="#333" d="M 68 606.71164 L 68 606.71164 C 73.21799 606.71164 77.448 610.94165 77.448 616.15964 L 77.448 625.71164 C 77.448 630.9296 73.21799 635.15964 68 635.15964 L 68 635.15964 C 62.78201 635.15964 58.552 630.9296 58.552 625.71164 L 58.552 616.15964 C 58.552 610.94165 62.78201 606.71164 68 606.71164 Z"/><text fill="#fff" transform="translate(63.552 611.71164)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">3</tspan></text></g><g id="Graphic_64"><rect width="57.696" height="29.464" x="39.152" y="638.711" fill="#f0f0f0"/><text fill="#000" transform="translate(44.152 643.7113)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">Rule 9</tspan></text></g><g id="Graphic_65"><text fill="#000" transform="translate(-343.66142 778.8583)"><tspan x="0" y="20" fill="#000" font-family="Helvetica Neue" font-size="20" font-weight="700">Local Pod -&gt; Local Pod</tspan></text></g><g id="Line_68"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M 124.40432 491.86433 L 85.65217 491.86433 L 85.65217 287.3913 L -144.28544 287.3913 L -144.28544 272.24646"/></g><g id="Graphic_69"><path fill="#333" d="M 85.65217 313.75078 L 85.65217 313.75078 C 90.87016 313.75078 95.10017 317.9808 95.10017 323.19878 L 95.10017 332.75077 C 95.10017 337.96876 90.87016 342.19877 85.65217 342.19877 L 85.65217 342.19877 C 80.43419 342.19877 76.20417 337.96876 76.20417 332.75077 L 76.20417 323.19878 C 76.20417 317.9808 80.43419 313.75078 85.65217 313.75078 Z"/><text fill="#fff" transform="translate(81.20417 318.75078)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">5</tspan></text></g><g id="Graphic_70"><path fill="#333" d="M -297.807 465.73745 L -297.807 465.73745 C -292.58903 465.73745 -288.35902 469.96747 -288.35902 475.18545 L -288.35902 484.73745 C -288.35902 489.95544 -292.58903 494.18545 -297.807 494.18545 L -297.807 494.18545 C -303.025 494.18545 -307.255 489.95544 -307.255 484.73745 L -307.255 475.18545 C -307.255 469.96747 -303.025 465.73745 -297.807 465.73745 Z"/><text fill="#fff" transform="translate(-302.255 470.73745)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">6</tspan></text></g><g id="Line_71"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -32.035435 594.84646 L 39.152 594.84646 L 39.152 515.34653 L -19.135435 515.34653"/></g><g id="Graphic_72"><path fill="#333" d="M 39.152 521.20076 L 39.152 521.20076 C 44.369986 521.20076 48.6 525.4308 48.6 530.64876 L 48.6 540.20076 C 48.6 545.41875 44.369986 549.64876 39.152 549.64876 L 39.152 549.64876 C 33.934014 549.64876 29.704 545.41875 29.704 540.20076 L 29.704 530.64876 C 29.704 525.4308 33.934014 521.20076 39.152 521.20076 Z"/><text fill="#fff" transform="translate(34.704 526.20076)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">7</tspan></text></g><g id="Graphic_73"><rect width="57.696" height="29.464" x="10.304" y="553.133" fill="#f0f0f0"/><text fill="#000" transform="translate(15.304 558.1327)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">Rule 2</tspan></text></g><g id="Graphic_76"><path fill="#333" d="M 85.65217 377.00816 L 85.65217 377.00816 C 90.87016 377.00816 95.10017 381.2382 95.10017 386.45616 L 95.10017 396.00816 C 95.10017 401.22615 90.87016 405.45616 85.65217 405.45616 L 85.65217 405.45616 C 80.43419 405.45616 76.20417 401.22615 76.20417 396.00816 L 76.20417 386.45616 C 76.20417 381.2382 80.43419 377.00816 85.65217 377.00816 Z"/><text fill="#fff" transform="translate(81.20417 382.00816)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">9</tspan></text></g><g id="Graphic_77"><path fill="#333" d="M -297.807 528.1173 L -297.807 528.1173 C -290.13247 528.1173 -283.91102 534.33874 -283.91102 542.0133 L -283.91102 542.6693 C -283.91102 550.34384 -290.13247 556.5653 -297.807 556.5653 L -297.807 556.5653 C -305.48157 556.5653 -311.703 550.34384 -311.703 542.6693 L -311.703 542.0133 C -311.703 534.33874 -305.48157 528.1173 -297.807 528.1173 Z"/><text fill="#fff" transform="translate(-306.703 533.1173)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">10</tspan></text></g><g id="Line_78"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -32.035435 606.71164 L .6993007 606.71164 L .6993007 311.29944 L -19.135435 311.29944"/></g><g id="Graphic_79"><path fill="#333" d="M .6993007 421.75377 L .6993007 421.75377 C 8.37385 421.75377 14.5953 427.9752 14.5953 435.64977 L 14.5953 436.30577 C 14.5953 443.9803 8.37385 450.20177 .6993007 450.20177 L .6993007 450.20177 C -6.975248 450.20177 -13.1967 443.9803 -13.1967 436.30577 L -13.1967 435.64977 C -13.1967 427.9752 -6.975248 421.75377 .6993007 421.75377 Z"/><text fill="#fff" transform="translate(-8.196699 426.75377)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">11</tspan></text></g><g id="Graphic_80"><rect width="53.248" height="29.464" x="-25.925" y="450.214" fill="#f0f0f0"/><text fill="#000" transform="translate(-20.924699 455.21437)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">Rule1</tspan></text></g><g id="Graphic_84"><text fill="#000" fill-opacity=".5" transform="translate(160.94932 780.8873)"><tspan x="0" y="18" fill="#000" fill-opacity=".5" font-family="Helvetica Neue" font-size="19" font-weight="300">https://jimmysong.io Version: 2022-08-08</tspan></text></g><g id="Graphic_88"><title>Rectangle</title><rect width="121" height="350.067" x="124.404" y="316.831" fill="#fff" fill-opacity=".702"/><rect width="121" height="350.067" x="124.404" y="316.831" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(129.40432 321.83087)"><tspan x="32.964" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">envoy</tspan> <tspan x="24.98" y="35.464" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">process</tspan></text></g><g id="Graphic_87"><rect width="95.191" height="121.266" x="137.427" y="378.65" fill="#0a55a8"/><rect width="95.191" height="121.266" x="137.427" y="378.65" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(144.40627 410.08667)"><tspan x="0" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Port 15006</tspan> <tspan x="9.36" y="35.464" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Inbound</tspan> <tspan x="10.696" y="54.928" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Handler</tspan></text></g><g id="Graphic_86"><rect width="95.191" height="121.266" x="137.309" y="521.565" fill="#0a55a8"/><rect width="95.191" height="121.266" x="137.309" y="521.565" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#fff" transform="translate(144.28832 553.0016)"><tspan x="0" y="16" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Port 15001</tspan> <tspan x="2.68" y="35.464" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Outbound</tspan> <tspan x="10.696" y="54.928" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="700">Handler</tspan></text></g><g id="Graphic_85"><title>Rectangle</title><rect width="121" height="126.036" x="124.522" y="154.795" fill="#fff" fill-opacity=".702"/><rect width="121" height="126.036" x="124.522" y="154.795" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(129.52228 198.34888)"><tspan x="13.892" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">pilot-agent</tspan> <tspan x="24.98" y="35.464" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="700">process</tspan></text></g><g id="Line_81"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -32.035435 321.84646 L 60.21747 321.84646 L 60.21747 28.346457 L 302.0784 28.346457 L 302.0784 335.9155 L 314.50158 335.9155"/></g><g id="Graphic_82"><path fill="#333" d="M 60.21747 161.84256 L 60.21747 161.84256 C 67.89202 161.84256 74.11347 168.06402 74.11347 175.73856 L 74.11347 176.39456 C 74.11347 184.06911 67.89202 190.29056 60.21747 190.29056 L 60.21747 190.29056 C 52.542924 190.29056 46.321473 184.06911 46.321473 176.39456 L 46.321473 175.73856 C 46.321473 168.06402 52.542924 161.84256 60.21747 161.84256 Z"/><text fill="#fff" transform="translate(51.32147 166.84256)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">12</tspan></text></g><g id="Line_89"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -32.035435 499.84646 L 50.64655 499.84646 L 50.64655 439.28284 L 124.52667 439.28284"/></g><g id="Line_90"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" marker-end="url(#FilledArrow_Marker)" d="M -32.035435 676.0116 L 96.348 676.0116 L 96.348 582.1978 L 124.40871 582.1978"/></g><g id="Graphic_92"><path fill="#333" d="M 96.348 606.4165 L 96.348 606.4165 C 101.56599 606.4165 105.796 610.6465 105.796 615.8645 L 105.796 625.4165 C 105.796 630.6345 101.56599 634.8645 96.348 634.8645 L 96.348 634.8645 C 91.13001 634.8645 86.9 630.6345 86.9 625.4165 L 86.9 615.8645 C 86.9 610.6465 91.13001 606.4165 96.348 606.4165 Z"/><text fill="#fff" transform="translate(91.9 611.4165)"><tspan x="0" y="15" fill="#fff" font-family="Helvetica Neue" font-size="16" font-weight="400">4</tspan></text></g></g></g></svg>