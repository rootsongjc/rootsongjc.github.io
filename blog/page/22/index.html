<!DOCTYPE html>
<html lang="zh"><head>
  <meta charset="utf-8">
  
  <title>博客 · Jimmy Song</title>
  

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <meta name="description" content="Jimmy Song 的原创博客及译文。">
  <meta name="author" content="Jimmy Song">
  <meta name="generator" content="Hugo 0.129.0">

  <!-- CSS plugins -->
  
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
  
  <link rel="preload" href="/css/combined.7ac6b2864cb09c5595ac8ca79f8ca0db6c69a657edac885ba2c2412080d68da0.css" as="style">
  <link rel="stylesheet" href="/css/combined.7ac6b2864cb09c5595ac8ca79f8ca0db6c69a657edac885ba2c2412080d68da0.css" media="screen">
  

  <!-- Main Stylesheet -->
  
  <link rel="preload" href="/scss/style.min.595949bd12db88434115e2a1e70965cf2928cc646e73acc6437c4cbbc323f585.css" as="style">
  <link rel="stylesheet" href="/scss/style.min.595949bd12db88434115e2a1e70965cf2928cc646e73acc6437c4cbbc323f585.css" media="screen">

  <!-- Bigger picture css -->
  
  <link rel="stylesheet" href="/plugins/bigger-picture/bigger-picture.min.css" media="print" onload="this.media='all'">
  <!--Favicon generate by https://realfavicongenerator.net-->
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="200x200" href="/images/favicon.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">

  <link href='/opensearchdescription.xml' rel='search' title='Content search' type='application/opensearchdescription+xml'/>

  <!--Twitter card-->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="jimmysong.io" />
  <meta name="twitter:creator" content="@jimmysongio" />
  <meta property="og:url" content="https://jimmysong.io/blog/" />
  <meta property="og:title" content="博客 | Jimmy Song" />
  <meta property="twitter:title" content="博客 | Jimmy Song" />

  
  <meta property="og:description" content="Jimmy Song 的原创博客及译文。" />
  <meta property="twitter:description" content="Jimmy Song 的原创博客及译文。" />

  
  <meta property="og:image" content="https://jimmysong.io/images/banner/default.jpg" />
  <meta property="twitter:image" content="https://jimmysong.io/images/banner/default.jpg" />

  
  
</head>
<body>
<header class="fixed-top header">
  
  
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></button>
  
  <div class="navigation w-100 ">
    <div class="container-xl">
      <nav class="navbar navbar-expand-lg navbar-light p-0">
        <a class="navbar-brand" href="/">
            
            <b>JIMMY SONG</b>
            
        </a>
        <button class="navbar-toggler rounded-0" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
          <ul class="navbar-nav ml-auto">
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/blog">博客</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/book">资料</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/tags">标签</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/notice">公告</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/contact">联系</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/about">关于</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/community/">社区</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="https://space.bilibili.com/515485124" target="_blank" rel="noopener">视频 <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i></a>
              
            </li>
            
            

          
          
          <li class="nav-item">
            
            
            
              
              
                
                
                
                  
                    
                    <a class="nav-link" href="/en/blog/">English</a>
                    
                  
                
              
              
              
                
                  
                    
                    
                  
                
                
                
              
          </li>
          
          
          <!-- search -->
           <button type="button" class="search-btn js-search" id="searchOpen" aria-label="Search">
              <div class="search-container d-flex justify-content-center">
              <span class="search-content">
                  <i class="fa fa-search"></i>
                  <span>搜索</span>
              </span>
              <span class="search-shortcuts d-none d-sm-block">
                  <kbd class="cmd-key">⌘</kbd>
                  <kbd class="k-key">K</kbd>
              </span>
              </div>
          </button>
          
          </ul>
        </div>
      </nav>
    </div>
  </div>
</header>


            <aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between">
        <div class="col-6 search-title">
          <p>站内搜索</p> 
        </div>
        <div class="col-6 col-search-close">
          <div class="js-search" aria-label="关闭"><i class="fa-solid fa-circle-xmark text-muted" aria-hidden="true"></i></div>
        </div>
      </div>

      <div id="search-box">
        <i class="fa-solid fa-magnifying-glass" id="search-icon" aria-hidden="true"></i>
        <input name="q" id="search-query" placeholder="请输入搜索词" autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control" aria-label="请输入搜索词">
        
        <div class="mt-4">
          <span>搜索类型: </span>
          <span>
            <input type="radio" id="all" name="search_type" value="all" checked>
            <label for="all">所有</label>
            
              <input type="radio" id="blog" name="search_type" value="blog">
              <label for="blog">原创</label>
              <input type="radio" id="trans" name="search_type" value="trans">
              <label for="trans">译文</label>
            
            <input type="radio" id="book" name="search_type" value="book">
            <label for="book">资料</label>
            <input type="radio" id="notice" name="search_type" value="notice">
            <label for="notice">公告</label>
          </span>
        </div>
      </div>
      
    </section>
    <section class="section-search-results">
      <div id="search-results-count" class="search-results-count"></div>
      <div id="search-hits">
        
      </div>
    </section>
  </div>
</aside>

        
        
            

<section class="bg-cover page-title-section overlay" style="background-image: url('/images/backgrounds/circle.svg'),url('/images/backgrounds/page-title.webp');background-size: cover;">
    <div class="container-xl">
        <div class="row">
            <div class="col-12">
                <p class="h1">
                    博客
                </p>
                <p class="page-description">
                    Jimmy Song 的原创博客及译文。
                </p>
                
            </div>
        </div>
    </div>
</section>

        


<section class="section-sm book-list-section bg-gray">
  <div class="container-xl">
    <div class="row">
      <div class="col-lg-8 order-2 order-lg-1">
        <div class="row">
          
          
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/service-mesh-the-microservices-in-post-kubernetes-era/">Service Mesh——后 Kubernetes 时代的微服务</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2020/04/01</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/service-mesh"> 
             Service Mesh
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('Service Mesh——后 Kubernetes 时代的微服务', '本文是以前所写内容的重新修订并收录于 ServiceMesher 社区的 Istio Handbook 中，其他章节仍在编纂中。', '\n如果你刚听说 Service Mesh 不久，并试用过 [Istio](https:\/\/istio.io) 的话，那么你可能都会有下面几个疑问：\n\n1. 为什么 Istio 要运行在 Kubernetes 上呢？\n1. Kubernetes 和 Service Mesh 分别在云原生中扮演什么角色？\n1. Istio 扩展了 Kubernetes 的哪些方面？解决了哪些问题？\n1. Kubernetes、xDS 协议（[Envoy](https:\/\/github.com\/envoyproxy\/envoy)、[MOSN](https:\/\/github.com\/mosn\/mosn) 等）与 Istio 之间又是什么关系？\n1. 到底该不该上 Service Mesh？\n\n这一节我们将试图带您梳理清楚 Kubernetes、xDS 协议以及 Istio Service Mesh 之间的内在联系。此外，本节还将介绍 Kubernetes 中的负载均衡方式，xDS 协议对于 Service Mesh 的意义以及为什么说及时有了 Kubernetes 还需要 Istio。\n\n使用 Service Mesh 并不是说与 Kubernetes 决裂，而是水到渠成的事情。Kubernetes 的本质是通过声明式配置对应用进行生命周期管理，而 Service Mesh 的本质是提供应用间的流量和安全性管理以及可观测性。假如你已经使用 Kubernetes 构建了稳定的应用平台，那么如何设置服务间调用的负载均衡和流量控制？\n\nEnvoy 创造的 xDS 协议被众多开源软件所支持，如 [Istio](https:\/\/github.com\/istio\/istio)、[MOSN](https:\/github.com\/mosn\/mosn) 等。Envoy 对于 Service Mesh 或云原生来说最大的贡献就是定义了 xDS，Envoy 本质上是一个 proxy，是可通过 API 配置的现代版 proxy，基于它衍生出来很多不同的使用场景，如 API Gateway、Service Mesh 中的 Sidecar proxy 和边缘代理。\n\n**本节包含以下内容**\n\n- 说明 kube-proxy 的作用。\n- Kubernetes 在微服务管理上的局限性。\n- 介绍 Istio Service Mesh 的功能。\n- 介绍 xDS 包含哪些内容。\n- 比较 Kubernetes、Envoy 和 Istio Service Mesh 中的一些概念。\n\n## 重要观点\n\n如果你想要提前了解下文的所有内容，那么可以先阅读下面列出的本文中的一些主要观点：\n\n- Kubernetes 的本质是应用的生命周期管理，具体来说就是部署和管理（扩缩容、自动恢复、发布）。\n- Kubernetes 为微服务提供了可扩展、高弹性的部署和管理平台。\n- Service Mesh 的基础是透明代理，通过 sidecar proxy 拦截到微服务间流量后再通过控制平面配置管理微服务的行为。\n- Service Mesh 将流量管理从 Kubernetes 中解耦，Service Mesh 内部的流量无需 \u0060kube-proxy\u0060 组件的支持，通过为更接近微服务应用层的抽象，管理服务间的流量、安全性和可观测性。\n- xDS 定义了 Service Mesh 配置的协议标准。\n- Service Mesh 是对 Kubernetes 中的 service 更上层的抽象，它的下一步是 serverless。\n\n## Kubernetes vs Service Mesh\n\n下图展示的是 Kubernetes 与 Service Mesh 中的的服务访问关系（每个 pod 一个 sidecar 的模式）。\n\n![kubernetes 对比 service mesh](kubernetes-vs-service-mesh.png)\n\n**流量转发**\n\nKubernetes 集群的每个节点都部署了一个 \u0060kube-proxy\u0060 组件，该组件会与 Kubernetes API Server 通信，获取集群中的 [service](https:\/\/jimmysong.io\/kubernetes-handbook\/concepts\/service.html) 信息，然后设置 iptables 规则，直接将对某个 service 的请求发送到对应的 Endpoint（属于同一组 service 的 pod）上。\n\n**服务发现**\n\n![Service Mesh 中的服务注册](istio-service-registry.png)\n\nIstio 可以沿用 Kubernetes 中的 service 做服务注册，还可以通过控制平面的平台适配器对接其他服务发现系统，然后生成数据平面的配置（使用 CRD 声明，保存在 etcd 中），数据平面的**透明代理**（transparent proxy）以 sidecar 容器的形式部署在每个应用服务的 pod 中，这些 proxy 都需要请求控制平面来同步代理配置。之所以说是透明代理，是因为应用程序容器完全无感知代理的存在，该过程 kube-proxy 组件一样需要拦截流量，只不过 \u0060kube-proxy\u0060 拦截的是进出 Kubernetes 节点的流量，而 sidecar proxy 拦截的是进出该 Pod 的流量，详见[理解 Istio Service Mesh 中 Envoy Sidecar 代理的路由转发](https:\/\/jimmysong.io\/blog\/envoy-sidecar-routing-of-istio-service-mesh-deep-dive\/)。\n\n**Service Mesh 的劣势**\n\n因为 Kubernetes 每个节点上都会运行众多的 Pod，将原先 \u0060kube-proxy\u0060 方式的路由转发功能置于每个 pod 中，因为有 sidecar 拦截流量会多一次跳转时，增加响应延迟，同时大量的配置分发、配置同步，可能会影响应用性能。为了细粒度地进行流量管理，必将添加一系列新的抽象，从而会进一步增加用户的学习成本，但随着技术的普及，这样的情况会慢慢地得到缓解。\n\n**Service Mesh 的优势**\n\n\u0060kube-proxy\u0060 的设置都是全局生效的，无法对每个服务做细粒度的控制，而 Service Mesh 通过 sidecar proxy 的方式将 Kubernetes 中对流量的控制从 service 一层抽离出来，可以做更多的扩展。\n\n## kube-proxy 组件\n\n在 Kubernetes 集群中，每个 Node 运行一个 \u0060kube-proxy\u0060 进程。\u0060kube-proxy\u0060 负责为 \u0060Service\u0060 实现了一种 VIP（虚拟 IP）的形式。在 Kubernetes v1.0 版本，代理完全在 userspace 实现。Kubernetes v1.1 版本新增了 [iptables 代理模式](https:\/\/jimmysong.io\/kubernetes-handbook\/concepts\/service.html#iptables-代理模式)，但并不是默认的运行模式。从 Kubernetes v1.2 起，默认使用 iptables 代理。在 Kubernetes v1.8.0-beta.0 中，添加了 [ipvs 代理模式](https:\/\/jimmysong.io\/kubernetes-handbook\/concepts\/service.html#ipvs-代理模式)。关于 kube-proxy 组件的更多介绍请参考 [kubernetes 简介：service 和 kube-proxy 原理](https:\/\/cizixs.com\/2017\/03\/30\/kubernetes-introduction-service-and-kube-proxy\/) 和 [使用 IPVS 实现 Kubernetes 入口流量负载均衡](https:\/\/jishu.io\/kubernetes\/ipvs-loadbalancer-for-kubernetes\/)。\n\n### kube-proxy 的缺陷\n\n[kube-proxy 的不足之处](https:\/\/cizixs.com\/2017\/03\/30\/kubernetes-introduction-service-and-kube-proxy\/)：\n\n首先，如果转发的 pod 不能正常提供服务，它不会自动尝试另一个 pod，每个 pod 都有一个健康检查的机制，当有 pod 健康状况有问题时，kubelet 会重启对应的 pod，kube-proxy 会删除对应的转发规则。另外，\u0060nodePort\u0060 类型的服务也无法添加 TLS 或者更复杂的报文路由机制。\n\nKube-proxy 实现了流量在 Kubernetes service 多个 pod 实例间的负载均衡，但是如何对这些 service 间的流量做细粒度的控制，比如按照百分比划分流量到不同的应用版本（这些应用都属于同一个 service，但位于不同的 deployment 上），做金丝雀发布（灰度发布）和蓝绿发布？Kubernetes 社区给出了 [使用 Deployment 做金丝雀发布的方法](https:\/\/kubernetes.io\/docs\/concepts\/cluster-administration\/manage-deployment\/#canary-deployments)，该方法本质上就是通过修改 pod 的 [label](https:\/\/jimmysong.io\/kubernetes-handbook\/concepts\/label.html) 来将不同的 pod 划归到 Deployment 的 Service 上。\n\n## Kubernetes Ingress vs Istio Gateway\n\n上文说到 \u0060kube-proxy\u0060 只能路由 Kubernetes 集群内部的流量，而我们知道 Kubernetes 集群的 Pod 位于 [CNI](https:\/\/jimmysong.io\/kubernetes-handbook\/concepts\/cni.html) 创建的网络中，集群外部是无法直接与其通信的，因此 Kubernetes 中创建了 [ingress](https:\/\/jimmysong.io\/kubernetes-handbook\/concepts\/ingress.html) 这个资源对象，它由位于 Kubernetes [边缘节点](https:\/\/jimmysong.io\/kubernetes-handbook\/practice\/edge-node-configuration.html)（这样的节点可以是很多个也可以是一组）的 Ingress controller 驱动，负责管理**南北向流量**，Ingress 必须对接各种 Ingress Controller 才能使用，比如 [nginx ingress controller](https:\/\/github.com\/kubernetes\/ingress-nginx)、[traefik](https:\/\/traefik.io\/)。Ingress 只适用于 HTTP 流量，使用方式也很简单，只能对 service、port、HTTP 路径等有限字段匹配来路由流量，这导致它无法路由如 MySQL、Redis 和各种私有 RPC 等 TCP 流量。要想直接路由南北向的流量，只能使用 Service 的 LoadBalancer 或 NodePort，前者需要云厂商支持，后者需要进行额外的端口管理。有些 Ingress controller 支持暴露 TCP 和 UDP 服务，但是只能使用 Service 来暴露，Ingress 本身是不支持的，例如 [nginx ingress controller](https:\/\/kubernetes.github.io\/ingress-nginx\/user-guide\/exposing-tcp-udp-services\/)，服务暴露的端口是通过创建 ConfigMap 的方式来配置的。\n\nIstio Gateway 的功能与 Kubernetes Ingress 类似，都是负责集群的南北向流量。Istio \u0060Gateway\u0060 描述的负载均衡器用于承载进出网格边缘的连接。该规范中描述了一系列开放端口和这些端口所使用的协议、负载均衡的 SNI 配置等内容。Gateway 是一种 [CRD 扩展](https:\/\/jimmysong.io\/kubernetes-handbook\/concepts\/crd.html)，它同时复用了 sidecar proxy 的能力，详细配置请参考 [Istio 官网](https:\/\/istio.io\/docs\/reference\/config\/networking\/gateway\/)。\n\n## xDS 协议\n\n下面这张图大家在了解 Service Mesh 的时候可能都看到过，每个方块代表一个服务的实例，例如 Kubernetes 中的一个 Pod（其中包含了 sidecar proxy），xDS 协议控制了 Istio Service Mesh 中所有流量的具体行为，即将下图中的方块链接到了一起。\n\n![Service Mesh 示意图](service-mesh-schematic-diagram.png)\n\nxDS 协议是由 [Envoy](https:\/\/envoyproxy.io\/) 提出的，在 Envoy v2 版本 API 中最原始的 xDS 协议指的是 CDS（Cluster Discovery Service）、EDS（Endpoint Discovery service）、LDS（Listener Discovery Service）和 RDS（Route Discovery Service），后来在 v3 版本中又发展出了 Scoped Route Discovery Service（SRDS）、Virtual Host Discovery Service（VHDS）、Secret Discovery Service（SDS）、Runtime Discovery Service（RTDS）等，详见 [xDS REST and gRPC protocol](https:\/\/www.envoyproxy.io\/docs\/envoy\/latest\/api-docs\/xds_protocol)。\n\n下面我们以各有两个实例的 service，来看下 xDS 协议。\n\n![xDS 协议](xds-protocol.png)\n\n上图中的箭头不是流量进入 Proxy 后的路径或路由，也不是实际顺序，而是想象的一种 xDS 接口处理顺序，其实 xDS 之间也是有交叉引用的。\n\n支持 xDS 协议的代理通过查询文件或管理服务器来动态发现资源。概括地讲，对应的发现服务及其相应的 API 被称作 *xDS*。Envoy 通过 **订阅（subscription）** 的方式来获取资源，订阅方式有以下三种：\n\n- **文件订阅**：监控指定路径下的文件，发现动态资源的最简单方式就是将其保存于文件，并将路径配置在 ConfigSource 中的 \u0060path\u0060 参数中。\n- **gRPC 流式订阅**：每个 xDS API 可以单独配置 \u0060ApiConfigSource\u0060，指向对应的上游管理服务器的集群地址。\n- **轮询 REST-JSON 轮询订阅**：单个 xDS API 可对 REST 端点进行的同步（长）轮询。\n\n以上的 xDS 订阅方式详情请参考 [xDS 协议解析](https:\/\/jimmysong.io\/istio-handbook\/concepts\/envoy-xds-protocol.html)。Istio 使用 gRPC 流式订阅的方式配置所有的数据平面的 sidecar proxy。\n\n### xDS 协议要点\n\n最后总结下关于 xDS 协议的要点：\n\n- CDS、EDS、LDS、RDS 是最基础的 xDS 协议，它们可以分别独立更新。\n- 所有的发现服务（Discovery Service）可以连接不同的 Management Server，也就是说管理 xDS 的服务器可以是多个。\n- Envoy 在原始 xDS 协议的基础上进行了一些列扩充，增加了 SDS（秘钥发现服务）、ADS（聚合发现服务）、HDS（健康发现服务）、MS（Metric 服务）、RLS（速率限制服务）等 API。\n- 为了保证数据一致性，若直接使用 xDS 原始 API 的话，需要保证这样的顺序更新：CDS --\u003e EDS --\u003e LDS --\u003e RDS，这是遵循电子工程中的**先合后断**（Make-Before-Break）原则，即在断开原来的连接之前先建立好新的连接，应用在路由里就是为了防止设置了新的路由规则的时候却无法发现上游集群而导致流量被丢弃的情况，类似于电路里的断路。\n- CDS 设置 Service Mesh 中有哪些服务。\n- EDS 设置哪些实例（Endpoint）属于这些服务（Cluster）。\n- LDS 设置实例上监听的端口以配置路由。\n- RDS 最终服务间的路由关系，应该保证最后更新 RDS。\n\n## Envoy\n\nEnvoy 是 Istio Service Mesh 中默认的 Sidecar，Istio 在 Envoy 的基础上按照 Envoy 的 xDS 协议扩展了其控制平面，在讲到 Envoy xDS 协议之前我们还需要先熟悉下 Envoy 的基本术语。下面列举了 Envoy 里的基本术语及其数据结构解析，关于 Envoy 的详细介绍请参考 [Envoy 官方文档](https:\/\/cloudnative.to\/envoy\/)，至于 Envoy 在 Service Mesh（不仅限于 Istio）中是如何作为转发代理工作的请参考网易云刘超的这篇[深入解读 Service Mesh 背后的技术细节 ](https:\/\/www.cnblogs.com\/163yun\/p\/8962278.html)以及[理解 Istio Service Mesh 中 Envoy 代理 Sidecar 注入及流量劫持](https:\/\/jimmysong.io\/blog\/envoy-sidecar-injection-in-istio-service-mesh-deep-dive\/)，本文引用其中的一些观点，详细内容不再赘述。\n\n![Envoy proxy 架构图](envoy-arch.jpg)\n\n### 基本术语\n\n下面是您应该了解的 Envoy 里的基本术语：\n\n- **Downstream（下游）**：下游主机连接到 Envoy，发送请求并接收响应，即发送请求的主机。\n- **Upstream（上游）**：上游主机接收来自 Envoy 的连接和请求，并返回响应，即接受请求的主机。\n- **Listener（监听器）**：监听器是命名网地址（例如，端口、unix domain socket 等)，下游客户端可以连接这些监听器。Envoy 暴露一个或者多个监听器给下游主机连接。\n- **Cluster（集群）**：集群是指 Envoy 连接的一组逻辑相同的上游主机。Envoy 通过服务发现来发现集群的成员。可以选择通过主动健康检查来确定集群成员的健康状态。Envoy 通过负载均衡策略决定将请求路由到集群的哪个成员。\n\nEnvoy 中可以设置多个 Listener，每个 Listener 中又可以设置 filter chain（过滤器链表），而且过滤器是可扩展的，这样就可以更方便我们操作流量的行为，例如设置加密、私有 RPC 等。\n\nxDS 协议是由 Envoy 提出的，现在是 Istio 中默认的 sidecar proxy，但只要实现 xDS 协议理论上都是可以作为 Istio 中的 sidecar proxy 的，例如蚂蚁集团开源的 [MOSN](https:\/\/github.com\/mosn\/mosn)。\n\n## Istio Service Mesh\n\n![Istio service mesh 架构图](istio-mesh-arch.png)\n\nIstio 是一个功能十分丰富的 Service Mesh，它包括如下功能：\n\n- 流量管理：这是 Istio 的最基本的功能。\n- 策略控制：通过 Mixer 组件和各种适配器来实现，实现访问控制系统、遥测捕获、配额管理和计费等。\n- 可观测性：在 sidecar proxy 中实现。\n- 安全认证：Citadel 组件做密钥和证书管理。\n\n### Istio 中的流量管理\n\nIstio 中定义了如下的 [CRD](https:\/\/jimmysong.io\/kubernetes-handbook\/concepts\/custom-resource.html) 来帮助用户进行流量管理：\n\n- **Gateway**：[Gateway](https:\/\/istio.io\/docs\/reference\/config\/networking\/gateway\/) 描述了在网络边缘运行的负载均衡器，用于接收传入或传出的 HTTP \/ TCP 连接。\n- **VirtualService**：[VirtualService](https:\/\/istio.io\/docs\/reference\/config\/networking\/virtual-service\/) 实际上将 Kubernetes 服务连接到 Istio Gateway。它还可以执行更多操作，例如定义一组流量路由规则，以便在主机被寻址时应用。\n- **DestinationRule**：[\u0060DestinationRule\u0060](https:\/\/istio.io\/zh\/docs\/reference\/config\/networking\/destination-rule\/) 所定义的策略，决定了经过路由处理之后的流量的访问策略。简单的说就是定义流量如何路由。这些策略中可以定义负载均衡配置、连接池尺寸以及外部检测（用于在负载均衡池中对不健康主机进行识别和驱逐）配置。\n- **EnvoyFilter**：[\u0060EnvoyFilter\u0060](https:\/\/istio.io\/docs\/reference\/config\/networking\/envoy-filter\/) 对象描述了针对代理服务的过滤器，这些过滤器可以定制由 Istio Pilot 生成的代理配置。这个配置初级用户一般很少用到。\n- **ServiceEntry**：默认情况下 Istio Service Mesh 中的服务是无法发现 Mesh 外的服务的，[\u0060ServiceEntry\u0060](https:\/\/istio.io\/docs\/reference\/config\/networking\/service-entry\/) 能够在 Istio 内部的服务注册表中加入额外的条目，从而让网格中自动发现的服务能够访问和路由到这些手工加入的服务。\n\n## Kubernetes vs xDS vs Istio\n\n在阅读完上文对 Kubernetes 的 \u0060kube-proxy\u0060 组件、xDS 和 Istio 中流量管理的抽象概念之后，下面将带您仅就流量管理方面比较下三者对应的组件\/协议（注意，三者不可以完全等同）。\n\n| Kubernetes | xDS      | Istio Service Mesh |\n| ---------- | -------- | ------------------ |\n| Endpoint   | Endpoint | WorkloadEntry      |\n| Service    | Route    | VirtualService     |\n| kube-proxy | Route    | DestinationRule    |\n| kube-proxy | Listener | EnvoyFilter        |\n| Ingress    | Listener | Gateway            |\n| Service    | Cluster  | ServiceEntry       |\n\n## 总结\n\n如果说 Kubernetes 管理的对象是 Pod，那么 Service Mesh 中管理的对象就是一个个 Service，所以说使用 Kubernetes 管理微服务后再应用 Service Mesh 就是水到渠成了，如果连 Service 你也不想管了，那就用如 [knative](https:\/\/github.com\/knative\/) 这样的 serverless 平台，但这就是后话了。\n\nEnvoy\/MOSN 的功能也不只是做流量转发，以上概念只不过是 Istio 在 Kubernetes 之上新增一层抽象层中的冰山一角，但因为流量管理是服务网格最基础也是最重要的功能，所以这将成为本书的开始。\n\n## 参考\n\n- [深入解读 Service Mesh 背后的技术细节 - cnblogs.com](https:\/\/www.cnblogs.com\/163yun\/p\/8962278.html)\n- [理解 Istio Service Mesh 中 Envoy 代理 Sidecar 注入及流量劫持 - jimmysong.io](https:\/\/jimmysong.io\/blog\/envoy-sidecar-injection-in-istio-service-mesh-deep-dive\/)\n- [kubernetes 简介：service 和 kube-proxy 原理 - cizixs.com](https:\/\/cizixs.com\/2017\/03\/30\/kubernetes-introduction-service-and-kube-proxy\/)\n- [使用 IPVS 实现 Kubernetes 入口流量负载均衡 - jishu.io](https:\/\/jishu.io\/kubernetes\/ipvs-loadbalancer-for-kubernetes\/)\n- [xDS REST and gRPC protocol](https:\/\/www.envoyproxy.io\/docs\/envoy\/latest\/api-docs\/xds_protocol)\n', '\/blog\/service-mesh-the-microservices-in-post-kubernetes-era\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">本文是以前所写内容的重新修订并收录于 ServiceMesher 社区的 Istio Handbook 中，其他章节仍在编纂中。</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/trans/the-future-of-cloud-native-applications-with-oam-and-dapr/">[译] 利用 OAM 和 Dapr 的云原生应用的未来</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2020/01/26</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e4%ba%91%e5%8e%9f%e7%94%9f"> 
             云原生
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fas fa-language"></i>
              <a href="https://hugomsbarona.medium.com/the-future-of-cloud-native-applications-with-oam-and-dapr-ed5766c8d583" target="_blank" rel="noopener">原文</a>
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('利用 OAM 和 Dapr 的云原生应用的未来', '本文介绍了基于 OAM 和 Dapr 的云原生应用的未来。', '\n在 2019 年 11 月 4 日至 8 日于佛罗里达州奥兰多举办的[2019 年微软 Ignite 大会上](https:\/\/www.microsoft.com\/en-us\/ignite)，Azure 首席技术官 Mark Russinovich 介绍了微软开发的两个创新和革命性的项目，旨在解决当今 IT 专业人士和开发人员在试图构建基于微服务的应用程序时的一系列现有问题。这场会议被命名为《基于开放应用模型（OAM）和分布式应用运行时（Dapr）的云原生应用的未来》。\n\n## 开放式应用模型（OAM）\n\n因此，其中一个项目与开放应用模型（OAM）有关。它代表了一个开放的标准，允许我们建立云原生应用程序，与平台无关，并遵循关注点分离的原则，通过将应用程序的定义与应用程序的部署和托管基础设施的细节分离，为我们提供一些好处。\n\n将应用程序的定义与操作细节分开，使应用程序开发人员能够专注于其应用程序的关键要素，并将其从部署地点和方式的操作细节中抽象出来。另外，关注点的分离允许平台架构师开发可重复使用的组件，而应用开发者则专注于将这些组件与他们的代码集成，以快速、轻松地构建可靠的应用。在所有这些方面，OAM 在那些有不同角色的场景中特别有用，比如在下面的图片中，构建和管理应用程序，因为它允许你有一个关注点的分离，所以开发和管理你的应用程序的不同角色可以专注于他们任务的关键因素。\n\n![应用程序开发和部署生命周期中的角色](008i3skNly1gx6tisc22aj30vp0hoq5q.jpg)\n\nOAM 引入了几个概念，组成了你的应用程序。其中一个概念是代表你的应用程序的 Component（组件）。这些组件可能是服务，如 SQL 数据库或带有相应负载均衡器的.NET WebAPI。开发人员可以创建代码，将其打包成一个组件，然后创建清单，描述不同组件和其他应用程序之间的关系。有了这个，你就把组件的实现和这些组件如何在一个完整的分布式应用架构中结合起来的描述分开了。\n\n为了将这些组件转化为具体的应用程序，应用程序运维使用这些组件的配置来形成一个可以被部署的应用程序的具体实例。配置资源是使应用程序运维能够从开发人员提供的组件中运行一个真正的应用程序。\n\n最后一个概念是 Trait（特征），而你使用它们的集合来描述你的应用环境的特征和它的能力，如自动扩展和入口等等。这些特征允许你根据要求和背景，将你的应用程序部署到具有不同特征的不同环境。然后，这些特征可以由基础设施运维进行配置，以满足其环境的独特操作要求。\n\n最后但同样重要的是，该规范在设计上是可扩展的。同样，OAM 使平台提供者能够通过 Trait（特征）系统公开其平台的独特特征，这种方式使应用开发者能够在支持必要特征的地方建立跨平台的应用。\n\n## 分布式应用程序运行时（Dapr）\n\nDapr 是一个可移植的、事件驱动的运行时，它使开发人员能够轻松地建立弹性的、无状态和有状态的微服务应用程序，并在云和边缘上运行，并拥抱语言和开发人员框架的多样性。它遵循**Sidecar 架构**，所以它使用一个连接到你的每个组件的 Sidecar 节点，所以它可以扩展和增强你的应用程序的功能，如服务发现、负载均衡、流量管理等。\n\n使用这种编程模型，开发人员能够创建微服务应用程序，而不需要携带那么多在构建分布式应用程序过程中引入复杂性的因素，如弹性、可扩展性、服务身份和发现、负载均衡、状态管理等等。Dapr 将这些复杂的因素从开发人员那里抽象出来，这样他们就可以专注于他们正在编写的代码。\n\nDapr 的另一个重要方面是与托管我们应用程序的平台有关。Dapr 使我们能够在云端、企业内部、甚至是边缘的多种环境中运行我们的应用程序，包括任何可用于托管应用程序的 Kubernetes 集群。\n\n最后，同样重要的是，Dapr 允许你利用你最喜欢的编程语言来构建你的分布式应用，并克服你在现今的一些服务中可能面临的编程语言和版本的限制，以构建基于微服务的应用。\n\n下面的图片提供了一个使用 Dapr 的微服务应用架构的概述。基本上，你使用你喜欢的编程语言或框架，如 Java、Node.js、Python、.NET Core 等，构建构成你的应用程序的服务，然后你的服务使用其可用的标准 API，并使用 HTTP 或 gRPC 协议与 Dapr 通信。\n\n![使用 Dapr 的微服务应用架构](008i3skNly1gx6tov7gp1j312w0ie40c.jpg)\n\n## 总结\n\n因此，我们有 OAM，它代表了一种规范，允许你定义和建立跨平台的应用程序，在云和边缘上运行，为你提供关注点的分离，让你的团队专注于他们任务和责任的关键要素。\n\n然后，我们把 Dapr 作为一个运行时，通过提供关注点的分离和促进一些影响构建这种应用的复杂性的因素，降低了构建基于微服务的分布式应用的复杂性。此外，Dapr 允许应用程序在 \u0022云和边缘 \u0022计算基础设施之间进行移植，并克服目前开发人员在构建此类应用程序时面临的移植问题。\n\n如果你想获得与这些项目有关的更多细节，请看以下资源。\n\n- [Mark Russinovich 介绍 OAM 和 Dapr 的云原生应用的未来](https:\/\/azure.microsoft.com\/en-au\/resources\/videos\/ignite-2019-mark-russinovich-presents-the-future-of-cloud-native-applications-with-oam-and-dapr\/)\n- 开放应用模式（OAM）官方网站 - \u003chttps:\/\/oam.dev\/\u003e\n- 分布式应用程序运行时（Dapr）官方网站 - \u003chttps:\/\/dapr.io\/\u003e\n', '\/trans\/the-future-of-cloud-native-applications-with-oam-and-dapr\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">本文介绍了基于 OAM 和 Dapr 的云原生应用的未来。</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/cloud-native-service-mesh-istio-book/">云原生服务网格 Istio 图书</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2019/08/03</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/service-mesh"> 
             Service Mesh
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('云原生服务网格 Istio 图书', '云原生服务网格 Istio（华为云原生技术丛书）图书读后感，原理、实践、架构与源码解析（张超盟、章鑫、徐中虎、徐飞编著）。', '\n[《云原生服务网格 Istio：原理、实践、架构与源码解析（张超盟、章鑫、徐中虎、徐飞编著）》](https:\/\/item.jd.com\/12538407.html)是 2019 年国内出版的第四本 Istio 相关图书，前三本分别是：\n\n- [深入浅出 Istio：Service Mesh 快速入门与实践，崔秀龙 著](https:\/\/item.jd.com\/12527008.html)\n- [Service Mesh 实战：用 Istio 软负载实现服务网格，周遥 著](https:\/\/item.jd.com\/12516473.html)\n- [Istio 入门与实战，毛广献 著](https:\/\/item.jd.com\/12601120.html)\n\n在这四本书刚上市时我都获得了作者的赠书，这本书是由四位华为的同学编写，于 2019 年  7 月第一次印刷，全书共 24 章，606 页，售价 139 元。我是在 KubeCon China 2019 的上海大会现场张超盟亲手赠与我的，张超盟也是 2018 年第三届 Service Mesh Meetup 的讲师。\n\n![右侧是云原生服务网格 Istio（华为云原生技术丛书）作者之一张超盟](006tNc79ly1g60ml3q3i4j30xc0m8wg2.jpg)\n\n## 本书结构\n\n全书共分四个篇章，24 个章节，606 页，每个章节的页数占比统计如下图所示。\n\n![云原生服务网格 Istio：原理、实践、架构与源码解析》图书章节页数占全书百分比 - 表格](006tNc79ly1g5nsbm4pkej30u00uj0vw.jpg)\n\n![《云原生服务网格 Istio：原理、实践、架构与源码解析》图书章节页数占全书百分比 - 饼图](006tNc79ly1g60mjr3lirj30v20u0q5g.jpg)\n\n从统计结果中可以看出书中第 3 章（非侵入的流量治理）、第 14 章（司令官 Pilot）一共占全书的页数百分比为 24%，几乎占了四分之一的篇幅。\n\n这本书是目前（2019 年 08 月 15 日）市面上能买到的最全的一本 Istio 相关的图书了，话说国外还一本 Istio 的书也出来，国内到现在都出了四本了，是不是有种墙外开花墙内香的感觉？\n\n建议大家结合 [Istio 官方文档](https:\/\/istio.io)一起来看这本书，Istio 版本更新虽然没有 Kubernetes 那么快，但是在本书发行一个多月后也要发布 1.2 版本了，欢迎大家加入 ServiceMesher 社区来学习 Istio！\n\n', '\/blog\/cloud-native-service-mesh-istio-book\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">云原生服务网格 Istio（华为云原生技术丛书）图书读后感，原理、实践、架构与源码解析（张超盟、章鑫、徐中虎、徐飞编著）。</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/github-webhook-website-auto-deploy/">使用 GitHub Webhook 实现静态网站自动化部署</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2019/07/10</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%85%b6%e4%bb%96"> 
             其他
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('使用 GitHub Webhook 实现静态网站自动化部署', '通过本文你将了解到如何使用 GitHub Webhook 来自动化发布您的网站。', '\n本文介绍如何为 \u0060servicemesher.com\u0060 网站配置自动化部署的详细说明，通过本文你将了解到：\n\n- 如何使用 GitHub Webhook 来自动化发布您的网站\n- 如何配置 Nginx 代理根据 URI 请求转发到本地服务器的指定端口\n\n## 自动发布脚本\n\n使用名为 \u0060deploy.sh\u0060 的 Shell 脚本编译 Hugo 生成 HTML 文件，并放到 Nginx 配置的目录下。该脚本位于 [ServiceMesher 官网 GitHub 仓库](https:\/\/github.com\/servicemesher\/website)同级目录下，内容如下：\n\n\u0060\u0060\u0060bash\n#!\/bin\/bash\n# 网站的代码仓库目录\ninput=\u0022website\u0022\n# Nginx 中配置的网站的 HTML 根目录\noutput=\u0022\/home\/admin\/servicemesher.com\u0022\ncd $input\ngit pull\nhugo\ncd ..\ncp -r $input\/public\/* $output\n\u0060\u0060\u0060\n\n## 依赖安装\n\n该网站部署在阿里云上，操作系统为 CentOS 7.6.1810，并配置好了 [HTTPS](\/posts\/free-certificates-with-certbot)\t。\n\n安装后端服务配置所需的组件。\n\n\u0060\u0060\u0060bash\nyum install -y npm\n\u0060\u0060\u0060\n\n安装 NPM 包。\n\n\u0060\u0060\u0060bash\nnpm i -S github-webhook-handler\nnpm i -g pm2\n\u0060\u0060\u0060\n\n## 创建 webhook 服务后端\n\n我们使用 NodeJS 创建 webhook 服务后端，后端代码保存在 \u0060webhook.js\u0060文件中，调用 \u0060deploy.sh\u0060 来发布，因此需要与 \u0060deploy.sh\u0060 文件在同一级目录中，监听 \u0060http:\/\/127.0.0.1:6666\/webhook\u0060：\n\n当前的所有文件的结构如下：\n\n\u0060\u0060\u0060bash\n$ ls -1\ndeploy.sh\nnode_modules\npackage.json\nsofastack.tech\nwebhook.js\n\u0060\u0060\u0060\n\n\u0060webhook.js\u0060 文件内容如下：\n\n\u0060\u0060\u0060javascript\nvar http = require(\u0027http\u0027);\nvar spawn = require(\u0027child_process\u0027).spawn;\nvar createHandler = require(\u0027github-webhook-handler\u0027);\n\/\/ 注意将 secret 修改你自己的\nvar handler = createHandler({ path: \u0027\/webhook\u0027, secret: \u0027yourwebhooksecret\u0027 });\n\nhttp.createServer(function (req, res) {\n  handler(req, res, function (err) {\n    res.statusCode = 404;\n    res.end(\u0027no such location\u0027);\n  })\n}).listen(6666);\n\nhandler.on(\u0027error\u0027, function (err) {\n  console.error(\u0027Error:\u0027, err.message)\n});\n\nhandler.on(\u0027push\u0027, function (event) {\n  console.log(\u0027Received a push event for %s to %s\u0027,\n    event.payload.repository.name,\n    event.payload.ref);\n\n  runCommand(\u0027sh\u0027, [\u0027.\/deploy.sh\u0027], function( txt ){\n    console.log(txt);\n  });\n});\n\nfunction runCommand( cmd, args, callback ){\n    var child = spawn( cmd, args );\n    var resp = \u0027Deploy OK\u0027;\n    child.stdout.on(\u0027data\u0027, function( buffer ){ resp \u002b= buffer.toString(); });\n    child.stdout.on(\u0027end\u0027, function(){ callback( resp ) });\n}\n\u0060\u0060\u0060\n\n在 \u0060webhook.js\u0060 所在目录下启动后端服务：\n\n\u0060\u0060\u0060bash\npm2 start webhook.js\n\u0060\u0060\u0060\n\n查看服务状态：\n\n\u0060\u0060\u0060bash\n$ pm2 status\n┌──────────┬────┬─────────┬──────┬───────┬────────┬─────────┬────────┬─────┬───────────┬──────┬──────────┐\n│ App name │ id │ version │ mode │ pid   │ status │ restart │ uptime │ cpu │ mem       │ user │ watching │\n├──────────┼────┼─────────┼──────┼───────┼────────┼─────────┼────────┼─────┼───────────┼──────┼──────────┤\n│ webhook  │ 0  │ 1.0.0   │ fork │ 30366 │ online │ 0       │ 6h     │ 0%  │ 30.8 MB   │ root │ disabled │\n└──────────┴────┴─────────┴──────┴───────┴────────┴─────────┴────────┴─────┴───────────┴──────┴──────────┘\n Use \u0060pm2 show \u003cid|name\u003e\u0060 to get more details about an app\n\u0060\u0060\u0060\n\n使用 \u0060pm2 logs webhook\u0060 可以查看后端服务日志。\n\n## Nginx 配置\n\n在 nginx 配置中增加转发设置，将对网站 \u0060\/webhook\u0060 URI 的访问转发到服务器本地的 6666 端口，即 webhook 后端服务商。\n\n\u0060\u0060\u0060bash\n        # GitHub auto deploy webhook\n        location \/webhook {\n            proxy_pass http:\/\/127.0.0.1:6666;\n        }\n\u0060\u0060\u0060\n\n## GitHub Webhook 配置\n\n在 GitHub 仓库的 \u0060Settings\u0060 - \u0060webhooks\u0060 设置中创建一个新的 webhook。\n\n![GitHub Webhook 配置](006tNc79ly1g4uxl5ioq4j312q0u0ac3.jpg)\n\n注意选择 Content Type 为 \u0060application\/json\u0060，secret 设置成与 \u0060webhook.js\u0060 中的相同。\n\n配置完成后 GitHub 将自动调用 Webhook 以验证有效性。\n\n![GitHub 自动触发 Webhook](006tNc79ly1g4uxnir7ckj316a0ke3zd.jpg)\n\n如果看到 200 响应表示成功调用 Webhook 后端服务，这样每次我们的仓库合并后就会触发网站自动部署。\n\n## 更多\n\n为了加强 GitHub 自动化，还有更多 GitHub App 可以使用，推荐：\n\n- [auto-assigin](https:\/\/github.com\/apps\/auto-assign)\n- [mergify](https:\/\/github.com\/apps\/mergify)\n\n这些已经在 \u0060servicemesher.com\u0060 网站上集成了，感兴趣的读者可以访问 [ServiceMesher 官网的代码仓库](https:\/\/github.com\/servicemesher\/website)查看配置。\n\n## 参考\n\n- [使用 Github 的 webhooks 进行网站自动化部署](https:\/\/aotu.io\/notes\/2016\/01\/07\/auto-deploy-website-by-webhooks-of-github\/index.html)\n', '\/blog\/github-webhook-website-auto-deploy\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">通过本文你将了解到如何使用 GitHub Webhook 来自动化发布您的网站。</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/free-certificates-with-certbot/">使用 Certbot 为网站设置永久免费的 HTTPS 证书</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2019/07/05</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%85%b6%e4%bb%96"> 
             其他
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('使用 Certbot 为网站设置永久免费的 HTTPS 证书', '实测推荐使用 Certbot 为网站设置永久免费的 HTTPS 证书，超简单，全程不用五分钟！', '\n我的博客从上线第一天起就使用了 HTTPS，用的是 [Cloudflare](https:\/\/www.cloudflare.com\/zh-cn\/)，直接在其后台配置即可。如果你是用 nginx、apache、haproxy 等服务器来运行自己的网站，给大家推荐 [Certbot](https:\/\/certbot.eff.org\/)，可以自动化来配置 SSL 证书和定时更新。\n\n下面记录我自己为 \u0060servicemesher.com\u0060 网站配置 HTTPS 证书的过程，全程不需要 5 分钟。\n\n## 环境\n\n网站的托管环境如下：\n\n- OS：CentOS 7.6 阿里云\n- 网站服务器：Nginx，使用 yum 安装，版本 1.12\n- 提前配置好 Nginx，确保使用 HTTP 先可以访问到网站\n\n注意：请使用 \u0060yum\u0060 命令安装 nginx，这样可以确保 nginx 安装在默认的位置，因为 certbot 会检测 \u0060\/etc\/nginx\/\u0060 目录下的配置文件。\n\n## 操作步骤\n\n执行下面的步骤可以直接为你的网站配置 HTTPS 证书。\n\n\u0060\u0060\u0060bash\nyum -y install yum-utils\nyum-config-manager --enable rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional\nyum install certbot python2-certbot-nginx\n\u0060\u0060\u0060\n下图是在 Certbot 中选择服务器和操作系统的页面。\n\n![CertBot 页面](006tNc79ly1g4oqftr4fdj31e20u0gn8.jpg)\n\n执行下面的命令，根据提示会自动配置 nginx。\n\n\u0060\u0060\u0060bash\ncertbot --nginx\nSaving debug log to \/var\/log\/letsencrypt\/letsencrypt.log\nPlugins selected: Authenticator nginx, Installer nginx\nStarting new HTTPS connection (1): acme-v02.api.letsencrypt.org\n\nWhich names would you like to activate HTTPS for?\n1：servicemesher.com\n2: www.servicemsher.com\n# 这里直接回车选择所有的域名\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nSelect the appropriate numbers separated by commas and\/or spaces, or leave input\nblank to select all options shown (Enter \u0027c\u0027 to cancel):\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nYou have an existing certificate that contains a portion of the domains you\nrequested (ref: \/etc\/letsencrypt\/renewal\/servicemesher.com.conf)\n\nIt contains these names: servicemesher.com, www.servicemesher.com\n\nYou requested these names for the new certificate: servicemesher.com,\nprow.servicemesher.com, www.servicemesher.com.\n\nDo you want to expand and replace this existing certificate with the new\ncertificate?\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n(E)xpand\/(C)ancel: E\nRenewing an existing certificate\nPerforming the following challenges:\nhttp-01 challenge for prow.servicemesher.com\nWaiting for verification...\nCleaning up challenges\nDeploying Certificate to VirtualHost \/etc\/nginx\/nginx.conf\nDeploying Certificate to VirtualHost \/etc\/nginx\/nginx.conf\nDeploying Certificate to VirtualHost \/etc\/nginx\/nginx.conf\n\nPlease choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n1: No redirect - Make no further changes to the webserver configuration.\n2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for\nnew sites, or if you\u0027re confident your site works on HTTPS. You can undo this\nchange by editing your web server\u0027s configuration.\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nSelect the appropriate number [1-2] then [enter] (press \u0027c\u0027 to cancel):\n# 这里是为了扩展证书支持更多的域名，所有输入 2 回车\nTraffic on port 80 already redirecting to ssl in \/etc\/nginx\/nginx.conf\nRedirecting all traffic on port 80 to ssl in \/etc\/nginx\/nginx.conf\nTraffic on port 80 already redirecting to ssl in \/etc\/nginx\/nginx.conf\n\n- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\nYour existing certificate has been successfully renewed, and the new certificate\nhas been installed.\n\u0060\u0060\u0060\n\n然后重新加载配置。\n\n\u0060\u0060\u0060bash\nnginx -t;nginx -s reload\n\u0060\u0060\u0060\n\n设置证书自动更新。\n\n\u0060\u0060\u0060bash\necho \u00220 0,12 * * * root python -c \u0027import random; import time; time.sleep(random.random() * 3600)\u0027 \u0026\u0026 certbot renew\u0022 | sudo tee -a \/etc\/crontab \u003e \/dev\/null\n\u0060\u0060\u0060\n\n好了现在访问你的网站就可以看到 https 头部加了 HTTPS 锁了。\n\n## 参考\n\n- [让网站永久拥有 HTTPS - 申请免费 SSL 证书并自动续期](https:\/\/blog.csdn.net\/xs18952904\/article\/details\/79262646)\n- certbot - 免费的 https 证书\n', '\/blog\/free-certificates-with-certbot\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">实测推荐使用 Certbot 为网站设置永久免费的 HTTPS 证书，超简单，全程不用五分钟！</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/open-source-compliance-practices/">开源软件合规实践</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2019/06/08</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%bc%80%e6%ba%90"> 
             开源
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('开源软件合规实践', '本文是开源软件合规实践的，介绍开源软件合规的流程及建议。', '\n##  总体概述\n\n开源软件合规（Compliance）实践，从狭义上讲就是企业使用开源软件许可证（License）的合规。*Recommended Open Source Compliance Practices for the Enterprise* 电子书（共 32 页）由 *Ibrahim Haddad* 博士撰写，本书从以下几个角度为你的公司的进行开源合规实践以指导：\n\n- 创建开源审查委员会（Open Source Review Committee）\n- 代码扫描\n- 软件溯源（Software Sourcing）\n- 开源法务支持（Open Source Legal Support）\n- 流程中的合规检查（Compliance Checkpoints）\n- 开发和部署检查器\n- 合规事项看板\n\n### 开源合规审查组\n\n企业为了保证自己产品或软件的合规，通常会有一个许可证合规审查组，负责以下几项职责：\n\n1. 遵守开源许可条款\n1. 促进在产品和服务中使用开源\n1. 遵守第三方商业软件的许可条款\n1. 保护您的产品\/服务差异化（知识产权\/IP）\n\n![开源促进及合规计划](006tNc79ly1g3unqmzuawj30yy0fmgnv.jpg)\n\n### 开源合规流程\n\n图 2 是开源合规流程闭环。\n\n![图 2. 开源合规流程闭环](006tNc79ly1g3unru4rl8j31300qkmz8.jpg)\n\n该流程中分为以下三步：确认（Identify）、批准（Approve）和确知（Satisfy）。\n\n![图 3. 开源合规步骤产出](006tNc79ly1g3unvsqmmrj31zy0fu0w8.jpg)\n\n#### 确认（Identify）\n\n此初始步骤的目标是监控软件组合中开源来源，无论该组合是作为独立软件包还是嵌入在第三方或公司开发的软件中。此步骤的输出是详细的软件物料清单（Bill of Materials），用于标识所有开源软件包（Package）和代码片段（Snippet）的来源（Origin）、许可证（License）以及由软件组合分析工具所识别的许可冲突。\n\n#### 批准（Approve）\n\n这一步的目标是：\n\n1. 查看上一步的输出，了解管理相关源代码的使用、修改和分发的许可证；\n1. 根据其独特的背景（context），确定是否批准使用已识别的开源软件；\n\n#### 确知（Satisfy）\n\n在最后一步中，准备好所有已批准的开源软件（整个组件和片段）的许可证、版权（copyright）和归属声明，并将其交给相关的部门，以包含在产品文档中。同样，已经确知和标记了许可义务的开源软件包，就可以在产品\/服务上线时发布了。\n\n### 对企业开源合规实践的建议\n\n作者提出了企业可以实施的实践建议，以改进和加强其开源合规性计划：\n\n- 成立开源审查委员会（Open Source Review Board，简称 OSRB）\n- 建立自动化系统来识别开源软件\n- 让软件供应商遵守开源许可证\n- 扩展开源法律支持\n- 在业务和开发过程中集成开源合规性检查点\n- 提供各种开源合规性任务的清单（checklist）\n- 开发和部署支持清单\n- 建立开源合规活动基准（benchmark）\n- 参与关键合规性开源合规性计划\n\n## 成立开源审查委员会\n\n除开源合规官或开源计划办公室的代表外，开源审查委员会（OSRB）由法律和产品\/工程团队的代表组成。OSRB 的主要职责是审查和批准计划在产品和服务中使用开源软件。\n\n下面是 OSRB 中每个参与者职责的宏观概述。\n\n**开源法律顾问（Open Source Legal Counsel）**\n\n- 审查和批准开源软件的使用、修改和分发。\n- 提供与开源许可相关的法律指导。\n- 为创建合规培训做出贡献。\n- 有助于改进合规计划。\n- 审查和批准与许可证合规性相关的 Web 门户的内容。\n- 审核并批准使用的开源软件的义务列表。\n- 从开源合规性角度签署产品发布。\n\n**产品\/工程代表（Product \/ Engineering Representative）**\n\n- 在其组织内实施合规性政策（policy）和流程（process）。\n- 在软件开发过程中集成合规性实践。\n- 从工程角度为改进合规计划做出贡献。\n- 遵循技术开源合规指南。\n- 与 OSRB 成员协作以响应合规性查询。\n- 进行设计、架构和代码审查。\n- 准备用于出版物的开源软件包和通知。\n- 从开源合规性角度签署产品发布。\n\n**开源计划办公室和合规官的代表（Representative of the Open Source Program Office or Compliance Officer）**\n\n- 推动开源合规活动。\n- 协调源代码扫描和审核。\n- 参与工程审查和分发准备评估。\n- 协调开源软件包和通知的发布。\n- 为培训工作和改进合规计划做出贡献。\n- 有助于促进开源软件的自动化和发现。\n- 从开源合规性角度签署产品发布。\n\n除了 OSRB 的成员之外，实现开源合规是一项跨学科活动，涉及到组织内的各个部门和个人，如图 4 所示。\n\n![图 4. 开源项目办公室组成](006tNc79ly1g3unxxety2j31ik0li0v5.jpg)\n\n下面是对支持团队帮助 OSRB 确保开源合规性的核心职责的描述。\n\n**IT**\n\n- 创建\/获取确保合规性所需的新工具\n- 为合规计划使用的工具和自动化基础设施提供支持和维护\n\n**企业发展（Cooperate Development）**\n\n- 请求\/监督开源合规性尽职调查在合并或收购之前完成\n- 从外包开发中心接收源代码时确保合规性记录\n\n**文档（Documentation）**\n\n- 在产品文档中包含开源许可证信息和通知（notice）\n\n**开源执行委员会（Open Source Executive Committee）**\n\n- 审查并批准在开源许可下发布专有源代码的提议\n\n**软件采购（Software Procurement）**\n\n- 授权第三方软件提供商在许可或购买的软件组件中披露开源\n- 协助引入包含（或不包含）开源软件的第三方软件\n\n## 开源代码审查\n\n开源合规性工作的核心是识别开源代码及其各自的许可证，以便组织可以满足适用的许可证义务。开源策略和流程指导此核心活动。合规性政策和流程管理开源软件的使用、贡献、审核和发布的各个方面。如果我们采用下图 5 所示的基本流程并对其进行扩展，我们将考虑端到端的合规流程。下图显示了这样一个流程，它具有源自多个源的源代码输入。源代码经过一系列步骤，流程的最终输出包括书面报价、通知列表（版权、归属、许可证），以及为履行许可义务而发布的源代码包。\n\n图 5 提供了端到端合规流程的详细示例，其中包括软件组件被 OSRB 批准在构建系统中与软件产品集成之前经历的各个步骤。\n\n![图 5. 端到端开源合规流程示例](006tNc79ly1g3unjbh5amj31900fuac7.jpg)\n\n图 6 简要描述了每个步骤中发生的情况。\n\n![图 6. 开源合规代码确认步骤详解](006tNc79ly1g3uzfnj1lzj327i0kuq71.jpg)\n\n## 开源代码溯源\n\n让您的软件提供商参与开源合规中至关重要。软件提供商必须披露其可交付成果中包含的开源代码，并提供包括适用源代码在内的所有通知（notice）。\n\n![图 7. 多源开发模型](006tNc79ly1g3upmcjnl5j31di0ncdjd.jpg)\n\n图 7 描绘了多源开发模型和传入源代码的各种源组合。在此模型下，产品或软件堆栈可以包含专有软件、第三方商业和第三方开源软件的任意组合。例如，除了第三方专有源代码之外，软件组件 A 可以包括专有源代码，而软件组件 B 除了可以包含来自开源项目的源代码之外还可以包括专有源代码。\n\n当今的公司处于必须更新其供应链（软件采购）程序以解决获取和使用开源软件的状态。通常会有供应链人员参与将软件从供应商转移到贵公司。他们可以通过两种主要方式支持开源合规性活动：\n\n- 要求第三方软件提供商披露他们在其可交付成果中使用的任何开源，以及\n- 协助许可与开源软件包捆绑在一起或与之集成的第三方软件。\n\n此领域的推荐做法是强制第三方软件提供商披露其产品中使用的所有开源组件，并声明他们计划如何满足适用的开源许可证义务。如果第三方软件包含开源，供应链必须确保在初始入口后满足开源许可证义务——您作为提供开源产品或服务的分销商将承担这些义务和责任。\n\n## 提供便捷的法务支持\n\n大多数组织都会创建开源合规性计划并建立核心团队以确保合规性。大多数公司往往会会遇到开源法律支持的瓶颈，因为您公司里可能有成百上千的使用和集成开源代码的开发人员，而很少有法务人员提供所需的法律支持。扩展开源法律支持需要一些\u0060开箱即用\u0060的思考，但可以借助以下实用方法实现。\n\n### 许可证手册（License Playbooks）\n\n提供面向软件开发人员的易于阅读和摘要的开源许可证摘要。提供有关这些许可证的易于理解的信息，例如许可证授予、限制、义务、专利影响等。使用开源软件许可证手册可以大量减少发送给法律顾问的基本问题的数量，并为开发人员提供了对常见查询的即时指导、信息和答案。\n\n### 许可证兼容性矩阵（License Compatibility Matrix）\n\n许可证兼容性是指确定某个许可证是否与另一个许可证兼容。GPL 兼容性是指确定某个许可证是否与 GPL 条款兼容。当合并源自不兼容许可下软件组件的源代码时，开发团队经常会遇到许可兼容性问题。当开发团队将不同许可证下的代码组合在一起时，可以参考许可证兼容性矩阵来验证在单个软件组件中是否存在加入源代码的许可冲突。如果开发团队使用的许可证源不在矩阵中，则可以后续获得法律顾问的建议。\n\n### 许可证分类\n\n为了减少开源法律顾问收到的问题数量并增加许可和合规流程教育，一些公司选择在几个类别下对其产品中最常用的许可进行分类。图 11 显示了许可证分类系统的一个简单示例，其中大多数使用的开源许可证分为四类。\n\n![图 8. 开源许可证分类（仅供参考）](006tNc79ly1g3ur9rfeqaj310c0gkdip.jpg)\n\n上述许可证类别是对许可证进行分类的简单方法，使开发人员在根据这些许可证集成代码时更容易了解操作过程。下面这个例子是开发人员想要使用在以下许可下的开源软件包的：\n\n- License A - Action：尽管用，没有什么问题\n- License E - Action：获得工程经理的批准\n- License I - Action：获得法律顾问的批准\n- License M - Action：根据政策禁止适用该 License\n- 其他 - Action：向经理询问行动方案\n\n有关此话题的进一步阅读，我们建议阅读**[扩展开源法律支持的实用建议](https:\/\/www2.thelinuxfoundation.org\/pub-practical-advice-to-scale-legal)**。本文探讨了法律顾问在确保开源合规方面的作用，并为法律顾问提供了可以为软件开发团队提供的实用建议。这些实用建议将使软件开发人员能够做出与开源许可相关的日常决策，而无需再去找负责每个问题的法律顾问。\n\n## 开源合规流程中的检查点及发布清单\n\n有必要将合规性实践纳入开发流程，以确保开源合规工作的成功。您可以通过多种方式实现这一目标。\n\n1. **每个内部版本的合规性**：更新流程管理，以确保在产品开发周期中尽早包含开源合规性活动，以使组织能够满足其发布时间表。遵循此模型，未来版本的增量合规性也变得简单明了。\n1. **更新供应链程序**：定制供应链的供应商选择程序，以确保在对供应商及其可交付成果进行尽职调查（Due Diligence）时考虑开源合规性要求。\n1. **执行验证**：使用验证步骤确保在发生发行外部版本之前满足所有合规性要求。\n1. **培训员工**：为所有员工提供开源合规培训。\n1. **采用 SPDX 报告许可证信息**：以 SDPX 格式提供许可证信息，以尽量减少任何可能的错误，并标准化报告信息的方式。\n\n\u003e **SPDX**\n\u003e\n\u003e [SPDX®](https:\/\/spdx.org\/)（Software Package Data Exchange®）是用于传达软件物料清单信息（包括组件、许可证、版权和安全参考）的开放标准。\n\u003e\n\u003e SPDX 通过为公司和社区提供共享格式来共享软件许可、版权和安全参考的重要数据，从而简化和改进合规性，从而减少冗余工作。\n\u003e\n\u003e SPDX 规范由 SPDX 工作组开发，该工作组由 Linux 基金会托管。基层工作包括来自 20 多个组织的代表——软件、系统和工具供应商、基金会和系统集成商——都致力于为软件包数据交换格式创建标准。\n\n### 开发和部署清单\n\n清单很有用，可确保执行合规性任务的一致性和完整性。强烈建议根据员工职责建立合规里程碑清单和目标清单。\n\n清单的示例包括：\n\n- 批准将传入代码集成到产品的源代码存储库之前的核对表\n- 确保履行义务的清单\n- 开发人员的清单\n- 工程经理的清单\n- 合规人员清单\n- 开源法律人员的清单\n- 软件采购人员清单\n\n为了说明这一点，我们提供了一个示例清单，展示了在组织发布源代码包之前必须检查的各种任务，以履行在交付产品中包含的开源代码的许可义务：\n\n预发行清单（Pre-Distribution Checklist）\n\n- 验证引入开源软件包的修改是否已记录，并作为更改日志的一部分包含在开源发行说明中。\n- 确保每个修改后的源代码文件都包含版权声明，免责声明和通用“更改日志”（Changelog）条目的附加条目。\n- 确认源代码包的所有内容均已由工程团队审核并由 OSRB 确认。\n- 确保在非公司标准 Linux 计算机上编译开源软件包。此步骤的目标是确保您要发布的开源软件包在通用最终用户系统上进行编译。\n- 将产品手册更新为：\n  - 提及该产品包含开源软件。\n  - 包括与产品中包含的不同开源软件相对应的所有许可证的列表。\n  - 提供适当的版权和归属通知。\n  - 通过网页下载或通过产品手册中提供的指定地址通过电子邮件或邮寄方式与贵公司联系，说明如何访问开源软件包的代码（书面提供）。\n - 执行语言检查（linguistic review）以确保源代码中没有任何不适当的注释。\n   - 注意：有些公司忘记进行语言检查，当代码发布时，他们会因源代码中留下的不当注释而尴尬。执行语言检查的另一个重要原因是确保源代码和注释不涉及未来的产品代码名称或功能。\n- 确保现有许可、版权和归属通知不受干扰。\n  - 验证要分发的源代码是否与产品一起使用的二进制文件对应，源代码构建到与产品一起分发的同一个库中，并且源代码分发中包含适当的指令（除时间\/日期戳外派生的二进制文件通常是相同的）。\n  - 验证包是否遵循开源策略中定义的链接关系和交互。\n  - 确保在开源软件包的根文件夹中的 LICENSE 文件中包含许可证文本的副本（如果尚未存在）。\n  - 如果源代码包需要特殊的构建工具或环境设置，则将详细信息包含在 README 文件或类似文件中。\n    这些清单，特别是在实现自动化并与业务和开发流程集成时，可以提醒您必须完成的所有事项，以确保合规性并减少发生错误的几率。\n\n## 最后\n\n本书中的最后还推广了波 OpenChain 项目，该项目提供了一组自我认证的选项，由该领域的利益相关者创建，用于合规性规范，该规范允许给定的组织进行自我测试并声明其遵守特定的合规级别。您可以访问 **https:\/\/www.openchainproject.org\/conformance** 了解更多信息。\n', '\/blog\/open-source-compliance-practices\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">本文是开源软件合规实践的，介绍开源软件合规的流程及建议。</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/cloud-native-devops-book/">TheNewStack 云原生 Devops 报告解读</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2019/06/02</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e4%ba%91%e5%8e%9f%e7%94%9f"> 
             云原生
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('TheNewStack 云原生 Devops 报告解读', '本书是 TheNewStack 编辑集结 DevOps 领域的专家在各种大会上的发言、演讲编纂而成。', '\n本书的主旨是：如果没有成熟的 DevOps 实践，云原生是玩转不起来的。DevOps 已经不是什么新鲜的话题，但到底什么是 \u0022Cloud Native DevOps”及如何实践 Cloud Native DevOps，这正是本书要探讨的内容。\n\nDevOps 正在经历一次转型，从自动化构建到声明式基础设施、微服务和 Serverless。大部分人对云原生存在误解，以为\u0060云原生\u0060就是\u0060运行在云上\u0060，其实云原生更偏向于一种理念，即应用的定义及架构方式，而不是将应用运行在哪里。而云上的 DevOps 与传统的 DevOps 有什么区别，开发者和运维人员在云原生时代如何转型？也许本书会给你答案。\n\n## 关于本书\n\n本书是由 [TheNewStack](https:\/\/thenewstack.com) 出品的免费电子书，可以在 [TheNewStack 网站](https:\/\/thenewstack.io\/ebooks\/devops\/cloud-native-devops-2019\/) 上获取本书的电子版，同时推荐 [TheNewStack 的电子书系列](https:\/\/thenewstack.io\/ebooks)，囊括了容器、微服务、Kubernetes、云原生诸多主题，可以作为企业决策的参考读物。\n\n本书是 TheNewStack 编辑集结 DevOps 领域的专家在各种大会上的发言、演讲，有很多观点引用，并结合了一些调查问卷数据展示了一幅云原生 DevOps 的趋势与全景图，下文中我会找一些代表性的观点和图表来说明。\n\n下面是本书目录，一共分为三大部分：构建、部署和管理，其中前两个部分还给出了参考书目、示例研究等。\n\n![云原生 DevOps 目录](a.jpg)\n\n## 谁适合读这本书\n\nIT 经理、CIO、团队领导者，希望规划自己公司或团队的云原生化 DevOps 的实践路径以面对大规模场景。\n\n## 云原生化的 DevOps\n\n\u003e 云原生是对业务价值和团队功能的重构。\n\n云原生化的 DevOps 在应用的管理上与原始的 DevOps 最大的区别就是——使用 YAML 文件配置的声明式基础设施（Declarative infrastructure）与应用程序的代码本身放在同一个存储库中，这些 \u0060代码\u0060 将由开发团队来维护，而运维团队的职能将转变为基础设施的构建者，服务安全性、健壮性、可见性及耐用性的守护者。\n\nAWS 的 Serverless 布道师 Chris Munns 早已甚至预测到 2025 年非云供应商的运维人员将不复存在，虽然听上去有点危言耸听，但这也是为传统 IT 运维人员的职业生涯敲响的警钟。\n\n![云原生 DevOps 高亮部分](b.jpg)\n\n开发接手了原来传统运维的一些职责，如配置和发布，减少了每次发布的成本，而运维的职责向管理整个系统的复杂性转变，例如转变为 SRE（Site Reliability Engineer）。\t\n\n## 工作流自动化的价值\n\nDevOps 的原始教义：DevOps 不是一种工具或流程，而是一种重视整个组织的持续沟通、协作、集成和自动化的实践。\n\n![工作流自动化的五个案例](c.jpg)\n\n根据自动化的驱动力及持续时间的长短，将 Workflow Automation 划分为五个类别。\n\n- 业务流程自动化\n- 分布式系统通信\n- 分布式事务\n- 编排\n- 决策自动化\n\n## 运维需要做出的转变\n\nDamon Edwards 提出于运维需要面对的四个灾难（[圣经启示录中的四骑士](https:\/\/zh.wikipedia.org\/wiki\/启示录中的四骑士)）：\n\n- Silos（孤岛）\n- Ticket queues（无尽的低效的工单）\n- Toil（干脏活累活的辛勤）\n- Low trust（低信任度）\n\n要向云原生 DevOps 转变就要克服以上几个问题。\n\n## DevOps 领域的扩展\n\n本书第三章中提到 DevOps 的领域扩展到 Security 和 Networking。\n\n- 为了维持合规的编程语言\n- 容器镜像扫描\n- 基于策略的网络安全\n- 金丝雀测试\n- 运行时的威胁检测\n- 日志分析', '\/blog\/cloud-native-devops-book\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">本书是 TheNewStack 编辑集结 DevOps 领域的专家在各种大会上的发言、演讲编纂而成。</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/open-source-cla/">开源社区贡献者协议 CLA 介绍</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2019/04/20</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%bc%80%e6%ba%90"> 
             开源
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('开源社区贡献者协议 CLA 介绍', '很多从事开源人可能会注意到有些开源项目要求贡献者在提交 PR 前首先签署 CLA。', '\n很多从事开源人可能会注意到有些开源项目要求贡献者在提交 PR 前首先签署 CLA，只有签署了 CLA 之后 PR 才可以合并。\n\n## 开源贡献协议简介\n\n下面列举了开源贡献协议的一些简介：\n\n- 开源贡献协议有 CLA（Contributor License Agreement）和 [DCO](https:\/\/developercertificate.org\/)（Developer Certificate of Origin）两种；\n- DCO 由 Linux Foundation 提出，是固定的简短条文（只有 4 条），旨在让贡献者保证遵守开源 license；\n- CLA 是对开源 license 的法律性质补充，由法务制定；\n- CLA 可以自定义，不论是个人还是企业级签署的时候都需要提供详细的信息，如姓名、公司、邮箱、地址、电话等；\n- 下表中对比了 CLA 和 DCO 的特性，推荐大型跨公司开源项目使用 CLA，利用项目更加正规和长久发展；\n\n开源社区的贡献者协议一般分为两种 CLA 和 DCO，这两种协议各有优缺点如下。\n\n| 特性         | CLA                                                | DCO                                                        |\n| ------------ | -------------------------------------------------- | ---------------------------------------------------------- |\n| 社区属性     | 弱                                                 | 强                                                         |\n| 签署方式     | 一次性                                             | 每次提交时在 commit 信息里追加 \u0060Signed-off-by: email\u0060 信息 |\n| 法律责任     | 明确法律义务                                       | 无声明，用来限制提交者遵守开源 license                     |\n| 是否可自定义 | 公司或组织可自行定义                               | 否                                                         |\n| 使用案例     | Google、Pivotal、CNCF、阿里巴巴、Apache SkyWalking | GitLab、Chef、Harbor、TiKV                                 |\n| 公司属性     | 强，可以签署公司级别的 CLA                         | 弱                                                         |\n\n## 什么是 CLA\n\nCLA 是 Contributor License Agreement 的缩写，CLA 可以看做是对开源软件本身采用的开源协议的补充。一般分为公司级和个人级别的 CLA，所谓公司级即某公司代表签署 CLA 后即可代表该公司所有员工都签署了该 CLA，而个人级别 CLA 只代表个人认可该 CLA。\n\n## CLA 包含哪些内容？\n\n因为 CLA 是每个公司或组织自定义的，在细节上可能稍有不同，不过总体都包含以下内容：\n\n- 关于签署该 CLA 的主体和贡献的定义；\n- 授予著作权给拥有该软件知识产权的公司或组织；\n- 专利许可的授予；\n- 签署者保证依法有权授予上述许可；\n- 签署者确保所有的贡献内容均为原创作品；\n- 签署者为贡献内容支持的免责描述；\n- 说明贡献者提交非原创作品应该采用的方式；\n- 保证在获悉任何方面不准确的事实或情况之时通知签约方；\n\n对于主体在中国的企业，还加入了一些本地化的内容，如 [Alibaba Open Source Individual CLA](https:\/\/github.com\/aliyun\/cla)。\n\n因为 CLA 分别为个人级和公司级，所以对于不同名义签署时需要提供不同的信息。签署个人级 CLA 的时候需要提供个人信息（姓名、地址、邮箱、电话等），签署公司级 CLA 还需要提供公司信息（名称、地址、联系电话、邮箱、传真等）；\n\n## 什么是 DCO\n\nDCO 是 Developer Certificate of Origin 的缩写，由 Linux Foundation 于 2004 年制定。DCO 最大的优点是可以减轻开发者贡献的阻碍，不用阅读冗长的 CLA 法律条文，只需要在提交的时候签署邮件地址即可。Chef 和 GitLab 已分别于 2016 年和 2017 年从 CLA 迁移到 DCO。\n\n如 CNCF 的 Sandbox 项目 [harbor](https:\/\/github.com\/goharbor\/harbor) 就是使用的 DCO。\n\n[DCO](\u003chttps:\/\/developercertificate.org\/\u003e) 目前是 1.1 版本，内容很简单，开源项目的贡献者只需要保证以下四点：\n\n1. 该贡献全部或部分由我创建，我有权根据文件中指明的开源许可提交；要么\n2. 该贡献是基于以前的工作，这些工作属于适当的开源许可，无论这些工作全部还是部分由我完成，我有权根据相同的开源许可证（除非我被允许根据不同的许可证提交）提交修改后的工作；要么\n3. 该贡献由 1、2、或 3 证明的其他人直接提供给我，而我没有对其进行修改。\n4. 我理解并同意该项目和贡献是公开的，并且该贡献的记录（包括我随之提交的所有个人信息，包括我的签字）将无限期保留，并且可以与本项目或涉及的开源许可证保持一致或者重新分配。\n\n## CLA vs DCO\n\nKubernetes 社区中有过讨论将 Kubernetes 贡献者从 CLA 迁移到 DCO，最后 TOC 成员 Tim Hockin 觉得签署 CLA 对于贡献者只需要痛苦一次，每次提交都签署 DCO 是持续的痛苦，因此最后还是坚持使用 CLA。参考[Move from CLA to DCO #2649](https:\/\/github.com\/kubernetes\/community\/issues\/2649)。\n\n2018 年 CNCF 对其托管的项目的 Maintainer 做了调研，从反馈来看，Maintainer 对 DCO 是存在痛点的，并希望 CNCF 投入更多的 PR 和市场力量来对抗具有全职 PR\/marketing 的初创公司。\n\n如果为了更注重个人贡献者，考虑社区属性，可以使用 DCO，这样对于开源项目的管理者来说就不用指定复杂的 CLA 了，但是对于大型项目由众多合作方的项目，建议使用 CLA。\n\n## 阿里巴巴 CLA\n\n阿里巴巴只提供个人级别的 CLA 签署：\u003chttps:\/\/cla-assistant.io\/alibaba\/weex\u003e\n\nCLA 内容见：\u003chttps:\/\/github.com\/aliyun\/cla\u003e\n\n阿里巴巴的 CLA 是参照 [Apache CLA](https:\/\/www.apache.org\/licenses\/icla.pdf) 撰写的，最后加上两条补充，协议受中国杭州的法院监管，同时提供双语版本，如中引文版本有冲突以英文版本为准。\n\n## Google CLA\n\nGoogle 的 CLA 也是仿照 Apache CLA 撰写的，Google 开源的一些列项目如 Istio、TensorFlow、Knative 等都是需要签署 [Google CLA](\u003chttps:\/\/cla.developers.google.com\/clas\u003e)。\n\n1. 要贡献者授予 Google 以及其他软件用户贡献内容的版权以及内容背后的专利权。贡献者不要因为版权和专利权诉讼 Google 和其他软件用户。\n2. 明确贡献的原创性。不要因为贡献者的不适当抄袭行为，导致 Google 和其他软件使用者被诉讼。\n3. 签署公司级别 CLA 的人要能代表所在公司的所有贡献者。\n4. 维护贡献者列表的不一定是跟签署该协议的是同一个人，签名者可以指定一个人来管理。\n\n参考：[解读：Google Software Grant and Corporate Contributor License Agreement](https:\/\/docs.google.com\/document\/d\/1FJkYaEZbKwmoEWrsbzDxdI-ytlEg73OsOcMXaF8Z01E\/)\n\n## Pivotal CLA\n\nPivotal 的 CLA 也是仿照 Apache CLA 撰写的，唯一增加了一点是协议受美国加州法律监管。签署个人级协议的时候需要提供姓名、邮箱、邮寄地址（可选）、国家（可选）、电话（可选），签署公司级别的 CLA 的条款了还增加了一条对于签名者必须有权利代表整个公司，要求的信息也更加详细，包括姓名、邮箱、邮寄地址、国家、电话、公司名称、GitHub 组织、头衔等。参与贡献 Pivotal 主导的 Spring 社区和 CloudFoundry 里的项目需要签署 [Pivotal CLA](\u003chttps:\/\/cla.pivotal.io\/\u003e)。\n\n## 建议\n\n如果你的开源项目可能会有公司间合作或者要贡献给基金会，为了防范法律风险，请直接使用 CLA；如果更看重社区内的合作，可以使用 DCO。\n\n## 参考\n\n- [Individual Contributor License Agreement (“Agreement”) V2.0](https:\/\/www.apache.org\/licenses\/icla.pdf)\n- [Move from CLA to DCO #2649 - github.com](https:\/\/github.com\/kubernetes\/community\/issues\/2649)\n- [Alphabet CLA Policy and Rationale - opensource.google.com](https:\/\/opensource.google.com\/docs\/cla\/policy\/)\n- [The Apache Software Foundation Software Grant and Corporate Contributor License Agreement (\u0022Agreement\u0022) - apache.org](\u003chttps:\/\/www.apache.org\/licenses\/cla-corporate.txt\u003e)\n- [Alibaba Open Source Individual CLA - github.com](https:\/\/github.com\/aliyun\/cla)\n', '\/blog\/open-source-cla\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">很多从事开源人可能会注意到有些开源项目要求贡献者在提交 PR 前首先签署 CLA。</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/contribute-project-to-cncf/">如何将一个开源项目加入 CNCF？</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2019/04/15</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%bc%80%e6%ba%90"> 
             开源
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('如何将一个开源项目加入 CNCF？', ' CNCF 基金会的开源项目治理规则和组织架构，还有如何将一个开源项目加入到 CNCF。', '\n前段时间看了一篇文章[为什么中国没有 Apache 基金会这样的组织？](https:\/\/www.infoq.cn\/article\/l0bCXU3SojYXpz-AhP3v)，二叉树视频中采访了[开源社](http:\/\/www.kaiyuanshe.cn\/)的理事长老刘，他的一番话也让我很受启发，在关注和参与 CNCF 基金会这几年来我也有很多收获，有一点就是了解到了一个开源社区（基金会）治理的规则。\n\n虽然 CNCF 没有 Apache、GNOME、FreeBSD 历史那么悠久，但是它成立的短短几年内就成功的运作了 [Kubernetes](https:\/\/kubernetes.io) 这样的超大型开源项目，一定有其可取之处。今天我就来给大家分享下 CNCF 基金会的开源项目治理规则和组织架构，还有如何将一个开源项目加入到 CNCF。\n\nCNCF 根据“[鸿沟理论](\/blog\/crossing-the-chasm\/)”将其托管的项目分成三个成熟阶段，并设置了项目晋级到更高阶段的标准。\n\n\u003e “鸿沟理论”是由 Geoffrey A. Moore 提出的高科技产品的市场营销理论。新技术要想跨越鸿沟，必须能够实现一些跨越式的发展，**拥有某一些以前不可能实现的功能**，具有某种内在价值并能够**赢得非技术人员的**青睐。\n\n![CNCF 项目的成熟度分类](cncf-graduation.jpg)\n\n*图片来自 \u003chttps:\/\/www.cncf.io\/projects\/\u003e*\n\n### 开源项目如何加入 CNCF\n\n1. 开源项目所支持的公司成为 CNCF 会员\n2. 开源项目满足 CNCF 的要求（见后文）\n3. 在 GitHub 上提交 [proposal](https:\/\/github.com\/cncf\/toc\/issues\/113)（GitHub Issue）列举项目介绍、现状、目标、license、用户与社区等\n4. 由 Chris Aniszczyk 安排该项目在某个 TOC 双月会议上介绍给 TOC 成员\n5. 1.TOC 会将开源项目指定到某个 [SIG](https:\/\/jimmysong.io\/kubernetes-handbook\/cloud-native\/cncf-sig.html) 中\n6. 项目获得两个 TOC 成员的赞成可进入 [sandbox](https:\/\/github.com\/cncf\/toc\/blob\/master\/process\/sandbox.md)（也可以直接获得 2\/3 多数 TOC 投票进入 Incubating 状态）\n7. 知识产权转移给 CNCF\n8. CNCF 安排博客撰写、PR 等\n9. 每年一次评审，晋升到 incubating 需要 2\/3 的 TOC 成员投票赞成；至少 3 家用户成功在生产上使用；通过 TOC 的尽职调查；贡献者数量健康稳定\n10. Sandbox 中的项目没有时效性质，可能永远都无法进入 incubating 状态，被 CNCF 谨慎宣传\n\n### CNCF 开源项目成熟度演进\n\nCNCF 的开源项目遵循如下图所示的成熟度演进。\n\n![CNCF 项目成熟度级别](cncf-graduation-criteria-v2.jpg)\n\n关于上图的一些说明：\n\n- 加入 Sandbox 只需要 2 个 TOC 成员赞成\n- 成熟一点的项目可以直接进入 incubating 阶段，但是 CNCF 会控制不同阶段的项目比例\n- 晋级到 Incubating 或 Graduated 需要至少 2\/3 的 TOC 成员（6 名或以上）投票赞成\n- 每年将评审一次\n\n目前处于沙箱、孵化中、已毕业项目的数量比例为 5:16:13，详见 \u003chttps:\/\/cncf.io\/projects\u003e。其中沙箱（sandbox）项目因为其处于早期阶段并没有直接在上面的链接页面中列出，而是一个单独的 [Sandbox](https:\/\/www.cncf.io\/sandbox-projects\/) 页面，因为 CNCF 为 sandbox 阶段的项目会谨慎背书。\n\n### 纳入 CNCF 开源版图的项目需要符合其对云原生的定义\n\nCNCF 中托管的开源项目要符合云原生定义：\n\n- 云原生技术有利于各组织在公有云、私有云和混合云等新型动态环境中，构建和运行可弹性扩展的应用。**云原生的代表技术包括容器、服务网格、微服务、不可变基础设施和声明式 API**。\n- 这些技术能够构建容错性好、易于管理和便于观察的松耦合系统。结合可靠的自动化手段，云原生技术使工程师能够轻松地对系统作出频繁和可预测的重大变更。\n- 云原生计算基金会（CNCF）致力于培育和维护一个厂商中立的开源生态系统，来推广云原生技术。我们通过将最前沿的模式民主化，让这些创新为大众所用。\n\n### 项目运作流程\n\n下图演示了开源项目加入 CNCF 后的整个运作流程。\n\n![CNCF 中的项目运作](006tNc79ly1g1yz80ag98j31cs0n2gr7.jpg)\n\n### 开源项目如何加入 CNCF\n\n1. 开源项目所支持的公司成为 CNCF 会员\n2. 开源项目满足 CNCF 的要求（见后文）\n3. 在 GitHub 上提交[proposal](https:\/\/github.com\/cncf\/toc\/issues\/113)（GitHub Issue）列举项目介绍、现状、目标、license、用户与社区等\n4. 由 Chris Aniszczyk 安排该项目在某个 TOC 双月会议上介绍给 TOC 成员\n5. 1.TOC 会将开源项目指定到某个 [SIG](https:\/\/jimmysong.io\/kubernetes-handbook\/cloud-native\/cncf-sig.html) 中\n6. 项目获得两个 TOC 成员的赞成可进入[sandbox](https:\/\/github.com\/cncf\/toc\/blob\/master\/process\/sandbox.md)（也可以直接获得 2\/3 多数 TOC 投票进入 Incubating 状态）\n7. 知识产权转移给 CNCF\n8. CNCF 安排博客撰写、PR 等\n9. 每年一次评审，晋升到 incubating 需要 2\/3 的 TOC 成员投票赞成；至少 3 家用户成功在生产上使用；通过 TOC 的尽职调查；贡献者数量健康稳定\n10. Sandbox 中的项目没有时效性质，可能永远都无法进入 incubating 状态，被 CNCF 谨慎宣传\n\n### 开源项目加入 CNCF 的最低要求（Sandbox）\n\n一个开源项目要想加入 CNCF 必须满足以下要求：\n\n- 项目名称必须在 CNCF 中唯一\n- 项目描述（用途、价值、起源、历史）\n- 与 CNCF 章程一致的声明\n- 来自 TOC 的 sponsor（项目辅导）\n- license（默认为 Apache 2）\n- 源码控制（Github）\n- 网站（英文）\n- 外部依赖（包括 license）\n- 成熟度模型评估（参考 [开源项目加入 CNCF Sandbox 的要求](https:\/\/jimmysong.io\/kubernetes-handbook\/cloud-native\/cncf-sandbox-criteria.html)）\n- 创始 committer（贡献项目的时长）\n- 基础设施需求（CI\/CNCF 集群）\n- 沟通渠道（slack、irc、邮件列表）\n- issue 追踪（GitHub）\n- 发布方法和机制\n- 社交媒体账号\n- 社区规模和已有的赞助商\n- svg 格式的项目 logo\n\n### 由 Sandbox 升级到 Incubating 的要求\n\n- 通过 TOC 的[尽职调查](https:\/\/github.com\/cncf\/toc\/blob\/master\/process\/due-diligence-guidelines.md)\n- 至少有 3 个独立的终端用户在在生产上使用该项目：一般在项目的官网列举实际用户\n- 足够健康数量的贡献者：项目的 GitHub 上有明确的 committer 权限划分、职责说明及成员列表，TOC 将根据项目大小来确认多少 committer 才算健康\n- **展示项目在持续进行、良好的发布节奏、贡献频率十分重要**\n\n### 由 Incubating 升级到 Graduated 的要求\n\n- 满足 Sandbox 和 Incubating 的所有要求\n- **至少有来自两个组织的贡献者**\n- 明确定义的项目治理及 committer 身份、权限管理\n- 接受 CNCF 的[行为准则](https:\/\/github.com\/cncf\/foundation\/blob\/master\/code-of-conduct.md)，参考[Prometheus](https:\/\/bestpractices.coreinfrastructure.org\/en\/projects\/486)\n- 获得 CII 最佳实践徽章\n- 在项目主库或项目官网有公开的采用者的 logo\n\n参考归档的 Review：\u003chttps:\/\/github.com\/cncf\/toc\/tree\/master\/reviews\u003e\n\n### 参考\n\n- [鸿沟理论 - jianshu.com](https:\/\/www.jianshu.com\/p\/a305fa93580b)\n- [CNCF Graduation Criteria v1.2 - github.com](https:\/\/github.com\/cncf\/toc\/blob\/master\/process\/graduation_criteria.adoc)\n- [为什么中国没有 Apache 基金会这样的组织？ - infoq.cn](\u003chttps:\/\/www.infoq.cn\/article\/l0bCXU3SojYXpz-AhP3v\u003e)\n- [开源社首页 - kaiyuanshe.cn](\u003chttp:\/\/www.kaiyuanshe.cn\/\u003e)\n', '\/blog\/contribute-project-to-cncf\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text"> CNCF 基金会的开源项目治理规则和组织架构，还有如何将一个开源项目加入到 CNCF。</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/cncf-annual-report-2018-review/">CNCF 年度报告解读（2018 年）</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2019/02/13</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e4%ba%91%e5%8e%9f%e7%94%9f"> 
             云原生
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('CNCF 年度报告解读（2018 年）', '本文是对 CNCF（云原生计算基金会）2018 年年度报告的解读。', '\n2019 年 2 月初，CNCF 发布了 2018 年的年度报告，这是 CNCF 继 2017 年度报告之后，第二次发布年度报告，2017 年度的报告只有区区 14 页，今年的报告长度增长了一倍达 31 页。下面我将带大家一起来深度解读下这份 2018 年的年度报告，一窥 CNCF 过去一年里在推广云原生的道路上取得的进展。\n\n*注：本文最后附上了 2017 年和 2018 年度的报告下载地址。*\n\n## CNCF 年度报告涵盖的范围\n\n在解读 CNCF 的 2018 年度报告之前，我们先简单回顾下2017 年度的报告，因为 2017 年度报告是 CNCF 的首份年度报告，这样我们也能更好的了解 CNCF 的来龙去脉。\n\n2017 年度报告已经基本确定了 CNCF 每个年度报告所包含的主题：\n\n- 自我定位\n- 会员参与情况\n- 终端用户社区\n- 项目更新\n- 会议和活动\n- 社区\n- 培训和认证\n\n以上为 CNCF 主要的市场活动，2017 年时其成立的第二年，经过一年时间的筹备，这一年里各种市场活动都已经开始确立并有声有色的开展了起来，包括 KubeCon、成员单位、终端用户都已经发展起来了，以后历年里只是对其不断的发展和完善。\n\n2018 年度报告中又新增了一些主题，这些主题是从 2018 年开始开展的，包括：\n\n- **项目更新与满意度调查**\n  - 给 CNCF 项目的维护者发调查问卷询问满意度\n  - [CNCF charter](https:\/\/www.cncf.io\/about\/charter\/) 的修订（2018 年 11 月）\n  - 项目更新与发布\n  - 项目服务与支援\n  - 专项活动、文档、网站与博客支持\n  - 本地化、IT 支持和培训\n- **社区拓展**\n  - 社区奖项\n  - CNCF Meetup\n  - [CNCF Ambassador 计划](https:\/\/www.cncf.io\/people\/ambassadors\/)\n  - 卡通吉祥物 Phippy\n- **生态系统工具**\n  - [devstats](https:\/\/devstats.cncf.io\/)\n  - [CNCF Landscape](https:\/\/landscape.cncf.io) 和路线图\n  - 项目 logo 物料\n- **测试一致性项目**\n- **国际化**\n  - 进入中国\n  - 本地化网站\n\n详情请大家从本文最后的链接下载报告原文以查看详情。\n\n## CNCF 的定位\n\nCNCF（云原生计算基金会）成立于 2015 年 12 月 11 日，每届年度报告的开篇都会阐明 CNCF 的定位，CNCF 的自我定位在 2018 年发生了一次变动，这也说明基金会是跟随市场形势而动，其定位不是一成不变的，其中的变化暗含着 CNCF 战略的转变。\n\n### CNCF 的 2017 年度定位\n\n2017 年度报告中是这样正式介绍自己的：\n\nThe Cloud Native Computing Foundation (CNCF) is an open source software foundation dedicated to making cloud-native computing universal and sustainable. Cloud-native computing uses an **open source** software stack to deploy applications as **microservices**, packaging each part into its own **container**, and **dynamically orchestrating** those containers to optimize resource utilization. Cloud-native technologies enable software developers to build great products faster. \n\nWe are a community of open source projects, including Kubernetes, Envoy and Prometheus. Kubernetes and other CNCF projects are some of the highest velocity projects in the history of open source. \n\n可以看到介绍中的重点技术是：微服务、容器、动态编排。而在 2018 年 CNCF 对自己进行了重新的定位和包装，增加了新的内容。\n\n### CNCF 的 2018 年度定位\n\n[2018 年度报告](https:\/\/www.cncf.io\/wp-content\/uploads\/2019\/02\/CNCF_Annual_Report_2018_FInal.pdf)中 CNCF 对自己的定位是：\n\nThe Cloud Native Computing Foundation (CNCF) is an open source software foundation dedicated to making cloud native computing universal and sustainable. Cloud native technologies empower organizations to build and run scalable applications in modern, dynamic environments such as public, private, and hybrid clouds. **Containers**, **service meshes**, **microservices**, **immutable infrastructure**, and **declarative APIs** exemplify this approach. \n\nWe are a community of open source projects, including Kubernetes, Prometheus, Envoy, and many others. Kubernetes and other CNCF projects are some of the highest velocity projects in the history of open source. \n\n我们可以看到其表述中更加注重多云环境，主要涉及的技术比 2017 年多了 Service Mesh（服务网格）、不可变基础设施和声明式 API。\n\n## 数读报告\n\nCNCF 年度报告的原文主要是汇报了 CNCF 一年来的所展开的活动和进展，下表示根据 CNCF 2017 和 2018 年度报告整理了关键数据。\n\n| **Year**                                   | **2016** | **2017** | **2018** |\n| ------------------------------------------ | -------- | -------- | -------- |\n| **Members**                                | 63       | 170      | 365      |\n| **Contributors**                           | -        | 18687    | 47358    |\n| **CNCF Meetup Members**                    | -        | 53925    | 89112    |\n| **Projects**                               | 4        | 14       | 32       |\n| **End User Community Members**             | -        | 32       | 69       |\n| **Conference and Events Participants**     | -        | 4085     | -        |\n| **Certified Kubernetes Partners**          | -        | 44       | -        |\n| **Certified Kubernetes Service Providers** | -        | 28       | 74       |\n| **CNCF Ambassador**                        | -        | -        | 65       |\n| **Kubernetes Training Partners**           | -        | -        | 18       |\n\n**注**：其中 2016 年是 CNCF 正式开始工作的第一年，大部分数据因为活动尚未开展而缺失。\n\n从上表中我们可以看到 CNCF 诞生三年来基金会成员规模、托管项目的贡献者、参加 CNCF 名义的 Meetup 的人数取得较大范围的增长，尤其是 2018 年，因为基金会成员的爆发式增长（\u002b130%），CNCF 开始给成员分级，会员级别、费用和权益也在 [CNCF 官网](https:\/\/www.cncf.io\/about\/join\/)上明码标价。\n\n2018 年 CNCF 组织的 KubeCon\u0026CloudNativeCon 开始固定每年在西欧、北美和中国举行，且 2018 年是首次进入中国；原来的 Certified Kubernetes Partners 也取消了变成了 Certified Kubernetes Service Providers；CNCF 的 [Ambassador](https:\/\/www.cncf.io\/people\/ambassadors\/) 计划拥有了来自 15 个国家的 65 位 Ambassador，在世界各地为云原生布道；CNCF 还首次引入了 Kubernetes Training Partner。\n\n2018 年 CNCF 又推出了一系列新的认证（CKA 为 2017 年推出），包括：\n\n- [CKA](https:\/\/www.cncf.io\/certification\/cka\/)（Kubernetes 管理员认证）：这是 CNCF 最早制定的一个证书，顾名思义，通过该认证证明用户具有管理 Kubernetes 集群的技能、知识和能力。虽然该证书在 2017 年即推出，但 2018 年对考试做了更细致的指导。KCSP 要求企业必须有至少三人通过 CKA。\n- [CKAD](https:\/\/www.cncf.io\/certification\/ckad\/)（Kubernetes 应用开发者认证）：该认证证明用户可以为 Kubernetes 设计、构建、配置和发布云原生应用程序。经过认证的 Kubernetes Application Developer 可以定义应用程序资源并使用核心原语来构建、监控 Kubernetes 中可伸缩应用程序和排除故障。\n- [KCSP](https:\/\/www.cncf.io\/certification\/kcsp\/)（Kubernetes 服务提供商认证）：截止本文发稿时共有 74 家企业通过该认证。该认证的主体是企业或组织，通过 KCSP 的企业意味着可以为其他组织提供 Kubernetes 支持、咨询、专业服务和培训。通过该认证的中国企业有：灵雀云、阿里云、博云、才云、DaoCloud、EasyStack、易建科技、精灵云、谐云科技、华为、时速云、星号科技、睿云智合、沃趣、元鼎科技、ZTE。\n- [Certified Kubernetes Conformance](https:\/\/www.cncf.io\/certification\/software-conformance\/)（Kubernetes 一致性认证）：通过该认证的 Kubernetes 提供商所提供的服务，意味着其可以保证 Kubernetes API 的可移植性及跨云的互操作性；及时更新到最新的 Kubernetes 版本；是否一致是可以通过[运行开源脚本](https:\/\/github.com\/cncf\/k8s-conformance\/blob\/master\/instructions.md)验证的。截止本文发稿通过该认证的中国企业的发行版有：灵雀云（ACE、ACP、AKS）、才云 Compass、华为 FusionStage、酷栈科技 CStack MiaoYun、Daocloud Enterprise、新智认知新氦云、浪潮云、京东 TIG、网易云、七牛云、同方有云、睿云智合 WiseCloud；通过认证的中国企业托管平台有：阿里云、百度云、博云、EasyStack、易建科技、谐云科技、华为云 CCE、腾讯云 TKE、时速云、ZTE TECS。\n\n以上是 CNCF 提供的主要证书，一般通过 KCSP 的企业都要先通过 Kubernetes 一致性认证，而通过 Kubernetes 一致性认证不一定要同时通过 KCSP，所以我们看到很多通过 Kubernetes 一致性认证的企业就不一定会通过 KCSP，因为 KCSP 的要求更多，至少要成为 CNCF 会员才可以。\n\n下面将就 CNCF 会员、托管项目的成熟度等级划分、Kubernetes 服务提供商认证和 Kubernetes 提供商认证做详细说明。\n\n## CNCF 会员\n\n2018 年 CNCF 的会员单位经历了爆发式增长，从 170 家增长到 365 家。CNCF 制定了如下的会员等级：\n\n- Silver Member\n- Gold Member\n- Platinum Member\n- Academic\/Nonprofit Member\n- End User Member\n\n不同等级的会员需要交纳的年费与权益不同，详情请见 \u003chttps:\/\/www.cncf.io\/about\/join\/\u003e。\n\n### 成为 CNCF 会员的好处\n\n成为 CNCF 会员包括但不限于如下好处：\n\n- 将可以参与 CNCF 市场委员会、CNCF Webinar、在 CNCF 和 Kubernetes 官网发表博客、博客被 KubeWeekly 收录、\n- 获得 KubeCon \u002b CloudNativeCon 的门票折扣和参与大会的市场活动\n- 对于 Kubernetes 系列认证如 KCSP、入选 TOC 也要求必须成为 CNCF 会员才可以获得\n- End User Case Study\n- 有机会加入 Ambassador 计划\n- 在社区里具有更多的话语权，例如 CNCF 在全球范围内组织的活动\n\n## 项目成熟度等级\n\n自 2015 年底 CNCF 创立之初 Kubernetes 成为其首个托管项目以来，截止到 2018 年底，CNCF 已经托管了[32 个开源项目](https:\/\/www.cncf.io\/projects\/)，随着越来越多的项目加入到 CNCF，为了更好的管理这些项目，为这些项目划分不同的成熟度等级就成了迫在眉睫的事情。\n\n![CNCF 项目成熟度级别](cncf-graduation-criteria-v2.jpg)\n\n根据《Crossing the Chasm》一书中的技术采用生命周期理论，CNCF 将其托管的项目划分为三个等级：\n\n- Graduated：对应于早期成熟项目。截止到本文发稿时只有 [Kubernetes](https:\/\/kubernetes.io\/)、[Prometheus](https:\/\/prometheus.io\/)、[Envoy](https:\/\/www.envoyproxy.io\/) 和 https:\/\/coredns.io\/ 毕业。\n- Incubating：对应于早期采用者阶段。截止到本文发稿时有 16 个项目。\n- Sandbox：对应于创新者阶段。截止到本文发稿时有 12 个项目。\n\n查看 CNCF 托管的项目列表请访问：https:\/\/www.cncf.io\/projects\/\n\nCNCF 通过为项目设置成熟度水平是来建议企业应该采用哪些项目。CNCF 中托管的项目通过向 CNCF 的技术监督委员会（TOC）展示其可持续发展性来提高其成熟度：项目的采用率，健康的变化率，有来自多个组织的提交者，采用了 [CNCF 行为准则](https:\/\/github.com\/cncf\/foundation\/blob\/master\/code-of-conduct-languages\/zh.md)，实现并维护了核心基础设施倡议（Core Infrastructure Initiative）[最佳实践证书](https:\/\/bestpractices.coreinfrastructure.org\/)。详细信息在 [毕业标准 v1.1](https:\/\/github.com\/cncf\/toc\/blob\/master\/process\/graduation_criteria.adoc)。\n\n## Certified Kubernetes Service Provider\n\n通过 [KCSP](https:\/\/www.cncf.io\/certification\/kcsp\/) 意味着企业具有为其他企业或组织提供 Kubernetes 支持、咨询、专业服务和培训的资质。2018 年又有 46 家企业通过了[KCSP](https:\/\/www.cncf.io\/certification\/kcsp\/)，通过该认证的企业累计达到 76 家。\n\n**如何通过 KCSP**\n\n要想通过 KCSP 必须满足以下三个条件：\n\n- 三名或更多工程师通过认证 Kubernetes 管理员（CKA）考试。*（CKAD 考试不计入此要求）* \n- 支持企业最终用户的商业模式，包括为客户提供驻场工程师\n- 成为 CNCF 会员\n\n通过 KCSP 有如下好处：\n\n- 企业的 logo 会出现在 [Kubernetes Partners](https:\/\/kubernetes.io\/partners\/) 页面\n- 参加与云原生项目 leader、TOC 成员、CNCF Governing Board 的月度会议\n- 向终端用户的 leader 寻求帮助\n\n因为有如上这些好处，为了获得 Kubernetes 项目实施的资质，同时保持与基金会至今的交流，Kubernetes 厂商对该认证都趋之若鹜。\n\n## Certified Kubernetes offering\n\n通过 KCSP 认证只代表企业有为他人实施 Kubernetes 项目的资质，而企业自身可能并不对外提供 Kubernetes 平台或服务，这些企业可能只是系统集成商或 ISV，这时候 CNCF 又推出了 Kubernetes 提供商认证。\n\nKubernetes 认证的提供商包括 Kubernetes 发行版、托管平台和安装器，通过认证的工具或平台将允许使用 Kubernetes 认证的 Logo，并保证 Kubernetes 一致性认证。\n\n## 展望 2019\n\n2018 年 Kubernetes 成为 CNCF 孵化的首个毕业项目，根据 CNCF 打造的项目成熟度模型，Prometheus、Envoy、CoreDNS 相继毕业，CNCF 的眼光早已不再仅盯着 Kubernetes 了，[CNCF Landscape](https:\/\/landscape.cncf.io) 几乎包揽了所有云计算相关开源项目。可以说 CNCF 早已超出了 Kubernetes 的范畴，而是旨在一个建立在 Kubernetes 为底层资源调度和应用生命周期管理之上的生态系统，CNCF 中还演进出了如 Service Mesh 和 Serverless 之类的分支。\n\n从 CNCF 2017 和 2018 年度的变化来看，其中已经去掉了”dynamically orchestrating“的字眼，也就意味着 Kubernetes 在容器编排领域已经胜出，进而强调多云环境，同时 CNCF 推动的 Kubernetes 一致性认证也受到众多云厂商的支持，这也意味着 Kubernetes 将成为多云环境 API 一致性的保证。\n\nCNCF 在 2019 年的战略将更聚焦于开发者社区，协助尤其是来自终端用户的开发者成为项目的 contributor 和 maintainer，保证终端用户的意见能够在社区里被正确地传达和并最终成功地采纳云原生。\n\n## 参考\n\n- CNCF Annual Report 2017 pdf\n- [CNCF Annual Report 2018 pdf](https:\/\/www.cncf.io\/wp-content\/uploads\/2019\/02\/CNCF_Annual_Report_2018_FInal.pdf)\n- [CNCF  Projects](https:\/\/www.cncf.io\/projects\/)\n- [CNCF Landscape](https:\/\/landscape.cncf.io)\n- [CNCF Ambassadors](https:\/\/www.cncf.io\/people\/ambassadors\/)\n- [Kubernetes Certified Service Providers](https:\/\/www.cncf.io\/certification\/kcsp\/)\n\n', '\/blog\/cncf-annual-report-2018-review\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">本文是对 CNCF（云原生计算基金会）2018 年年度报告的解读。</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> 阅读原文请转到：https://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
          <div class="col-12">
 
 
 
 
 
 
 
 
 
 
 
 <nav aria-label="Page navigation">
   <ul class="pagination justify-content-center">
     
     
     <li class="page-item">
       <a class="page-link" href="/blog/">
         ««
       </a>
     </li>
     
     
     
     <li class="page-item">
       <a href="/blog/page/21/" class="page-link">
         «
       </a>
     </li>
     
     
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
             
           
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/20/" class="page-link">
             20
           </a>
         </li>
       
     
       
       
       
         
         
         
           
             
           
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/21/" class="page-link">
             21
           </a>
         </li>
       
     
       
       
       
         
         
         
           
             
           
         
       
       
       
       
         <li class="page-item page-item active ">
           <a href="/blog/page/22/" class="page-link">
             22
           </a>
         </li>
       
     
       
       
       
         
         
         
           
             
           
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/23/" class="page-link">
             23
           </a>
         </li>
       
     
       
       
       
         
         
         
           
             
           
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/24/" class="page-link">
             24
           </a>
         </li>
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
     
     
     <li class="page-item">
       <a href="/blog/page/23/" class="page-link">
         »
       </a>
     </li>
     
     
     
     <li class="page-item">
       <a class="page-link" href="/blog/page/26/">
         »»
       </a>
     </li>
     
   </ul>
 </nav>
 
</div>

        </div>
      </div>
      <!-- sidebar -->
      <aside class="col-lg-4 order-1 order-lg-2 d-none d-sm-block">
          <div class="sidebar">
          <!-- categories -->
<div class="blog-categories mb-4">
  <p class="sidebar-title">
      专栏
  </p>
  
  
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
  
  <div class="bg-gray">
      
        <a href="/categories/istio" class="sidebar-item">
            <span>Istio</span>
            <span>(69)</span>
        </a>
      
        <a href="/categories/service-mesh" class="sidebar-item">
            <span>Service Mesh</span>
            <span>(39)</span>
        </a>
      
        <a href="/categories/kubernetes" class="sidebar-item">
            <span>Kubernetes</span>
            <span>(24)</span>
        </a>
      
        <a href="/categories/%e9%9a%8f%e7%ac%94" class="sidebar-item">
            <span>随笔</span>
            <span>(21)</span>
        </a>
      
        <a href="/categories/%e4%b8%9a%e6%80%81" class="sidebar-item">
            <span>业态</span>
            <span>(17)</span>
        </a>
      
        <a href="/categories/%e5%85%b6%e4%bb%96" class="sidebar-item">
            <span>其他</span>
            <span>(17)</span>
        </a>
      
        <a href="/categories/envoy" class="sidebar-item">
            <span>Envoy</span>
            <span>(16)</span>
        </a>
      
        <a href="/categories/%e4%ba%91%e5%8e%9f%e7%94%9f" class="sidebar-item">
            <span>云原生</span>
            <span>(13)</span>
        </a>
      
        <a href="/categories/ai" class="sidebar-item">
            <span>AI</span>
            <span>(9)</span>
        </a>
      
        <a href="/categories/%e5%ae%89%e5%85%a8" class="sidebar-item">
            <span>安全</span>
            <span>(9)</span>
        </a>
      
        <a href="/categories/%e5%bc%80%e6%ba%90" class="sidebar-item">
            <span>开源</span>
            <span>(9)</span>
        </a>
      
        <a href="/categories/%e5%8f%af%e8%a7%82%e6%b5%8b%e6%80%a7" class="sidebar-item">
            <span>可观测性</span>
            <span>(5)</span>
        </a>
      
        <a href="/categories/%e6%97%85%e8%a1%8c" class="sidebar-item">
            <span>旅行</span>
            <span>(4)</span>
        </a>
  </div>
</div>

<div class="blog-categories mb-4">
  <p class="sidebar-title">
      资料
  </p>
  
  
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
  
  <div class="bg-gray">
      
        <a href="/categories/%e5%87%ba%e7%89%88%e7%89%a9" class="sidebar-item">
            <span>出版物</span>
            <span>(8)</span>
        </a>
      
        <a href="/categories/%e7%bf%bb%e8%af%91%e7%94%b5%e5%ad%90%e4%b9%a6" class="sidebar-item">
            <span>翻译电子书</span>
            <span>(8)</span>
        </a>
      
        <a href="/categories/%e7%bf%bb%e8%af%91%e6%96%87%e6%a1%a3" class="sidebar-item">
            <span>翻译文档</span>
            <span>(7)</span>
        </a>
      
        <a href="/categories/%e7%bf%bb%e8%af%91%e5%9b%be%e4%b9%a6" class="sidebar-item">
            <span>翻译图书</span>
            <span>(6)</span>
        </a>
      
        <a href="/categories/%e5%8e%9f%e5%88%9b%e5%9b%be%e4%b9%a6" class="sidebar-item">
            <span>原创图书</span>
            <span>(2)</span>
        </a>
      
        <a href="/categories/%e6%95%99%e7%a8%8b%e6%89%8b%e5%86%8c" class="sidebar-item">
            <span>教程手册</span>
            <span>(1)</span>
        </a>
  </div>
</div>





          </div>
      </aside>
      <!-- /sidebar -->
    </div>
  </div>
</section>




<footer>
  
  <div class="footer bg-footer section-sm border-bottom overlay ">
    <div class="container-xl">
      <div class="row">
        <div class="col col-xl-4 d-sm-none mb-2 mb-lg-0 d-xl-block d-none">
          
          <p class="h3 text-white mb-4 text-uppercase">联系</p>
          
          <ul class="list-unstyled">
            
            
            <li class="mb-4 text-color">微信公众号</li>
            
            
            <li class="mb-4"><img src="/images/servicemesher-wechat.webp" width="118px" height="118px" alt="footer image"></li>
            
            
            
          
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">博客</p>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/blog/black-myth-wukong-game-life/">从黑神话悟空聊起：我心目中的 3A 大作</a></li>
            
            <li class="mb-3"><a class="text-color" href="/blog/envoy-gateway-integration-istio-mesh/">集成 Envoy Gateway 作为 Istio 服务网格中的入口网关</a></li>
            
            <li class="mb-3"><a class="text-color" href="/blog/istio-configuration-safety-common-misconfigurations/">Istio 配置安全：如何避免错误配置</a></li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">链接</p>
          <ul class="list-unstyled">
            
            <li class="mb-3">
              <a class="text-color" href="https://istio.io/latest/zh/" target="_blank" rel="noopener noreferrer">
                  Istio 服务网格
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://tetrate.io/?jimmysong" target="_blank" rel="noopener noreferrer">
                  Tetrate 公司
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://space.bilibili.com/515485124" target="_blank" rel="noopener noreferrer">
                  云原生学院|Bilibili
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="/awesome-cloud-native/" target="_blank" rel="noopener noreferrer">
                  云原生开源项目大全
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://cloudnative.to" target="_blank" rel="noopener noreferrer">
                  云原生社区（中国）
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">教程</p>
          <ul class="list-unstyled">
            
            <li class="mb-3">
              <a class="text-color" href="https://academy.tetrate.io/courses/envoy-fundamentals-zh" target="_blank" rel="noopener noreferrer">
                  Envoy 基础教程
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://academy.tetrate.io/courses/istio-fundamentals-zh" target="_blank" rel="noopener noreferrer">
                  Istio 基础教程
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="/book/kubernetes-handbook/" >
                  Kubernetes 基础教程
                  
              </a>
            </li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">通知</p>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/notice/kubecon-china-2024-panel/">KubeCon China 2024（香港）</a></li>
            
            <li class="mb-3"><a class="text-color" href="/notice/website-revamp-notice/">网站改版通知</a></li>
            
            <li class="mb-3"><a class="text-color" href="/notice/cloud-native-meetup-dalian-2024/">2024 大连云原生技术开放日</a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>

  
  <div class="copyright py-4 bg-footer overlay">
    <div class="container-xl">
      <div class="row">
        <div class="col-sm-6 text-sm-left text-center">
          <p class="mb-0 text-color">© 2017-2024 Jimmy Song 保留所有权利</p>
        </div>
        <div class="col-sm-6 text-sm-right text-center">
          <ul class="list-inline">
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://twitter.com/jimmysongio" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-x-twitter text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="/contact/" >
                    <i class="fa-brands fa-weixin text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://github.com/rootsongjc" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-github text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://linkedin.com/in/jimmysongio" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-linkedin text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="mailto:rootsongjc@gmail.com" >
                    <i class="fa-solid fa-envelope text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="/blog/index.xml" >
                    <i class="fa-solid fa-rss text-white"></i>
              </a>
            </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<!-- JS Plugins -->

<script src="/plugins/popper/popper.min.js"></script>

<script src="/plugins/bootstrap/bootstrap.min.js"></script>

<script src="/plugins/slick/slick.min.js"></script>

<script src="/plugins/filterizr/jquery.filterizr.min.js"></script>

<script src="/plugins/search/fuse.min.js"></script>

<script src="/plugins/search/mark.js"></script>

<script src="/plugins/hex_md5/hex_md5.js"></script>

<script src="/plugins/anchor/anchor.min.js"></script>

<script src="/plugins/tocbot/tocbot.min.js"></script>

<script src="/plugins/bigger-picture/bigger-picture.min.js"></script>


<!-- Main Script -->

<script src="/js/script.min.f94c22b1d478bfc9e2e0a7d954429e47b7e6d36edd423758482e04154ae1842e.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-ESY906ZWZ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ESY906ZWZ0');
</script>


<!-- Baidu analysis -->
<meta name="baidu-site-verification" content="g8IYR9SNLF" />


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?11f7d254cfa4e0ca44b175c66d379ecc";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>




<script>
    anchors.add();
</script>






<script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script>










<script src="/js/wowchemy-search.min.7a37268e7bbe4a9160c2e4c33b749816.js" type="module"></script>
<script id="search-hit-fuse-template" type="text/x-template">
  <div class="search-hit" id="summary-{{key}}">
    <div class="search-hit-content border-bottom">
      <div class="search-hit-name">
        <div class='search-hit-link'><a href="{{relpermalink}}">{{title}}</a></div>
        <div class="search-hit-metadata d-flex">
            <span class="mr-1"><i class="fa-regular fa-calendar mr-1"></i>{{date}}</span>
            <span class="mr-1"><i class="fa-regular fa-folder-open mr-1"></i>{{section}}</span>
            <span class="d-sm-block d-none"><i class="fa-solid fa-link mr-1"></i>{{relpermalink}}</span>
        </div>
        <div class="search-hit-description">{{snippet}}</div>
      </div>
    </div>
  </div>
</script>



    </body>
</html>
