<!DOCTYPE html>
<html lang="zh"><head>
  <meta charset="utf-8">
  
  <title>åšå®¢ - Jimmy Song</title>
  

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <meta name="description" content="ä¸“æ³¨å¼€æºæŠ€æœ¯ã€äº‘åŸç”Ÿä¸ç”Ÿæ´»éšç¬”çš„åˆ†äº«ä¸æ€è€ƒã€‚">
  <meta name="author" content="Jimmy Song">
  <meta name="generator" content="Hugo 0.136.0">

  <!-- CSS plugins -->
  
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
    
    
      
    
  
  
  <link rel="preload" href="/css/combined.7ac6b2864cb09c5595ac8ca79f8ca0db6c69a657edac885ba2c2412080d68da0.css" as="style">
  <link rel="stylesheet" href="/css/combined.7ac6b2864cb09c5595ac8ca79f8ca0db6c69a657edac885ba2c2412080d68da0.css" media="screen">
  

  <!-- Main Stylesheet -->
  
  <link rel="preload" href="/scss/style.min.f6911c0ac7d2b5b69c3f2d9f2a2b3b496b5da0608580347fdb4dc11ef74f3ec5.css" as="style">
  <link rel="stylesheet" href="/scss/style.min.f6911c0ac7d2b5b69c3f2d9f2a2b3b496b5da0608580347fdb4dc11ef74f3ec5.css" media="screen">

  <!-- Bigger picture css -->
  
  <link rel="stylesheet" href="/plugins/bigger-picture/bigger-picture.min.css" media="print" onload="this.media='all'">
  <!--Favicon generate by https://realfavicongenerator.net-->
  <link rel="icon" href="/favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="200x200" href="/images/favicon.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">

  <link href='/opensearchdescription.xml' rel='search' title='Content search' type='application/opensearchdescription+xml'/>

  <!--Twitter card-->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="jimmysong.io" />
  <meta name="twitter:creator" content="@jimmysongio" />
  <meta property="og:url" content="https://jimmysong.io/blog/" />
  <meta property="og:title" content="åšå®¢ | Jimmy Song" />
  <meta property="twitter:title" content="åšå®¢ | Jimmy Song" />

  
  <meta property="og:description" content="ä¸“æ³¨å¼€æºæŠ€æœ¯ã€äº‘åŸç”Ÿä¸ç”Ÿæ´»éšç¬”çš„åˆ†äº«ä¸æ€è€ƒã€‚" />
  <meta property="twitter:description" content="ä¸“æ³¨å¼€æºæŠ€æœ¯ã€äº‘åŸç”Ÿä¸ç”Ÿæ´»éšç¬”çš„åˆ†äº«ä¸æ€è€ƒã€‚" />

  
  <meta property="og:image" content="https://jimmysong.io/images/banner/default.jpg" />
  <meta property="twitter:image" content="https://jimmysong.io/images/banner/default.jpg" />

  
  
</head>
<body>
<header class="fixed-top header">
  
  
  <button onclick="topFunction()" id="backTopBtn" title="Go to top"><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></button>
  
  <div class="navigation w-100 ">
    <div class="container-xl">
      <nav class="navbar navbar-expand-lg navbar-light p-0">
        <a class="navbar-brand" href="/">
            
            <b>JIMMY SONG</b>
            
        </a>
        <button class="navbar-toggler rounded-0" type="button" data-toggle="collapse" data-target="#navigation"
          aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navigation">
          <ul class="navbar-nav ml-auto">
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/blog">åšå®¢</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/book">èµ„æ–™</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/tags">æ ‡ç­¾</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/notice">å…¬å‘Š</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/contact">è”ç³»</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/about">å…³äº</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="/community/">ç¤¾åŒº</a>
              
            </li>
            
            
            
            <li class="nav-item">
              
              <a class="nav-link" href="https://space.bilibili.com/515485124" target="_blank" rel="noopener">è§†é¢‘ <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i></a>
              
            </li>
            
            

          
          
          <li class="nav-item">
            
            
            
              
              
                
                
                
                  
                    
                    <a class="nav-link" href="/en/blog/">English</a>
                    
                  
                
              
              
              
                
                  
                    
                    
                  
                
                
                
              
          </li>
          
          
          <!-- search -->
           <button type="button" class="search-btn js-search" id="searchOpen" aria-label="Search">
              <div class="search-container d-flex justify-content-center">
              <span class="search-content">
                  <i class="fa fa-search"></i>
                  <span>æœç´¢</span>
              </span>
              <span class="search-shortcuts d-none d-sm-block">
                  <kbd class="cmd-key">âŒ˜</kbd>
                  <kbd class="k-key">K</kbd>
              </span>
              </div>
          </button>
          
          </ul>
        </div>
      </nav>
    </div>
  </div>
</header>


            <aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between">
        <div class="col-6 search-title">
          <p>ç«™å†…æœç´¢</p> 
        </div>
        <div class="col-6 col-search-close">
          <div class="js-search" aria-label="å…³é—­"><i class="fa-solid fa-circle-xmark text-muted" aria-hidden="true"></i></div>
        </div>
      </div>

      <div id="search-box">
        <i class="fa-solid fa-magnifying-glass" id="search-icon" aria-hidden="true"></i>
        <input name="q" id="search-query" placeholder="è¯·è¾“å…¥æœç´¢è¯" autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control" aria-label="è¯·è¾“å…¥æœç´¢è¯">
        
        <div class="mt-4">
          <span>æœç´¢ç±»å‹: </span>
          <span>
            <input type="radio" id="all" name="search_type" value="all" checked>
            <label for="all">æ‰€æœ‰</label>
            
              <input type="radio" id="blog" name="search_type" value="blog">
              <label for="blog">åŸåˆ›</label>
              <input type="radio" id="trans" name="search_type" value="trans">
              <label for="trans">è¯‘æ–‡</label>
            
            <input type="radio" id="book" name="search_type" value="book">
            <label for="book">èµ„æ–™</label>
            <input type="radio" id="notice" name="search_type" value="notice">
            <label for="notice">å…¬å‘Š</label>
          </span>
        </div>
      </div>
      
    </section>
    <section class="section-search-results">
      <div id="search-results-count" class="search-results-count"></div>
      <div id="search-hits">
        
      </div>
    </section>
  </div>
</aside>

        
        
            

<section class="bg-cover page-title-section overlay" style="background-image: url('/images/backgrounds/circle.svg'),url('/images/backgrounds/page-title.webp');background-size: cover;">
    <div class="container-xl">
        <div class="row">
            <div class="col-12">
                <p class="h1">
                    åšå®¢
                </p>
                <p class="page-description">
                    ä¸“æ³¨å¼€æºæŠ€æœ¯ã€äº‘åŸç”Ÿä¸ç”Ÿæ´»éšç¬”çš„åˆ†äº«ä¸æ€è€ƒã€‚
                </p>
                
            </div>
        </div>
    </div>
</section>

        


<section class="section-sm book-list-section bg-gray">
  <div class="container-xl">
    <div class="row">
      <div class="col-lg-8 order-2 order-lg-1">
        <div class="row">
          
          
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/trans/application-traffic-with-ebpf/">[è¯‘] ç”¨ eBPF æ´å¯Ÿåº”ç”¨å±‚ç½‘ç»œæµé‡</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2024/01/10</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%85%b6%e4%bb%96"> 
             å…¶ä»–
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fas fa-language"></i>
              <a href="https://thebsdbox.co.uk/2023/12/08/Application-traffic-with-eBPF/" target="_blank" rel="noopener">åŸæ–‡</a>
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('ç”¨ eBPF æ´å¯Ÿåº”ç”¨å±‚ç½‘ç»œæµé‡', 'æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ eBPF ç¨‹åºæ•è·ã€åˆ†æå’Œä¿®æ”¹åº”ç”¨å±‚çš„ç½‘ç»œæ•°æ®ï¼ŒåŒ…æ‹¬ HTTP å¤´éƒ¨å’Œ URL è·¯å¾„ã€‚ä½œè€…è¿˜å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ eBPF map åœ¨å†…æ ¸å’Œç”¨æˆ·ç©ºé—´ä¹‹é—´ä¼ é€’æ•°æ®ã€‚', 'åœ¨[å…ˆå‰çš„å¸–å­](..\/ebpf-adventures-in-networking\/)ä¸­ï¼Œæˆ‘ç¨å¾®è°ˆåˆ°äº†å»ºç«‹ eBPF çŸ¥è¯†ï¼Œä»¥å¼€å§‹æ›´å¤šåœ°äº†è§£ç½‘ç»œé€‚é…å™¨çš„è¾“å…¥å’Œè¾“å‡ºæƒ…å†µã€‚åŸºæœ¬ä¸Šï¼Œå°†ä»¥å¤ªç½‘å¸§å¹¶å‰¥ç¦»æ ‡å¤´ï¼ˆä»¥å¤ªç½‘æ ‡å¤´\u002bIP æ ‡å¤´\u002bTCP\/UDP æ ‡å¤´ï¼‰ï¼Œæœ€ç»ˆä½ å°†å¾—åˆ°æ¥è‡ªåº”ç”¨ç¨‹åºæˆ–æ•°æ®è§’åº¦çš„æ•°æ®åŒ…ä¸­å‰©ä½™çš„å†…å®¹ã€‚\n\næ‰€æœ‰çš„ä»£ç éƒ½åœ¨â€œå­¦ä¹  eBPFâ€å­˜å‚¨åº“ä¸­ï¼Œå…·ä½“çš„ eBPF ä»£ç åœ¨[è¿™é‡Œ](https:\/\/github.com\/thebsdbox\/learning-ebpf\/blob\/main\/ebpf\/http\/http.c)ã€‚è¿™ç¯‡æ–‡ç« çš„è®¡åˆ’æ˜¯é€æ­¥ä»‹ç»æˆ‘è®¤ä¸ºæœ‰ç”¨æˆ–å¯èƒ½é‡è¦çš„éƒ¨åˆ†...\n\n**æ³¨æ„**ï¼šæ­¤ä»£ç ç¡®å®å¯¹å…¥å£\/å‡ºå£æ•°æ®åŒ…è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ï¼Œå› æ­¤éœ€è¦ 6.1\u002b çš„ Linux å†…æ ¸æ‰èƒ½ä½¿ç”¨ä¸€äº› eBPF åŠ©æ‰‹å‡½æ•°ã€‚\n\n## æ˜ å°„ï¼\n\nä½ å¯èƒ½ä»¥å‰é‡åˆ°è¿‡è¿™äº›å§ï¼Ÿå¦‚æœæ²¡æœ‰ï¼Œä¸ç”¨æ‹…å¿ƒï¼ç®€è€Œè¨€ä¹‹ï¼ŒeBPF æ˜ å°„æ˜¯åœ¨ç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ä¸­çš„ eBPF ç¨‹åºä¹‹é—´é€šä¿¡çš„æœºåˆ¶ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œéå¸¸é…·çš„ä¸€ç‚¹æ˜¯è¿™äº›æ˜ å°„ä½¿ç”¨é”®å’Œå€¼...æ‰€ä»¥æˆ‘ä¸å¿…å¾ªç¯æ¯”è¾ƒæ•°æ®å¹¶å¯»æ‰¾åŒ¹é…çš„å†…å®¹ï¼Œæˆ‘ä¼ é€’ä¸€ä¸ªé”®ï¼Œå¦‚æœæœ‰åŒ¹é…çš„å†…å®¹ï¼Œæˆ‘å°±å¾—åˆ°ç›¸åº”çš„æ•°æ®:D\n\nä¸‹é¢æ˜¯æˆ‘å°†è¦ä½¿ç”¨çš„æ˜ å°„ï¼Œç§°ä¸º\u0060url_map\u0060ï¼Œé”®æ˜¯ 20 ä¸ªå­—ç¬¦é•¿ï¼ˆå¯ä»¥è¯´æ˜¯æœ‰ç•Œçš„â€œå­—ç¬¦ä¸²â€ï¼‰ï¼Œåˆ†é…ç»™è¯¥é”®çš„å€¼æ˜¯æˆ‘åœ¨ä¸Šé¢å®šä¹‰çš„ç»“æ„ä½“ã€‚\n\n\u0060\u0060\u0060\n\/\/ å®šä¹‰ä¸é”®å…³è”çš„ä¸åŒURL\nstruct url_path {\n  __u8 path_len;\n  __u8 path[max_path_len]; \/\/ è¿™åº”è¯¥æ˜¯ä¸€ä¸ªcharï¼Œä½†åœ¨è¿™é‡Œå’ŒGoä¹‹é—´çš„ä»£ç ç”Ÿæˆæœ‰ç‚¹ä¸åŒ...\n};\n\n\/\/ å®šä¹‰æˆ‘çš„URLæ˜ å°„\nstruct {\n  __uint(type, BPF_MAP_TYPE_HASH);\n  __uint(max_entries, 1024);\n  __type(key, char[max_path_len]);\n  __type(value, struct url_path);\n}\nurl_map SEC(\u0022.maps\u0022);\n\u0060\u0060\u0060\n\n## eBPF ç¨‹åºï¼\n\nä»£ç ä¸­å®šä¹‰äº†ä¸¤ä¸ª eBPF ç¨‹åº\u0060tc_egress\u0060å’Œ\u0060tc_ingress\u0060ï¼Œå¦‚æœä½ èƒ½çŒœåˆ°å®ƒä»¬æ˜¯å¦‚ä½•è¿æ¥çš„ï¼Œé‚£å°±åŠ åˆ†ï¼åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬åªå…³æ³¨\u0060tc_ingress\u0060ç¨‹åºã€‚\n\nå°±åƒæˆ‘ä»¬åœ¨å·²ç»å­˜åœ¨çš„ä¼—å¤šç¤ºä¾‹ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ ‡å¤´è¯†åˆ«çš„æ“ä½œã€‚\n\n1. è¿›è¡Œåˆç†æ€§æ£€æŸ¥ï¼Œå¹¶å°†\u0060data\u0060å¼ºåˆ¶è½¬æ¢ä¸º\u0060ethhdr\u0060ç±»å‹ï¼ˆ[ä»¥å¤ªç½‘æ ‡å¤´](https:\/\/en.wikipedia.org\/wiki\/Ethernet_frame)ï¼‰ã€‚\n2. é€šè¿‡è¯»å–ä»¥å¤ªç½‘æ ‡å¤´å†…éƒ¨çš„\u0060h_proto\u0060ï¼ˆä¹Ÿç§°ä¸º\u0060Ethertype\u0060ï¼‰æ¥æŸ¥æ‰¾ä»¥å¤ªç½‘å¸§å†…éƒ¨çš„åè®®ã€‚\n3. å°†ä»¥å¤ªç½‘æ ‡å¤´åçš„æ•°æ®å¼ºåˆ¶è½¬æ¢ä¸º\u0060iphdr\u0060ç±»å‹ï¼ˆ[IP æ ‡å¤´](https:\/\/en.wikipedia.org\/wiki\/Internet_Protocol_version_4#Header)ï¼‰ã€‚\n4. åœ¨ IP æ ‡å¤´å†…æŸ¥æ‰¾åè®®ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç¡®å®š IP æ ‡å¤´çš„å¤§å°ï¼ˆåŸæ¥å®ƒä»¬å¯ä»¥æœ‰ä¸åŒçš„å¤§å°ï¼\u0060Â¯\\_(ãƒ„)_\/Â¯\u0060ï¼‰ã€‚\n5. ä¸ºäº†ç¡®å®šæ ‡å¤´çš„å¤§å°ï¼Œæˆ‘ä»¬å°†å…¶å€¼ä¹˜ä»¥å››ï¼Œä½ å¯èƒ½ä¼šé—®ä¸ºä»€ä¹ˆï¼å¥½å§ï¼Œè¿™ä¸ªå€¼ä¹˜ä»¥ 32 ä½ä»¥ç¡®å®šæ ‡å¤´çš„å¤§å°ï¼Œæ‰€ä»¥å¦‚æœå€¼ä¸º 6ï¼Œé‚£ä¹ˆæ ‡å¤´å°†æ˜¯ 192 ä½ï¼ˆæˆ– 24 å­—èŠ‚ï¼‰ã€‚æ‰€ä»¥ï¼Œä¸ºäº†ç®€å•åœ°ç¡®å®š IP æ ‡å¤´çš„å­—èŠ‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªå€¼ä¹˜ä»¥ 4ï¼\n6. å°†ä»¥ IP æ ‡å¤´åçš„æ•°æ®å¼ºåˆ¶è½¬æ¢ä¸º\u0060tcphdr\u0060ç±»å‹ï¼ˆ[TCP æ ‡å¤´](https:\/\/en.wikipedia.org\/wiki\/Transmission_Control_Protocol#TCP_segment_structure)ï¼‰ã€‚\n7. åƒæ­¥éª¤ï¼ˆ5ï¼‰ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®š TCP æ ‡å¤´çš„å¤§å°ï¼ˆå®ƒä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„ï¼‰ï¼Œåœ¨è¿™é‡Œçš„æ­¥éª¤ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å€¼\u0060doff\u0060ä¹˜ä»¥å››æ¥ç¡®å®šæ ‡å¤´çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚\n8. é€šè¿‡è®¡ç®—æ‰€æœ‰è¿™äº›ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥æ¨æ–­å‡ºæ•°æ®ä½äºä»¥å¤ªç½‘æ ‡å¤´å¤§å°ã€IP æ ‡å¤´å¤§å°å’Œ TCP æ ‡å¤´å¤§å°çš„æœ«å°¾ã€‚\n9. æœ€åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä» IP æ ‡å¤´ä¸­å‡å» IP å’Œ TCP æ ‡å¤´çš„å¤§å°æ¥ç¡®å®šåº”ç”¨ç¨‹åºæ•°æ®çš„å¤§å°ï¼Œä½¿ç”¨\u0060tot_len\u0060ï¼ˆæ€»é•¿åº¦ï¼‰ã€‚\n\n### åº”ç”¨æ•°æ®ï¼ï¼\n\nä¸ºäº†è¯»å–è¿™äº›æ•°æ®ï¼Œæˆ‘ä»¬å°†éœ€è¦ä¸Šé¢æåˆ°çš„ä¸€äº›ä¸œè¥¿ï¼\n\né¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ•°æ®åç§»é‡ï¼ˆæ•°æ®èµ·å§‹ä½ç½®ï¼‰ï¼Œå®ƒä½äºä»¥å¤ªç½‘æ ‡å¤´\u002bIP æ ‡å¤´å¤§å°ï¼ˆä¸€æ—¦è®¡ç®—å‡ºæ¥ï¼‰å’Œ TCP æ ‡å¤´ï¼ˆå†æ¬¡ï¼Œä¸€æ—¦è®¡ç®—å‡ºæ¥ï¼‰ä¹‹åã€‚æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªç¼“å†²åŒºæ¥å­˜å‚¨æˆ‘ä»¬å°†ä»å¥—æ¥å­—ç¼“å†²åŒºä¸­è¯»å–çš„æ•°æ®ã€‚\n\n\u0060\u0060\u0060c\n\/\/ ç”¨äºå­˜å‚¨æˆ‘ä»¬åº”ç”¨ç¨‹åºæ•°æ®çš„æ•°æ®ç¼“å†²åŒº\nchar pdata[60];\n\n\/\/ è®¡ç®—æ•°æ®å®é™…ä½ç½®çš„åç§»é‡\npoffset = ETH_HLEN \u002b ip_hlen \u002b tcp_hlen;\n\n\/\/ ä»å¥—æ¥å­—ç¼“å†²åŒºåŠ è½½æ•°æ®ï¼Œpoffset ä» TCP æ ‡å¤´çš„æœ«å°¾å¼€å§‹\nint ret = bpf_skb_load_bytes(skb, poffset, pdata, 60);\nif (ret != 0) {\n   return 0;\n}\n\u0060\u0060\u0060\n\næˆ‘ä»¬ä½¿ç”¨\u0060bpf_skb_load_bytes\u0060ä»å¥—æ¥å­—ç¼“å†²åŒºï¼ˆ\u0060skb\u0060ï¼‰ä¸­è¯»å–ä¸€å®šé‡çš„æ•°æ®ï¼ˆ60 ä¸ªå­—èŠ‚ï¼‰åˆ°æˆ‘ä»¬çš„ç¼“å†²åŒºï¼ˆ\u0060pdata\u0060ï¼‰ï¼Œèµ·å§‹ä½ç½®æ˜¯æˆ‘ä»¬çŸ¥é“æ•°æ®ä½äºçš„åç§»é‡ï¼ˆ\u0060poffset\u0060ï¼‰ï¼\n\næ­¤æ—¶ï¼Œæˆ‘ä»¬æœ‰äº† 60 å­—èŠ‚çš„æ•°æ®ï¼Œåº”è¯¥è¶³å¤Ÿè®©æˆ‘ä»¬ç¼–å†™ä¸€äº›ä»£ç æ¥ç†è§£å®ƒã€‚\n\n### HTTP æ•°æ® :-)\n\nè®©æˆ‘ä»¬çœ‹çœ‹å½“æˆ‘ä»¬å°è¯•è¿›è¡Œ HTTP è¯·æ±‚æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼\n\n\u0060\u0060\u0060plaintext\n ~ curl code\/test -vvv\n*   Trying 192.168.0.22:80...\n* Connected to code (192.168.0.22) port 80 (#0)\n\u003e GET \/test HTTP\/1.1\n\u003e Host: code\n\u003e User-Agent: curl\/7.87.0\n\u003e Accept: *\/*\n\n...\n\u0060\u0060\u0060\n\næˆ‘æ­£åœ¨ä½¿ç”¨\u0060curl\u0060ä»ä¸»æœº\u0060code\u0060ï¼ˆcode æ˜¯æˆ‘çš„å¼€å‘ VMï¼Œè¿è¡Œ code-serverï¼‰è¯·æ±‚ URL \u0060\/test\u0060ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å‘é€åˆ°æœåŠ¡å™¨çš„æ•°æ®ï¼ˆæ¯è¡Œä»¥\u0060\u003e\u0060å¼€å¤´ï¼Œç”¨äºç¡®å®šé€šä¿¡çš„æ–¹å‘ï¼‰ã€‚HTTP è¯·æ±‚ä¸­çš„ç¬¬ä¸€è¡Œæ•°æ®é€šå¸¸æ˜¯ä¸€ä¸ª*åŠ¨è¯*ï¼Œåé¢æ˜¯æˆ‘ä»¬å¸Œæœ›ä¸ä¹‹äº¤äº’çš„èµ„æºï¼Œç„¶åæ˜¯ HTTP è§„èŒƒå’Œå›è½¦ç¬¦ï¼Œå¦‚[HTTP æ ‡å‡†](https:\/\/en.wikipedia.org\/wiki\/HTTP#HTTP\/1.1_request_messages)ä¸­å®šä¹‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å…³å¿ƒçš„è¡Œæ˜¯\u0060GET \/test\u0060ï¼ˆåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬\/æˆ‘ä¸å¤ªå…³å¿ƒ HTTP è§„èŒƒ:Dï¼‰ã€‚\n\nç¬¬ä¸€æ­¥æ˜¯è¯»å–\u0060pdata\u0060çš„å‰ä¸‰ä¸ªå­—ç¬¦ï¼ŒæŸ¥æ‰¾\u0060pdata[0] == G\u0060ï¼Œ\u0060pdata[1] == E\u0060å’Œ\u0060pdata[2] == T\u0060ï¼Œè¿™å°†æœ‰æ•ˆåœ°å¸®åŠ©æˆ‘ä»¬ç¡®å®šé¦–å…ˆæ˜¯å¦æ˜¯ HTTP è¯·æ±‚ï¼Œç‰¹åˆ«æ˜¯æ˜¯å¦æ˜¯ HTTP è¯·æ±‚ï¼\n\nä¸€æ—¦æˆ‘ä»¬éªŒè¯äº†è¿™å‰ 3 ä¸ªå­—èŠ‚ï¼Œæˆ‘ä»¬å°†æƒ³è¦ä»ç¬¬ 4 ä¸ªå­—èŠ‚ï¼ˆè¯·æ±‚çš„å‰ä¸‰ä¸ªå­—èŠ‚åŠ ä¸Šä¸€ä¸ªç”¨äºåˆ†éš”çš„ç©ºæ ¼ï¼‰å¼€å§‹è¯»å–æ›´å¤šæ•°æ®ï¼\n\n\u0060\u0060\u0060c\nchar path[max_path_len];\nmemset(\u0026path, 0, sizeof(path));\n\nint path_len = 0;\n\n\/\/ æŸ¥æ‰¾è¯·æ±‚ URIï¼ˆä»åç§»é‡ 4 å¼€å§‹ï¼‰ï¼Œä»¥ç©ºæ ¼ç»“æŸ\nfor (int i = 4; i \u003c sizeof(pdata) ; i\u002b\u002b)\n{\n    if (pdata[i] != \u0027 \u0027) {\n        path[i-4] = pdata[i];\n    } else {\n        path[i-4] = \u0027\\0\u0027;\n        path_len = i-4;\n        break;\n    }\n}\n\u0060\u0060\u0060\n\nä¸Šé¢çš„å‡½æ•°å°†ä» HTTP æ•°æ®çš„ç¬¬ 4 ä¸ªå­—èŠ‚å¼€å§‹ï¼ˆä»ç¬¬ 4 ä¸ªå­—èŠ‚å¼€å§‹ï¼‰è¯»å–å…¶ä½™çš„æ•°æ®ï¼Œç›´åˆ°é‡åˆ°ç©ºæ ¼ä¸ºæ­¢ï¼Œç•™ä¸‹æˆ‘ä»¬è¦\u0060GET\u0060çš„ URLï¼æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªè°ƒè¯•æ‰“å°è¯­å¥æ¥éªŒè¯è¿™ä¸€ç‚¹ï¼š\n\n\u0060\u0060\u0060c\nbpf_printk(\u0022\u003c- incoming path [%s], length [%d]\u0022, path, path_len);\n\u0060\u0060\u0060\n\nè¿™å°†åœ¨æ—¥å¿—ä¸­æ˜¾ç¤ºå¦‚ä¸‹ï¼š\n\n\u0060\u0060\u0060plaintext\n\u003cidle\u003e-0       [001] dNs3. 2252901.017812: bpf_trace_printk: \u003c- incoming path [\/test], length [5]\n\u0060\u0060\u0060\n\n### å¯¹ HTTP åº”ç”¨ç¨‹åºè¯·æ±‚é‡‡å–è¡ŒåŠ¨\n\nä¸Šè¿°è§£é‡Šè¯¦ç»†è¯´æ˜äº†æˆ‘ä»¬å¦‚ä½•è¯»å–æ•°æ®ä»¥åŠå¦‚ä½•è¯»å–æ•°æ®ï¼Œä½†å¦‚æœæˆ‘ä»¬æƒ³è¦â€œåŠ¨æ€â€æŸ¥æ‰¾ HTTP è¯·æ±‚ï¼Œæˆ‘ä»¬å°†éœ€è¦ä½¿ç”¨ eBPF æ˜ å°„ã€‚\n\nåœ¨æˆ‘ä»¬çš„ Go ç”¨æˆ·ç©ºé—´ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š\n\n\u0060\u0060\u0060go\npath := flag.String(\u0022path\u0022, \u0022\u0022, \u0022The URL Path to watch for\u0022)\nflag.Parse()\n\n\/\/ ...\n\n\/\/ åˆ›å»ºä¸€ä¸ª uint8 æ•°ç»„\nvar urlPath [20]uint8\n\/\/ å°†æˆ‘ä»¬çš„å­—èŠ‚å¤åˆ¶åˆ° uint8 æ•°ç»„ä¸­ï¼ˆæˆ‘ä»¬å¯ä»¥è¿›è¡Œç±»å‹è½¬æ¢ï¼‰\ncopy(urlPath[:], *path)\n\n\/\/ å°†æˆ‘ä»¬çš„ urlPath ä½œä¸ºé”®\nerr = objs.UrlMap.Put(urlPath,\n  bpfUrlPath{\n    Path:    urlPath,\n    PathLen: uint8(len(urlPath)),\n  })\nif err != nil {\n  panic(err)\n}\n\u0060\u0060\u0060\n\næ­£å¦‚æˆ‘ä»¬åœ¨ä¸Šé¢çš„ä»£ç ä¸­çœ‹åˆ°çš„ï¼Œå½“æˆ‘ä»¬å¯åŠ¨ Go ç¨‹åºæ—¶ï¼Œå®ƒå°†ä»æ ‡å¿—\u0060-path\u0060ä¸­è¯»å–ï¼Œå¹¶å°†å…¶ç”¨ä½œæˆ‘ä»¬ eBPF æ˜ å°„ä¸­çš„**é”®**ï¼Œå¯ä»¥æš‚æ—¶å¿½ç•¥å€¼ã€‚\n\n\u0060\u0060\u0060c\nstruct url_path *found_path = bpf_map_lookup_elem(\u0026url_map, path);\nif (found_path \u003e 0) {\n    bpf_printk(\u0022Looks like we\u0027ve found your path [%s]\u0022, path);\n    \/\/ å¯èƒ½è¿›è¡Œæ›´å¤šæ“ä½œï¼Œé˜»æ­¢æµé‡æˆ–é‡å®šå‘ï¼Ÿ\n}\n\u0060\u0060\u0060\n\nåœ¨æˆ‘ä»¬çš„ eBPF ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å°†å¯¹ HTTP è¯·æ±‚è¿›è¡Œæ˜ å°„æŸ¥æ‰¾ï¼Œå¦‚æœè¯¥è¯·æ±‚ä½œä¸º char æ•°ç»„å­˜åœ¨äº**é”®**ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¯¹å…¶è¿›è¡Œæ“ä½œï¼\n\nç°åœ¨å¯åŠ¨æˆ‘ä»¬çš„ Go ç¨‹åº \u0060sudo .\/http -interface ens160 -path \/test\u0060 å°†å¾—åˆ°ä»¥ä¸‹ç»“æœï¼š\n\n\u0060\u0060\u0060plaintext\nINFO[0000] Starting ğŸ the eBPF HTTP watcher, on interface [ens160] for path [\/test]\nINFO[0000] Loaded TC QDisc\nINFO[0000] Press Ctrl-C to exit and remove the program\n          \u003cidle\u003e-0       [001] d.s3. 2252901.015575: bpf_trace_printk: \u003c- 0.0.0.0:56345 -\u003e 0.0.0.0:80\n          \u003cidle\u003e-0       [001] D.s3\n\n. 2252901.015642: bpf_trace_printk: -\u003e 192.168.0.22:80 -\u003e 192.168.0.180:56345\n          \u003cidle\u003e-0       [001] d.s3. 2252901.017552: bpf_trace_printk: \u003c- 0.0.0.0:56345 -\u003e 0.0.0.0:80\n          \u003cidle\u003e-0       [001] d.s3. 2252901.017793: bpf_trace_printk: \u003c- 0.0.0.0:56345 -\u003e 0.0.0.0:80\n          \u003cidle\u003e-0       [001] dNs3. 2252901.017812: bpf_trace_printk: \u003c- incoming path [\/test], length [5]\n          \u003cidle\u003e-0       [001] dNs3. 2252901.017814: bpf_trace_printk: Looks like we\u0027ve found your path [\/test]\n\u0060\u0060\u0060\n\n## ç»“è®º\n\nè§£æ HTTP å¹¶ä¸å¤ªå›°éš¾ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªç›¸å¯¹ç®€å•çš„åè®®ï¼Œå®ƒä½¿ç”¨ç®€å•çš„åŠ¨è¯å’Œç»“æ„çš„ç®€å•æ–¹æ³•ï¼Œä½¿ç”¨ç©ºæ ¼å’Œå›è½¦ç¬¦æ¥åŒºåˆ†ã€‚è¿™ç§æ–¹æ³•å¯èƒ½ä¹Ÿé€‚ç”¨äºå…¶ä»–åè®®ï¼Œå¦‚ DNSã€POP3 æˆ– SMTPã€‚å½“æ•°æ®åŠ å¯†æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§è§£å¯†çš„æ–¹æ³•ï¼Œç„¶åæ‰èƒ½è§£ææ•°æ®ï¼ˆè¿™è¶…å‡ºäº†æˆ‘çš„èƒ½åŠ›...ï¼‰ã€‚ä½†æ˜¯ï¼Œæˆ‘å¸Œæœ›è¿™ä¼šæ¿€å‘ä½ æ›´å¤šåœ°å°è¯•ä½¿ç”¨ eBPF æ¥è§£æå’Œæ“ä½œåº”ç”¨ç¨‹åºçš„æƒ³æ³•ï¼\n\næˆ‘ä¸€ç›´æƒ³å†™ä¸€äº›æœ‰å¸Œæœ›æœ‰ç”¨çš„å…³äº eBPF çš„å¸–å­ï¼Œå°½ç®¡é€šå¸¸åœ¨æˆ‘æƒ³å‡ºå¯èƒ½æœ‰ç”¨çš„ä¸œè¥¿ä¹‹åï¼Œåˆ«äººå·²ç»æŠ¢å…ˆä¸€æ­¥ã€‚é‰´äºæˆ‘å·²ç»åœ¨ä¸€æ®µæ—¶é—´é‡Œä»¥æŸç§æ–¹å¼å…³æ³¨ç½‘ç»œï¼Œè¿™åŸºæœ¬ä¸Šæ˜¯æˆ‘å…³æ³¨çš„é¢†åŸŸï¼Œå°½ç®¡æˆ‘ç¡®å®ä¸ºæœ€è¿‘çš„ eBPF å³°ä¼š 2023 ç¼–å†™äº†ä¸€äº›æœ‰è¶£çš„å†…å®¹ã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œæœ‰å¾ˆå¤šäººå¼€å§‹æ’°å†™ eBPF å†…å®¹ï¼Œæ‰€ä»¥æˆ‘å¯èƒ½ä¼šå‚è€ƒä»–ä»¬çš„å¸–å­ï¼Œè€Œä¸æ˜¯é‡å¤å†…å®¹ã€‚\n', '\/trans\/application-traffic-with-ebpf\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ eBPF ç¨‹åºæ•è·ã€åˆ†æå’Œä¿®æ”¹åº”ç”¨å±‚çš„ç½‘ç»œæ•°æ®ï¼ŒåŒ…æ‹¬ HTTP å¤´éƒ¨å’Œ URL è·¯å¾„ã€‚ä½œè€…è¿˜å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ eBPF map åœ¨å†…æ ¸å’Œç”¨æˆ·ç©ºé—´ä¹‹é—´ä¼ é€’æ•°æ®ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/trans/ebpf-adventures-in-networking/">[è¯‘] å¦‚ä½•ç”¨ eBPF æ”¹å˜ç½‘ç»œç¼–ç¨‹çš„æ¸¸æˆè§„åˆ™</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2024/01/10</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%85%b6%e4%bb%96"> 
             å…¶ä»–
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fas fa-language"></i>
              <a href="https://thebsdbox.co.uk/2023/11/18/eBPF-adventures-in-networking/" target="_blank" rel="noopener">åŸæ–‡</a>
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('å¦‚ä½•ç”¨ eBPF æ”¹å˜ç½‘ç»œç¼–ç¨‹çš„æ¸¸æˆè§„åˆ™', 'è¿™ç¯‡æ–‡ç« ä»‹ç»äº† eBPF åœ¨ç½‘ç»œé¢†åŸŸçš„ä¸€äº›åº”ç”¨å’Œå®è·µï¼ŒåŒ…æ‹¬ XDPã€TC å’Œ sysprobes ä¸‰ç§ä¸åŒçš„ eBPF ç¨‹åºæŒ‚è½½æ–¹å¼çš„ä¼˜ç¼ºç‚¹ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ eBPF å®ç°ç½‘ç»œæ•°æ®çš„æ•è·ã€åˆ†æå’Œä¿®æ”¹ã€‚ä½œè€…è¿˜åˆ†äº«äº†ä¸€äº›æœ‰ç”¨çš„ eBPF å·¥å…·å’Œèµ„æºï¼Œä»¥åŠè‡ªå·±å¼€å‘çš„ä¸€ä¸ª eBPF ç½‘ç»œä»£ç†çš„é¡¹ç›®ã€‚', '\næˆ‘ä¸€ç›´æƒ³å†™ä¸€äº›å…³äº eBPF çš„å¸–å­ï¼Œå¸Œæœ›å®ƒä»¬èƒ½æœ‰æ‰€å¸®åŠ©ï¼Œå°½ç®¡é€šå¸¸åœ¨æˆ‘æƒ³åˆ°å¯èƒ½æœ‰ç”¨çš„ä¸œè¥¿æ—¶ï¼Œå…¶ä»–äººå·²ç»å…ˆæˆ‘ä¸€æ­¥äº†ã€‚é‰´äºæˆ‘å·²ç»åœ¨ç½‘ç»œæ–¹é¢é›†ä¸­ç²¾åŠ›ä¸€æ®µæ—¶é—´ï¼Œè¿™åŸºæœ¬ä¸Šæ˜¯æˆ‘ä¸“æ³¨çš„é¢†åŸŸï¼Œå°½ç®¡æˆ‘ç¡®å®è®¾æ³•ä¸ºæœ€è¿‘çš„ eBPF å³°ä¼š 2023 å‡†å¤‡äº†ä¸€äº›æˆ‘è®¤ä¸ºå¾ˆæœ‰è¶£çš„ä¸œè¥¿ã€‚æ­£å¦‚æˆ‘ä¹‹å‰æåˆ°çš„ï¼Œæœ‰å¾ˆå¤šäººå¼€å§‹æ’°å†™å…³äº eBPF çš„å†…å®¹ï¼Œå› æ­¤æˆ‘å¯èƒ½ä¼šå‚è€ƒä»–ä»¬çš„å¸–å­ï¼Œè€Œä¸æ˜¯é‡å¤å†…å®¹ã€‚\n\næˆ‘å°†ä»ä¸€äº›åœ¨ Linux å†…æ ¸ä¸­å¯èƒ½æˆ–å¯èƒ½ä¸ä¼šé‡åˆ°çš„é¦–å­—æ¯ç¼©å†™æˆ–æŠ€æœ¯å¼€å§‹ã€‚ä½†åŸºæœ¬ä¸Šä»æˆ‘çš„è§’åº¦æ¥çœ‹ï¼Œè¿™äº›æ˜¯ä½ ä¿®æ”¹æ­£åœ¨è¿è¡Œçš„ç³»ç»Ÿä»¥ä¸ç½‘ç»œæ•°æ®äº¤äº’çš„ä¸»è¦é€‰é¡¹ã€‚\n\n### XDP\n\nå…³äº eXpress Data Plane å·²ç»å­˜åœ¨å¤§é‡ä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä¸ä¼šæ·±å…¥æ¢è®¨å¤ªå¤šç»†èŠ‚ã€‚\u0060tl;dr\u0060æ˜¯ XDP eBPF ç¨‹åºæŒ‚é’©åˆ° XDP å°†ä½¿å…¶èƒ½å¤Ÿè®¿é—®ç”±å†…æ ¸è‡ªèº«å¤„ç†ä¹‹å‰çš„ä¼ å…¥ç½‘ç»œå¸§ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒeBPF ç¨‹åºå°†åŠ è½½åˆ° NIC é©±åŠ¨ç¨‹åºæœ¬èº«ä¸­ï¼Œè¿™å°†æœ‰æ•ˆåœ°å°†ç¨‹åºå¸è½½åˆ° NIC æœ¬èº«ã€‚\n\n### ä¼˜ç‚¹\n\n- æœ€ä½³æ€§èƒ½\n- éå¸¸é€‚ç”¨äºé˜²ç«å¢™ã€DDoS é˜²æŠ¤æˆ–è´Ÿè½½å‡è¡¡ç­‰ç”¨ä¾‹\n- åœ¨ä»»ä½•å…¶ä»–å†…å®¹è¿›è¡Œä¿®æ”¹ä¹‹å‰çœ‹åˆ°ä¼ å…¥çš„æµé‡\n\n### ç¼ºç‚¹\n\n- ä»…æ”¯æŒå…¥ç«™æµé‡ï¼Œä½¿ç”¨ XDP ç¨‹åºçœ‹åˆ°çš„ä»»ä½•æµé‡éƒ½åªæ˜¯ä¼ å…¥æµé‡ï¼Œç›®å‰æ— æ³•çœ‹åˆ°å‡ºç«™æµé‡\n- ä½¿ç”¨\u0060XDP\u0060æ•°æ®ç»“æ„ï¼Œä¸å¤§å¤šæ•°å¥—æ¥å­—ç¼–ç¨‹çš„é»˜è®¤æ•°æ®ç»“æ„\u0060SKB\u0060æœ‰ä¸€äº›ä¸åŒã€‚\n\n### TCï¼ˆTraffic Controlï¼‰æˆ–æµé‡æ§åˆ¶\n\nTraffic Control æ˜¯å†…æ ¸ç½‘ç»œç»“æ„çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼Œä¸»è¦åŒ…æ‹¬æ·»åŠ è¯¸å¦‚ qdisc å’Œè¿‡æ»¤å™¨ä¹‹ç±»çš„åŠŸèƒ½åˆ°æ¥å£çš„èƒ½åŠ›ã€‚qdisc ä¸»è¦é›†ä¸­åœ¨ä¸º TBDï¼ˆå¾…å®šï¼‰æä¾›æœåŠ¡ï¼Œè€Œè¿‡æ»¤å™¨é€šå¸¸åœ¨åº•å±‚å®é™…ä¸Šæ˜¯ä¸€ä¸ª eBPF ç¨‹åºã€‚\n\nå¸¸è§çš„å·¥ä½œæµç¨‹æ˜¯ï¼š\n\n1. åˆ›å»ºä¸€ä¸ªå…³æ³¨å…¥å£æˆ–å‡ºå£çš„ qdiscï¼Œæˆ–è€…æ›¿æ¢ä¸€ä¸ªç°æœ‰çš„ qdiscã€‚qdisc å°†é™„åŠ åˆ°æ¥å£ä¸Šã€‚\n2. åŠ è½½ä½ çš„ eBPF ç¨‹åºã€‚\n3. åˆ›å»ºä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå°†å…¶é™„åŠ åˆ°é€šè¿‡æ¥å£ä¸Šçš„ qdisc ä¸Šçš„å…¥å£æˆ–å‡ºå£ä¹‹ä¸€ã€‚è¯¥è¿‡æ»¤å™¨å°†ä¸ eBPF ç¨‹åºç›¸å…³è”ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰ä¼ å…¥æˆ–ä¼ å‡ºçš„æµé‡ç°åœ¨éƒ½ä¼šé€šè¿‡ä¸€ä¸ªç¨‹åºè¿è¡Œï¼ˆå¦‚æœè¿æ¥ï¼‰ã€‚\n4. è·åˆ© ğŸ’°\n\n### ä¼˜ç‚¹\n\n- æä¾›å…¥å£å’Œå‡ºå£çš„æŒ‚é’©ç‚¹\n- ä½¿ç”¨ä¼ ç»Ÿçš„\u0060SKB\u0060æ•°æ®ç»“æ„\n\n### ç¼ºç‚¹\n\n- å°† TC ç¨‹åºé™„åŠ åˆ°å…¥å£æˆ–å‡ºå£é˜Ÿåˆ—ç¨å¾®å¤æ‚ä¸€äº›ã€‚ç”¨æˆ·éœ€è¦ä½¿ç”¨ qdisc æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼ŒæŸäº› eBPF SDK ä¸ä¼šåŸç”Ÿæ”¯æŒ TC ç¨‹åºçš„ä½¿ç”¨ã€‚\n- TC eBPF ç¨‹åºçœ‹åˆ°çš„æµé‡å¯èƒ½å·²ç»è¢«ä¹‹å‰çš„ XDP ç¨‹åºæˆ–å†…æ ¸æœ¬èº«ä¿®æ”¹ã€‚\n\n### ç³»ç»Ÿè°ƒç”¨\n\nä¸å…¶ä»–ä¸¤ç§ä¸“é—¨è®¾è®¡ç”¨äºå¤„ç†ç½‘ç»œçš„æ–¹æ³•ç›¸æ¯”ï¼Œè¿™å¯èƒ½ä¼šæ˜¾å¾—æœ‰äº›å¥‡æ€ªï¼Œå› ä¸ºå®ƒæ˜¯å°†ä¸€äº› eBPF ä»£ç é™„åŠ åˆ°å†…æ ¸ä¸­çš„ç³»ç»Ÿè°ƒç”¨çš„ä¸€ç§æ›¿ä»£æ–¹æ³•ï¼Œå…·ä½“æ¥è¯´æ˜¯\u0060tcp4_connect()\u0060 \/ \u0060tcp6_connect()\u0060ç­‰è°ƒç”¨ã€‚è¿™åœ¨åè®®æ ˆä¸­ç•¥å¾®é åï¼Œå› ä¸ºåœ¨æ­¤æ—¶ï¼Œä¼ å…¥æ•°æ®åŒ…å·²ç»ç»è¿‡äº†å¾ˆå¤šå†…æ ¸é€»è¾‘ï¼Œè€Œ eBPF å†…çœç‚¹æ˜¯å½“æµé‡å³å°†ä¸åº”ç”¨ç¨‹åºæœ¬èº«äº¤äº’æ—¶ã€‚\n\n## ç¼–å†™ç½‘ç»œç¨‹åºï¼\n\næ‰€ä»¥åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬ï¼ˆå¸Œæœ›ï¼‰æ„è¯†åˆ°æˆ‘ä»¬æœ‰è®¸å¤šä¸åŒçš„å…¥å£ç‚¹ï¼Œå…è®¸æˆ‘ä»¬åœ¨â€œä¼ é€å¸¦â€ä¸Šæ³¨å…¥æˆ‘ä»¬çš„ä»£ç ï¼Œè¿™ä¸ªä¼ é€å¸¦ä» NIC å¼€å§‹ï¼Œä¸€ç›´åˆ°åº”ç”¨ç¨‹åºï¼ˆä»¥åŠåœ¨å‡ºç«™çš„æƒ…å†µä¸‹ï¼‰ã€‚\n\n### å›é¡¾\n\nåœ¨æˆ‘ä»¬æ‰€è°“çš„â€œä¼ é€å¸¦â€çš„å¼€å¤´ï¼Œæˆ‘ä»¬å¯ä»¥é™„åŠ æˆ‘ä»¬çš„ XDP ç¨‹åºå¹¶è·å¾—æœªç»è§¦ç¢°çš„åŸå§‹ç½‘ç»œæ•°æ®ã€‚åœ¨â€œä¼ é€å¸¦â€çš„ä¸­é—´ï¼Œæˆ‘ä»¬çš„ TC ç¨‹åºå°†æˆä¸ºé€šè¿‡å†…æ ¸çš„è·¯å¾„çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶æ¥æ”¶å¯èƒ½è¢«ä¿®æ”¹çš„ç½‘ç»œæ•°æ®ã€‚åœ¨ä¼ é€å¸¦çš„æœ«ç«¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»£ç é™„åŠ åˆ°åº”ç”¨ç¨‹åºå°†åœ¨å®ƒè¢«è¿è¡Œä¹‹å‰è·å–ç½‘ç»œæ•°æ®çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å¯ä»¥åœ¨ä¼ é€å¸¦çš„æœ«ç«¯è¿›è¡Œé™„åŠ ã€‚\n\n### æ•°æ®è¡¨ç¤º\n\nä½ çš„ç¨‹åºé™„åŠ åˆ°çš„ä½ç½®å†³å®šäº†ä¸¤ä¸ªä¸»è¦äº‹ç‰©ï¼Œä¸€ä¸ªæ˜¯æ½œåœ¨çš„æµé‡ä¿®æ”¹çš„ç›¸å¯¹çº§åˆ«ï¼Œå¦ä¸€ä¸ªæ˜¯æµé‡çš„è¡¨ç¤ºæ–¹å¼ã€‚\n\n### XDP ç»“æ„\n\næˆ‘ä¼šå†™å…³äºå®ƒçš„å†…å®¹ï¼Œä½†æ˜¯ DataDog å·²ç»åšäº†ï¼Œä½ å¯ä»¥åœ¨[è¿™é‡Œ](https:\/\/www.datadoghq.com\/blog\/xdp-intro\/#the-flow-of-an-xdp-program)é˜…è¯»ã€‚\n\n### SKBï¼ˆå¥—æ¥å­—ç¼“å†²åŒºï¼‰\n\nSKB æ˜¯åœ¨ eBPF æ·»åŠ åˆ°å†…æ ¸ä¹‹å‰å°±å­˜åœ¨äºå†…æ ¸ä¸­çš„æ•°æ®ç±»å‹ï¼Œå®ƒå·²ç»å…·å¤‡äº†ä¸€äº›ä½¿ä¸ SKB å¯¹è±¡äº¤äº’å˜å¾—ç¨å¾®å®¹æ˜“ä¸€äº›çš„è¾…åŠ©åŠŸèƒ½ã€‚æœ‰å…³æ›´æ·±å…¥çš„ SKB ä»‹ç»ï¼Œä½ å¯ä»¥é˜…è¯»æ­¤æ–‡ -\u003e http:\/\/vger.kernel.org\/~davem\/skb_data.html\n\n### è§£ææ•°æ®\n\næ— è®ºä¸å“ªä¸ªç»“æ„è¿›è¡Œäº¤äº’ï¼Œå®ƒä»¬éƒ½å…±äº«ä¸€äº›å…±åŒä¹‹å¤„ï¼Œè¿™ä¸»è¦æ˜¯ä¸¤ä¸ªå˜é‡ï¼Œå¯¹äºè¿™ä¸¤ç§æ•°æ®ç±»å‹æ¥è¯´æ˜¯ç›¸åŒçš„ã€‚\n\nè¿™äº›å˜é‡æ˜¯ï¼š\n\n- \u0060data\u0060ï¼Œå®ƒæ˜¯ eBPF ç¨‹åºæ¥æ”¶åˆ°çš„æ•°æ®çš„æŒ‡é’ˆ\n\n- \u0060data_len\u0060ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•´æ•°ï¼ŒæŒ‡å®šäº†æœ‰å¤šå°‘æ•°æ®å¯ç”¨ï¼ˆä»¥å¸®åŠ©ç¡®ä¿ä½ æ°¸è¿œä¸ä¼šè®¿é—®\u0060data\u0060è¶…è¿‡\u0060data_len\u0060ï¼ˆæ˜¾è€Œæ˜“è§çš„çœŸç† ğŸ¤“ï¼‰ï¼‰\n\næ‰€ä»¥è¿™ä¸€åˆ‡ä¼¼ä¹å¾ˆç®€å•ï¼Œä½†ç­‰ç­‰... \u0060*data\u0060ä¸­å®é™…ä¸Šæœ‰ä»€ä¹ˆï¼Ÿï¼ˆè¿™å–å†³äºä½ çš„å‘ç°ï¼‰\n\né€šè¿‡ä¸æ–­â€œè½¬æ¢â€\u0060*data\u0060å¹¶æ²¿ç€å®ƒç§»åŠ¨ä»¥å‰¥ç¦»å„ç§æ ‡å¤´ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£å’ŒæŸ¥æ‰¾åº•å±‚æ•°æ®ï¼\n\n### è½¬æ¢ï¼Ÿ\n\nå¦‚æœä½ æ„¿æ„ï¼Œä½ å¯ä»¥è·³è¿‡æ­¤éƒ¨åˆ†ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿï¼ˆä¸”ç³Ÿç³•ï¼‰çš„ç¤ºä¾‹ï¼Œè¯´æ˜äº†æˆ‘ä»¬é€šå¸¸å¦‚ä½•å°†ä¸€äº›åŸå§‹æ•°æ®è½¬æ¢ä¸ºæœ‰æ„ä¹‰çš„ä¸œè¥¿ã€‚ç›®å‰ï¼Œ\u0060*data\u0060å°†åªæ˜¯ä¸€ä¸²éšæœºæ•°æ®ï¼Œæ¯«æ— æ„ä¹‰ï¼Œæˆ‘ä»¬éœ€è¦æœ‰æ•ˆåœ°ä¸ºå…¶æ·»åŠ â€œæ ¼å¼â€ä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ç†è§£å…¶å¤–è§‚ã€‚\n\nè€ƒè™‘ä¸€ä¸‹éšæœºæ•°æ®è¡Œï¼šâ€œBobby0004500100.503 Harvard Drive90210â€ï¼Œå…¶ä¸­ä¸€äº›å¯¹è£¸çœ¼æ¥è¯´æ˜¯æœ‰æ„ä¹‰çš„ï¼Œä½†æœ‰äº›æ˜¯ä¸æ¸…æ¥šçš„ã€‚\n\næƒ³è±¡ä¸€ä¸‹åä¸ºâ€œpersonâ€çš„æ•°æ®ç»“æ„ï¼š\n\n\u0060\u0060\u0060bash\nName: string\nAge: number\nBalance: float\nStreet: string\nZipCode: number\n\u0060\u0060\u0060\n\nå¦‚æœæˆ‘ä»¬è¦å°†æˆ‘ä»¬çš„éšæœºæ•°æ®â€œè½¬æ¢â€ä¸ºä¸Šé¢çš„â€œpersonâ€ç»“æ„ï¼Œå®ƒå°†çªç„¶å˜æˆï¼š\n\n\u0060\u0060\u0060bash\nName: Bobby\nAge: 45\nBalance: 100.50\nStreet: 3 Harvard Drive\nZipCode: 90210\n\u0060\u0060\u0060\n\nç°åœ¨çªç„¶é—´ï¼Œæˆ‘èƒ½å¤Ÿç†è§£å¹¶è®¿é—®ç»“æ„ä¸­çš„åº•å±‚å˜é‡ï¼Œå› ä¸ºå®ƒä»¬ç°åœ¨æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå³ person-\u003eNameï¼Œå¹¶ä¸”å‘ç°æ­¤ç‰¹å®šçš„ person ç±»å‹å¯¹è±¡å…·æœ‰åç§°å˜é‡â€œBobbyâ€ï¼\n\nè¿™æ­£æ˜¯æˆ‘ä»¬å°†å¯¹æˆ‘ä»¬çš„\u0060*data\u0060æ‰€åšçš„ï¼\n\n### æ•°æ®ä¸­åŒ…å«ä»€ä¹ˆï¼Ÿ\n\nå› æ­¤ï¼Œç¬¬ä¸€æ­¥æ˜¯ç¡®å®šæ•°æ®æ˜¯å¦ä»¥ä»¥å¤ªç½‘å¸§å¼€å¤´ï¼å‡ ä¹æ‰€æœ‰ä¼ è¾“çš„æ•°æ®éƒ½ä»¥ä»¥å¤ªç½‘å¸§å¼€å¤´ï¼Œè¿™ç›¸å½“ç®€å•ï¼Œä½†å…¶ä½œç”¨æ˜¯å…·æœ‰æºå’Œç›®æ ‡ç¡¬ä»¶åœ°å€ï¼ˆæ— è®ºè™šæ‹ŸåŒ–\/å®¹å™¨åŒ–\/æœ‰çº¿ç½‘ç»œè¿˜æ˜¯ WiFi å¦‚ä½•ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€æ­¥æ˜¯å°†æˆ‘ä»¬çš„\u0060*data\u0060è½¬æ¢ä¸ºç±»å‹\u0060ETHHDR\u0060ï¼Œå¦‚æœæˆåŠŸï¼Œæˆ‘ä»¬ç°åœ¨å°†èƒ½å¤Ÿäº†è§£ç»„æˆä»¥å¤ªç½‘å¤´æ•°æ®ç±»å‹çš„å˜é‡ã€‚è¿™äº›åŒ…æ‹¬æºå’Œç›®æ ‡ MAC åœ°å€ï¼Œä½†æ›´é‡è¦çš„æ˜¯å‰©ä½™æ•°æ®çš„å†…å®¹æ˜¯ä»€ä¹ˆã€‚å†æ¬¡ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä»¥å¤ªç½‘å¤´ä¹‹åçš„\u0060*data\u0060å†…å®¹é€šå¸¸æ˜¯ IP å¤´ï¼Œä½†æˆ‘ä»¬å°†é€šè¿‡æ£€æŸ¥ä»¥å¤ªç½‘å¸§çš„ TBD å˜é‡æ¥éªŒè¯ã€‚\n\nä¸€æ—¦æˆ‘ä»¬éªŒè¯ä¸‹ä¸€ç»„æ•°æ®æ˜¯ IP å¤´ï¼Œæˆ‘ä»¬å°†éœ€è¦å°†ä»¥å¤ªç½‘å¤´ä¹‹åçš„æ•°æ®è½¬æ¢ä¸º IPHDR ç±»å‹ã€‚ä¸€æ—¦æˆ‘ä»¬è¿™æ ·åšï¼Œæˆ‘ä»¬å°†èƒ½å¤Ÿè®¿é—® IP ç‰¹å®šçš„æ•°æ®ï¼Œä¾‹å¦‚æº IPï¼ˆ\u0060saddr\u0060ï¼‰æˆ–ç›®æ ‡åœ°å€ï¼ˆ\u0060daddr\u0060ï¼‰ï¼Œå†æ¬¡é‡è¦çš„æ˜¯ IP å¤´åŒ…å«ä¸€ä¸ªå˜é‡ï¼Œè¯¦ç»†è¯´æ˜äº† IP å¤´ä¹‹åçš„æ•°æ®æ˜¯ä»€ä¹ˆã€‚è¿™é€šå¸¸æ˜¯ TCP å¤´æˆ– UDP å¤´ï¼Œä½†è¿˜æœ‰å…¶ä»–é€‰æ‹©ï¼Œä¾‹å¦‚ sctp ç­‰ã€‚\n\nä¸€æ—¦æˆ‘ä»¬æŸ¥çœ‹äº† IP å¤´çš„å†…éƒ¨å¹¶ç¡®å®šæ•°æ®ç±»å‹æ˜¯ TCPï¼ˆä¹Ÿå¯èƒ½æ˜¯ UDP æˆ–å…¶ä»–å†…å®¹ï¼‰ï¼Œæˆ‘ä»¬å°†æŠŠä»¥å¤ªç½‘å¤´å’Œ IP å¤´ä¹‹åçš„æ•°æ®éƒ½è½¬æ¢ä¸º TCP å¤´ç±»å‹ï¼ï¼ˆå‡ ä¹å®Œæˆäº†ï¼‰ã€‚é€šè¿‡è®¿é—® TCP å¤´çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾— TCP ç‰¹å®šçš„æ•°æ®ï¼Œä¾‹å¦‚æºç«¯å£æˆ–ç›®æ ‡ç«¯å£ï¼Œç”¨äºéªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§çš„æ ¡éªŒå’Œä»¥åŠå…¶ä»–æœ‰ç”¨çš„å˜é‡ã€‚\n\nç°åœ¨æˆ‘ä»¬å‡ ä¹æ‹¥æœ‰ä¸€åˆ‡ï¼Œä½†æ˜¯ TCP å¤´çš„é•¿åº¦å¯èƒ½æ˜¯å¯å˜çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é€šè¿‡æŸ¥çœ‹ tcl_len å˜é‡æ¥ç¡®å®šè¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶ä¹˜ä»¥ 4ã€‚ç°åœ¨æˆ‘ä»¬æ‹¥æœ‰äº†è®¿é—®æœ€ç»ˆæ•°æ®æ‰€éœ€çš„ä¸€åˆ‡ï¼\n\nå› æ­¤ï¼Œ\u0060*data\u0060æŒ‡å‘æ•°æ®çš„å¼€å¤´ï¼æˆ‘ä»¬å·²ç»ç¡®å®šäº†ä»¥å¤ªç½‘å¤´ä¹‹åæ˜¯ IP å¤´ï¼Œæœ€åæ˜¯ TCP å¤´ï¼Œè¿™æ„å‘³ç€\u0060*data \u002b ä»¥å¤ªç½‘å¤´ \u002b IP å¤´ \u002b TCP å¤´ = å®é™…åº”ç”¨ç¨‹åºæ•°æ®ï¼\n\n### æˆ‘ä»¬å¯ä»¥ç”¨è¿™äº›ä¿¡æ¯åšä»€ä¹ˆï¼Ÿ\n\nå½“æˆ‘ä»¬è§£æå„ç§æ ‡å¤´æ—¶ï¼Œå®é™…ä¸Šåœ¨ OSI æ¨¡å‹çš„ä¸åŒå±‚æ¬¡ä¸Šè§£é”äº†è¶Šæ¥è¶Šå¤šçš„ä¿¡æ¯ï¼\n\n**[ç¬¬ 2 å±‚]** ä»¥å¤ªç½‘å¤´ä¸ºæˆ‘ä»¬æä¾›äº†æºå’Œç›®æ ‡ç¡¬ä»¶åœ°å€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­¤ä¿¡æ¯æ¥æ½œåœ¨åœ°é˜»æ­¢ä»æˆ‘ä»¬çŸ¥é“å±é™©çš„æº MAC åœ°å€å¤„ç†çš„å¸§ã€‚\n\n**[ç¬¬ 3 å±‚]** IP å¤´åŒ…å«æºå’Œç›®æ ‡ IP åœ°å€ï¼Œå†æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥åƒé˜²ç«å¢™ä¸€æ ·è¿ä½œï¼Œé€šè¿‡ä½¿ç”¨ eBPF ç¨‹åºä¸¢å¼ƒç‰¹å®š IP åœ°å€çš„æ‰€æœ‰æµé‡ã€‚æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ® IP åœ°å€é‡å®šå‘æµé‡ï¼Œæˆ–è€…ç”šè‡³åœ¨è¿™ä¸€å±‚å®æ–½è´Ÿè½½å‡è¡¡é€»è¾‘ï¼Œä»¥å°†æµé‡é‡å®šå‘åˆ°å…¶ä»–åº•å±‚ IP åœ°å€é›†åˆã€‚\n\n**[ç¬¬ 4 å±‚]** TCP æˆ– UDP æ ‡å¤´å®šä¹‰äº†ç›®æ ‡ç«¯å£å·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥ç¡®å®šåº”ç”¨ç¨‹åºåè®®æ˜¯ä»€ä¹ˆï¼ˆå³ç«¯å£ 80 é€šå¸¸æ„å‘³ç€å‰©ä½™çš„*data å¯èƒ½æ˜¯ HTTP æ•°æ®ï¼‰ã€‚åœ¨è¿™ä¸€å±‚ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæ‰§è¡Œè´Ÿè½½å‡è¡¡ç­‰æ“ä½œï¼ŒåŸºäºç›®æ ‡ï¼ˆå³åœ¨å¤šä¸ªå…¶ä»–è´Ÿè½½å‡è¡¡å™¨åœ°å€ä¹‹é—´å¹³è¡¡ï¼‰ã€‚\n\n**[ç¬¬ 7 å±‚]** æ­£å¦‚å‰é¢æåˆ°çš„ï¼Œå„ç§æ ‡å¤´é›†åˆçš„æœ«å°¾çš„æ•°æ®æ˜¯å®é™…çš„åº”ç”¨ç¨‹åºæ•°æ®ï¼Œåªè¦æˆ‘ä»¬çŸ¥é“æ ¼å¼ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è§£æå®ƒã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¤–éƒ¨ Web æµè§ˆå™¨å°è¯•è®¿é—®æˆ‘çš„è®¡ç®—æœºä¸Šçš„\u0060\/index.html\u0060å¹¶é™„åŠ äº† eBPF ç¨‹åºï¼Œæˆ‘ä¼šè§£æåˆ° TCPï¼Œç„¶åç¡®å®šå®ƒæ˜¯ç«¯å£ 80ï¼Œç„¶ååº”ç”¨ç¨‹åºæ•°æ®åº”è¯¥æ˜¯ HTTP æ ¼å¼ã€‚æˆ‘å¯ä»¥é€šè¿‡æŸ¥çœ‹åº”ç”¨ç¨‹åºæ•°æ®çš„å‰ä¸‰ä¸ªå­—ç¬¦ï¼ˆåœ¨æ‰€æœ‰æ ‡å¤´ä¹‹åï¼‰æ¥éªŒè¯è¿™ä¸€ç‚¹ï¼Œä½¿ç”¨ä»¥ä¸‹ä¼ªä»£ç ï¼š\n\n\u0060\u0060\u0060bash\nApplicationData = EthernetHDR \u002b IPHDR \u002b TCPHDR \/\/ å°†æ‰€æœ‰æ ‡å¤´é•¿åº¦ç›¸åŠ ä»¥æ‰¾åˆ°æ•°æ®\nIf ( data[ApplicationData] = \u0022G\u0022 \u0026\u0026 data[ApplicationData\u002b1] = \u0022E\u0022 \u0026\u0026 data[ApplicationData\u002b2] = \u0022T\u0022 ) {\n\t\/\/ è¿™æ˜¯ä¸€ä¸ªHTTP GETè¯·æ±‚\n\t\/\/ åšä¸€äº›ä»¤äººå…´å¥‹çš„äº‹æƒ…\n}\n\u0060\u0060\u0060\n\n## æ€»ç»“\n\nç°åœ¨æˆ‘ä»¬â€œæœ‰ç‚¹â€ç†è§£äº†è¿™ä¸ªé€»è¾‘ï¼Œä¹Ÿè®¸æˆ‘ä»¬åº”è¯¥è€ƒè™‘å®æ–½ä¸€äº›ä»£ç æ¥å®Œæˆæ‰€æœ‰è¿™äº›...ä½†è¿™å°†æ˜¯å¦ä¸€å¤©çš„äº‹æƒ…ã€‚\n', '\/trans\/ebpf-adventures-in-networking\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">è¿™ç¯‡æ–‡ç« ä»‹ç»äº† eBPF åœ¨ç½‘ç»œé¢†åŸŸçš„ä¸€äº›åº”ç”¨å’Œå®è·µï¼ŒåŒ…æ‹¬ XDPã€TC å’Œ sysprobes ä¸‰ç§ä¸åŒçš„ eBPF ç¨‹åºæŒ‚è½½æ–¹å¼çš„ä¼˜ç¼ºç‚¹ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ eBPF å®ç°ç½‘ç»œæ•°æ®çš„æ•è·ã€åˆ†æå’Œä¿®æ”¹ã€‚ä½œè€…è¿˜åˆ†äº«äº†ä¸€äº›æœ‰ç”¨çš„ eBPF å·¥å…·å’Œèµ„æºï¼Œä»¥åŠè‡ªå·±å¼€å‘çš„ä¸€ä¸ª eBPF ç½‘ç»œä»£ç†çš„é¡¹ç›®ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/trans/securing-cloud-natives-most-important-use-cases/">[è¯‘] äº‘åŸç”Ÿè½¯ä»¶çš„å…³é”®ç”¨ä¾‹å®‰å…¨ä¿éšœä¹‹é“</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2024/01/10</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e4%b8%9a%e6%80%81"> 
             ä¸šæ€
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fas fa-language"></i>
              <a href="https://www.chainguard.dev/unchained/securing-cloud-natives-most-important-use-cases" target="_blank" rel="noopener">åŸæ–‡</a>
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('äº‘åŸç”Ÿè½¯ä»¶çš„å…³é”®ç”¨ä¾‹å®‰å…¨ä¿éšœä¹‹é“', 'äº‘åŸç”Ÿè½¯ä»¶å¼€å‘æ„å‘³ç€ä¸ºå…¬æœ‰äº‘å’Œç§æœ‰äº‘çš„ç‰¹æ€§ä¼˜åŒ–åº”ç”¨å’Œç¯å¢ƒã€‚Chainguard æ—¨åœ¨æä¾›ä¸å½±å“å¼€å‘è€…ä½“éªŒçš„è½¯ä»¶ä¾›åº”é“¾å®‰å…¨å·¥å…·ï¼Œé€šè¿‡æä¾›æœ€å°åŒ–ã€å¼ºåŒ–çš„å®¹å™¨é•œåƒï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå‡†ç¡®åœ°æ‰«ææ¼æ´å¹¶æ¶ˆé™¤ CVE è­¦æŠ¥ã€‚æœ¬æ–‡ä»‹ç»äº† Chainguard Images ä¸º Istio å’Œ Cilium è¿™ä¸¤ä¸ªäº‘åŸç”ŸåŸºç¡€æŠ€æœ¯æä¾›çš„å®‰å…¨å¢å¼ºæ–¹æ¡ˆã€‚', '\næ‘˜è¦ï¼šäº‘åŸç”Ÿè½¯ä»¶å¼€å‘æ„å‘³ç€ä¸ºå…¬æœ‰äº‘å’Œç§æœ‰äº‘çš„ç‰¹æ€§ä¼˜åŒ–åº”ç”¨å’Œç¯å¢ƒã€‚Chainguard æ—¨åœ¨æä¾›ä¸å½±å“å¼€å‘è€…ä½“éªŒçš„è½¯ä»¶ä¾›åº”é“¾å®‰å…¨å·¥å…·ï¼Œé€šè¿‡æä¾›æœ€å°åŒ–ã€å¼ºåŒ–çš„å®¹å™¨é•œåƒï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå‡†ç¡®åœ°æ‰«ææ¼æ´å¹¶æ¶ˆé™¤ CVE è­¦æŠ¥ã€‚æœ¬æ–‡ä»‹ç»äº† Chainguard Images ä¸º Istio å’Œ Cilium è¿™ä¸¤ä¸ªäº‘åŸç”ŸåŸºç¡€æŠ€æœ¯æä¾›çš„å®‰å…¨å¢å¼ºæ–¹æ¡ˆã€‚\n\n---\n\nä»æ ¹æœ¬ä¸Šè¯´ï¼Œæ„å»ºäº‘åŸç”Ÿè½¯ä»¶æ„å‘³ç€æ„å»ºé’ˆå¯¹å…¬å…±å’Œç§æœ‰äº‘ç‰¹æ€§è¿›è¡Œä¼˜åŒ–çš„åº”ç”¨ç¨‹åºå’Œç¯å¢ƒã€‚å¼€å‘äº‘åŸç”Ÿè½¯ä»¶æ„å‘³ç€ç®¡ç†ä¸€å®šç¨‹åº¦çš„æ··ä¹±ï¼Œè¿™ä¸æ˜¯æ‰€æœ‰ç±»å‹çš„è½¯ä»¶éƒ½éœ€è¦çš„ã€‚\n\nè¿™åœ¨æ–°çš„ä¸€å¹´å°¤å…¶é‡è¦ï¼Œæˆ‘ä»¬å¯ä»¥é¢„æœŸäº§å“å°†è¶‹å‘äºä¼˜å…ˆè€ƒè™‘å¼€å‘è€…ä½“éªŒï¼Œå¹¶ä¸”å¹³å°å·¥ç¨‹çš„å´›èµ·ã€‚è‰¯å¥½çš„å·¥ç¨‹å’Œå·¥å…·ä½¿å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºæ„å»ºå’Œåˆ›æ–°ã€‚å·²ç»æ„å»ºçš„æ‰€æœ‰å†…éƒ¨å¼€å‘è€…å¹³å°å’Œå³å°†æ¨å‡ºçš„å¹³å°éƒ½éœ€è¦å°½é‡å°†åŸºç¡€è®¾æ–½ç®¡ç†ä»å¼€å‘è€…é‚£é‡ŒæŠ½è±¡å‡ºæ¥ã€‚\n\nè¿™æ­£æ˜¯ Chainguard æƒ³è¦è§£å†³çš„é—®é¢˜é¢†åŸŸï¼Œç‰¹åˆ«æ˜¯åœ¨å®‰å…¨æ€§å’Œæ¼æ´ç®¡ç†æ–¹é¢ã€‚æˆ‘ä»¬è‡´åŠ›äºæä¾›ä¸å¦¨ç¢å¼€å‘è€…ä½“éªŒçš„å·¥å…·ï¼Œä»¥ç¡®ä¿è½¯ä»¶ä¾›åº”é“¾çš„å®‰å…¨ã€‚æˆ‘ä»¬é€šè¿‡æä¾›æœ€å°åŒ–ã€åŠ å›ºçš„å®¹å™¨é•œåƒæ¥å®ç°è¿™ä¸€ç›®æ ‡ï¼Œè¿™ä½¿æˆ‘ä»¬çš„ç”¨æˆ·å¯ä»¥è·å¾—å‡†ç¡®çš„æ‰«æç»“æœï¼Œå¹¶å°† CVE æ”¶ä»¶ç®±è­¦æŠ¥é™è‡³é›¶ã€‚\n\n### æ¨å‡ºæ–°çš„ Chainguard Images æ†ç»‘åŒ…ï¼Œé€‚ç”¨äº Cilium å’Œ Istio\n\nä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œæˆ‘ä»¬å¯†åˆ‡å…³æ³¨æœ€å—æ¬¢è¿çš„å¼€æºé¡¹ç›®ï¼Œä½†ä¹Ÿå…³æ³¨é‚£äº›å¦‚æœç»è¿‡åŠ å›ºï¼Œå°†ä¸ºæ•´ä¸ªå¼€æºç”Ÿæ€ç³»ç»Ÿæä¾›é‡è¦çš„å®‰å…¨æ”¹è¿›çš„é¡¹ç›®ã€‚ä¸ºäº†åœ¨æ•´ä¸ªç”Ÿæ€ç³»ç»Ÿä¸­äº§ç”Ÿæœ€å¤§çš„å½±å“ï¼Œæˆ‘ä»¬åº”è¯¥å¸®åŠ©åŠ å›ºé‚£äº›ä½œä¸ºäº‘åŸç”Ÿè½¯ä»¶åŸºçŸ³çš„æŠ€æœ¯ã€‚Istio å’Œ Cilium æ­£æ˜¯è¿™æ ·çš„æ˜æ˜¾ç¤ºä¾‹ï¼Œå®ƒä»¬æ˜¯äº‘åŸç”Ÿè½¯ä»¶ç”Ÿæ€ç³»ç»Ÿçš„åŸºç¡€æ„å»ºæ¨¡å—ä¹‹ä¸€ã€‚é€šè¿‡æä¾›æ–°çš„ Chainguard Images Istio å’Œ Cilium æ†ç»‘åŒ…ï¼Œæˆ‘ä»¬ä¸ºè¿™äº›é¡¹ç›®çš„ç”¨æˆ·æä¾›äº†ä¸€ä¸ªå®‰å…¨åœ°å°†å®ƒä»¬å¼•å…¥å…¶æ„å»ºæµç¨‹çš„ç®€ä¾¿æ–¹æ³•ã€‚\n\nåœ¨ä»»ä½•ç»™å®šçš„ä¾›åº”é“¾ä¸­ï¼Œæœ‰äº›åŸææ–™æ¯”å…¶ä»–åŸææ–™æ›´ä¸ºåŸºç¡€ã€‚å¦‚æœè¿™äº›åŸææ–™å¾—åˆ°äº†å¦¥å–„ä¿æŠ¤ï¼Œé‚£ä¹ˆè¿™å°†å¯¹åç»­å·¥ä½œäº§ç”Ÿè¿é”æ•ˆåº”ï¼ˆæˆ–è€…å¦‚æœä½ æ„¿æ„çš„è¯ï¼Œå¯ä»¥è¯´æ˜¯å¯¹æ•´ä¸ªå †æ ˆäº§ç”Ÿä¸Šä¸‹æ¸¸å½±å“ï¼‰ã€‚\n\nCilium å’Œ Istio æŠ€æœ¯éƒ½æ¶µç›–äº†å¯¹ Kubernetes ç¯å¢ƒå…·æœ‰åŸºç¡€ä½œç”¨çš„å„ç§ç”¨ä¾‹ã€‚Cilium å’Œ Istio æ˜¯ä¸¤ä¸ªæµè¡Œçš„å·¥å…·ï¼Œé€šè¿‡æä¾›æµé‡è·¯ç”±ã€è´Ÿè½½å¹³è¡¡ã€æœåŠ¡å‘ç°ç­‰åŠŸèƒ½æ¥å¸®åŠ©è§£å†³è¿™äº›æŒ‘æˆ˜ã€‚è¿™äº›åŠŸèƒ½å¯¹äºç¡®ä¿ Kubernetes å’Œå…¶ä»–äº‘åŸç”Ÿè½¯ä»¶éƒ¨ç½²çš„é¡ºåˆ©ã€é«˜æ•ˆå’Œå®‰å…¨è¿è¡Œè‡³å…³é‡è¦ã€‚æœ€ç»ˆï¼Œæ„å»ºäº‘åŸç”Ÿè½¯ä»¶æ„å‘³ç€åˆ›å»ºä¸“ä¸ºäº‘è®¾è®¡çš„åº”ç”¨ç¨‹åºï¼Œè€Œ Cilium å’Œ Istio åœ¨å¸®åŠ©å¼€å‘è€…å®ç°è¿™ä¸€ç›®æ ‡æ–¹é¢å‘æŒ¥äº†å…³é”®ä½œç”¨ã€‚\n\n### Istio å’Œ Cilium åœ¨äº‘è®¡ç®—ä¸­ä¸å¯æˆ–ç¼ºçš„ä½œç”¨\n\næ ¹æ® 2022 å¹´çš„ [CNCF å¹´åº¦è°ƒæŸ¥](https:\/\/www.cncf.io\/reports\/cncf-annual-survey-2022\/)ï¼ŒIstio æ˜¯å—è®¿è€…ä¸­ä½¿ç”¨æœ€å¹¿æ³›çš„æœåŠ¡ç½‘æ ¼ï¼Œ73% çš„å—è®¿å…¬å¸ä½¿ç”¨å®ƒã€‚è¿™ç§å¹¿æ³›çš„é‡‡ç”¨è¯æ˜äº† Istio åœ¨è§£å†³å„ç§æœåŠ¡ç®¡ç†æŒ‘æˆ˜æ–¹é¢çš„æœ‰æ•ˆæ€§ï¼Œä½¿å…¶æˆä¸ºç°ä»£ä¼ä¸šå¯»æ±‚æ„å»ºå¼ºå¤§ã€å®‰å…¨å’Œå¯æ‰©å±•çš„å¾®æœåŠ¡æ¶æ„çš„é‡è¦å·¥å…·ã€‚Istio åœ¨ GitHub ä¸Šæ‹¥æœ‰è¶…è¿‡ 34,000 é¢—æ˜Ÿæ˜Ÿï¼Œä½¿å…¶æˆä¸º CNCF ä¸­æœ€å—æ¬¢è¿çš„é¡¹ç›®ä¹‹ä¸€ã€‚\n\nä»åŒä¸€ä»½ CNCF è°ƒæŸ¥ä¸­ï¼Œæœ‰ 47% çš„å—è®¿è€…å°† Cilium ä½œä¸ºä»–ä»¬å®¹å™¨ç¼–æ’å¹³å°ï¼ˆå¦‚ Kubernetesï¼‰çš„é¦–é€‰ç½‘ç»œæ’ä»¶ã€‚å®ƒä¹Ÿå—æ¬¢è¿äºç½‘ç»œå®‰å…¨é¢†åŸŸï¼Œæœ‰ 43% çš„å—è®¿è€…å°†å…¶ç”¨äºæ­¤ç›®çš„ã€‚eBPF çš„æœªæ¥å’ŒåŠ›é‡æ˜¯ä¸å¯æ€è®®çš„ï¼Œæ‰€æœ‰äººéƒ½åŒæ„è¿™ä¸€ç‚¹ã€‚\n\næœ€è¿‘ï¼Œæˆ‘ä»¬æ¨å‡ºäº†æˆ‘ä»¬çš„æ–°çš„ [Chainguard Images ç›®å½•](https:\/\/images.chainguard.dev\/)ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¬å¼€å¯ç”¨çš„ç½‘ç«™ï¼Œç”¨æˆ·å¯ä»¥åœ¨å…¶ä¸­æµè§ˆæˆ‘ä»¬åº“å­˜ä¸­çš„æ‰€æœ‰é•œåƒã€‚åœ¨æ¯ä¸ª Chainguard\n\n Image åˆ—è¡¨ä¸­ï¼Œä½ å°†æ‰¾åˆ°æœ‰å…³å®‰è£…ã€åŸºç¡€è®¾æ–½ã€ç­¾åå’Œ SBOM çš„æºæ•°æ®çš„ç›¸å…³ä¿¡æ¯ï¼Œä»¥åŠæ›´å¤šå…¶ä»–ç›¸å…³ä¿¡æ¯ã€‚Chainguard Images ç›®å½•è¿˜åŒ…æ‹¬ä¸€ä¸ªæ–°çš„[å®‰å…¨é€šæŠ¥](https:\/\/images.chainguard.dev\/security)é¡µé¢ï¼Œæ˜¾ç¤ºç”¨æˆ·å·²çŸ¥çš„ CVEï¼Œä¿®å¤çš„çŠ¶æ€ç­‰ä¿¡æ¯ã€‚\n\nå¦‚æœä½ æ­£åœ¨å¯»æ‰¾æ›´å¤šå…³äºå¦‚ä½•åœ¨æœ¬åœ°ç¯å¢ƒä¸­å¯åŠ¨ Chainguard Images Cilium æˆ– Istio æ†ç»‘åŒ…çš„æŠ€æœ¯æŒ‡å¯¼ï¼Œè¯·æŸ¥çœ‹ Chainguard å·¥ç¨‹å¸ˆ[Nghia Tran](https:\/\/www.linkedin.com\/in\/tcnghia\/)åœ¨ Chainguard Academy ä¸Šæä¾›çš„è¿™äº›æ–¹ä¾¿å…¥é—¨çš„æŒ‡å—ã€‚éå¸¸æ„Ÿè°¢æˆ‘ä»¬çš„æœ‹å‹[Isovalent](https:\/\/www.linkedin.com\/in\/feroz-salam-372a4113\/)çš„ Feroz Salam åœ¨ Cilium Images æ–¹é¢ç»™äº†æˆ‘ä»¬å¸®åŠ©ï¼Œä»¥åŠå¤šå¹´æ¥å¸®åŠ©æˆ‘ä»¬çš„ Istio çš„[John Howard](https:\/\/www.linkedin.com\/in\/-johnhoward\/)ï¼ä»¥ä¸‹æ˜¯æŒ‡å—ï¼š\n\n- [å¼€å§‹ä½¿ç”¨ Istio](https:\/\/edu.chainguard.dev\/chainguard\/chainguard-images\/getting-started\/getting-started-istio\/)\n- [å¼€å§‹ä½¿ç”¨ Cilium](https:\/\/edu.chainguard.dev\/chainguard\/chainguard-images\/getting-started\/getting-started-cilium\/)\n\nChainguard Developer Images æä¾›äº†å¸¦æœ‰ \u0060:latest\u0060 å’Œ \u0060:latest-dev\u0060 æ ‡ç­¾çš„å…è´¹é•œåƒï¼Œä¾›ä½ åœ¨å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨ã€‚åœ¨æ–°çš„ç›®å½•ä¸­ï¼Œæ¯ä¸ªé•œåƒé¡µé¢è¿˜åŒ…æ‹¬é‡è¦çš„ç‰¹å®šäºé•œåƒçš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚ç‰ˆæœ¬æ ‡ç­¾å’Œå…¶ä»–å˜ä½“ï¼Œå¦‚ FIPS å’Œé•¿æœŸæ”¯æŒï¼ˆLTSï¼‰ï¼Œè¿™äº›éƒ½é€‚ç”¨äºè´­ä¹°äº†è¿™äº›è§£å†³æ–¹æ¡ˆçš„ Chainguard Images å®¢æˆ·ã€‚å¦‚æœä½ æƒ³äº†è§£æœ‰å…³æˆ‘ä»¬çš„ Production Images ä¸­é¢å‘ä¼ä¸šçš„åŠŸèƒ½çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·[è”ç³»æˆ‘ä»¬çš„å›¢é˜Ÿ](https:\/\/www.chainguard.dev\/contact)ã€‚\n', '\/trans\/securing-cloud-natives-most-important-use-cases\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">äº‘åŸç”Ÿè½¯ä»¶å¼€å‘æ„å‘³ç€ä¸ºå…¬æœ‰äº‘å’Œç§æœ‰äº‘çš„ç‰¹æ€§ä¼˜åŒ–åº”ç”¨å’Œç¯å¢ƒã€‚Chainguard æ—¨åœ¨æä¾›ä¸å½±å“å¼€å‘è€…ä½“éªŒçš„è½¯ä»¶ä¾›åº”é“¾å®‰å…¨å·¥å…·ï¼Œé€šè¿‡æä¾›æœ€å°åŒ–ã€å¼ºåŒ–çš„å®¹å™¨é•œåƒï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå‡†ç¡®åœ°æ‰«ææ¼æ´å¹¶æ¶ˆé™¤ CVE è­¦æŠ¥ã€‚æœ¬æ–‡ä»‹ç»äº† Chainguard Images ä¸º Istio å’Œ Cilium è¿™ä¸¤ä¸ªäº‘åŸç”ŸåŸºç¡€æŠ€æœ¯æä¾›çš„å®‰å…¨å¢å¼ºæ–¹æ¡ˆã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/trans/what-is-a-kubernetes-cluster-mesh-and-what-are-the-benefits/">[è¯‘] å¦‚ä½•ä½¿ç”¨ Calico æ„å»ºå’Œç®¡ç† Kubernetes Cluster Mesh</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2024/01/09</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/kubernetes"> 
             Kubernetes
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fas fa-language"></i>
              <a href="https://www.tigera.io/blog/deep-dive/what-is-a-kubernetes-cluster-mesh-and-what-are-the-benefits/" target="_blank" rel="noopener">åŸæ–‡</a>
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('å¦‚ä½•ä½¿ç”¨ Calico æ„å»ºå’Œç®¡ç† Kubernetes Cluster Mesh', 'è¿™ç¯‡æ–‡ç« ä»‹ç»äº†é›†ç¾¤ç½‘æ ¼çš„æ¦‚å¿µå’Œä¼˜åŠ¿ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ Calico Open Source çš„å¤šç§æ–¹æ³•ï¼Œå®ç°è·¨é›†ç¾¤çš„æœåŠ¡é—´é€šä¿¡å’Œè´Ÿè½½å‡è¡¡ã€‚', '\nKubernetes æ˜¯æ„å»ºçµæ´»å¯æ‰©å±•åŸºç¡€è®¾æ–½ä»¥è¿è¡ŒåŠ¨æ€å·¥ä½œè´Ÿè½½çš„ä¼˜ç§€è§£å†³æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œéšç€æˆ‘ä»¬çš„é›†ç¾¤æ‰©å±•ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé¢ä¸´åŒæ—¶æ‰©å±•å’Œç®¡ç†å¤šä¸ªé›†ç¾¤çš„ä¸å¯é¿å…æƒ…å†µã€‚è¿™ä¸ªæ¦‚å¿µå¯èƒ½ä¼šç»™æˆ‘ä»¬çš„æ—¥å¸¸å·¥ä½œè´Ÿè½½ç»´æŠ¤å¸¦æ¥å¾ˆå¤šå¤æ‚æ€§ï¼Œå¹¶å¢åŠ åœ¨æ‰€æœ‰ç¯å¢ƒä¸­ä¿æŒæ‰€æœ‰ç­–ç•¥å’ŒæœåŠ¡çš„æœ€æ–°æ€§çš„éš¾åº¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ[é›†ç¾¤ç½‘æ ¼](https:\/\/www.tigera.io\/blog\/using-calico-to-create-a-kubernetes-cluster-mesh-for-multi-cluster-environments\/) å¯ä»¥åœ¨è¿™äº›é›†ç¾¤ä¹‹é—´å»ºç«‹æ— ç¼çš„è¿æ¥ï¼Œå¹¶å°†å·¥ä½œè´Ÿè½½é›†æˆåˆ°ç»Ÿä¸€çš„ç½‘ç»œç¯å¢ƒä¸­ã€‚\n\né›†ç¾¤ç½‘æ ¼æ˜¯è¿æ¥ç‹¬ç«‹ Kubernetes é›†ç¾¤å¹¶åœ¨ä¸åŒé›†ç¾¤ä¸­çš„èµ„æºä¹‹é—´æä¾›è¿æ¥æ€§çš„ç»ä½³æ–¹å¼ï¼Œä»¥æä¾›è¶…å‡ºå•ä¸ªé›†ç¾¤æƒ…å†µä¸‹å¯èƒ½çš„å®¹é”™æ€§å’Œé«˜å¯ç”¨æ€§ã€‚\n\nåœ¨æœ¬åšå®¢æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†å¼•å¯¼ä½ å®Œæˆæ„å»ºå¤šé›†ç¾¤ç¯å¢ƒå¹¶å»ºç«‹é›†ç¾¤ç½‘æ ¼æ‰€éœ€çš„æ­¥éª¤ï¼Œåˆ©ç”¨ Calico Open Source çš„å¤šåŠŸèƒ½èƒ½åŠ›ã€‚æˆ‘ä»¬å°†æ¢è®¨ä¸åŒçš„æ–¹æ³•ï¼Œå¦‚é¡¶çº§æœºæ¶ (TOR) å’Œ overlayï¼Œä»¥å»ºç«‹é›†ç¾¤ç½‘æ ¼ï¼Œè§£å†³ä¸åŒç¯å¢ƒæå‡ºçš„ç‹¬ç‰¹ç½‘ç»œæŒ‘æˆ˜ã€‚è¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸º Calico æä¾›äº†å»ºç«‹å¤šé›†ç¾¤ç¯å¢ƒçš„å¤šç§æ–¹æ³•ï¼Œçµæ´»é€‚åº”ä½ çš„ç½‘ç»œåŸºç¡€è®¾æ–½å’Œç‰¹å®šè¦æ±‚ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å°†ä»‹ç»å¦‚ä½•åŠ å…¥ DNS è¿é€šæ€§ä»¥å¢å¼ºé›†ç¾¤é—´é€šä¿¡ã€‚\n\néšç€ä½ çš„é›†ç¾¤ç½‘æ ¼ç¯å¢ƒæ‰©å±•ï¼Œæˆ‘ä»¬å°†è®¨è®ºæ¶‰åŠ[è”é‚¦](https:\/\/www.tigera.io\/learn\/guides\/kubernetes-security\/kubernetes-federation\/)å’Œä½¿ç”¨ Calico Enterprise è¿›è¡Œå¤šé›†ç¾¤ç®¡ç†çš„ä¸‹ä¸€æ­¥ï¼Œä»¥åŠæ¶‰åŠè”é‚¦é›†ç¾¤ã€‚æˆ‘ä»¬å°†å±•ç¤º Calico å¦‚ä½•æä¾›å¤šé›†ç¾¤ç®¡ç†å¹³é¢ï¼Œå…è®¸åœ¨é›†ç¾¤é—´æ— ç¼å®æ–½å®‰å…¨æ€§å’Œå¯è§‚æµ‹æ€§ã€‚\n\næœ€åï¼Œæˆ‘ä»¬å°†æ¶‰åŠåˆ° Calico Enterprise è”é‚¦èº«ä»½å¦‚ä½•åœ¨[å¤šé›†ç¾¤](https:\/\/www.tigera.io\/learn\/guides\/kubernetes-networking\/kubernetes-multi-cluster\/)ç¯å¢ƒä¸­å¼¥åˆå·®è·ï¼Œæä¾›ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼æ¥å®šåˆ¶ç½‘ç»œç­–ç•¥ï¼Œå¯ä»¥å¼•ç”¨æ¥è‡ªä¸åŒé›†ç¾¤çš„èµ„æºå¹¶æ„å»ºè·¨é›†ç¾¤è¾¹ç•Œè´Ÿè½½å¹³è¡¡è¯·æ±‚çš„æœåŠ¡ã€‚\n\n## ä»€ä¹ˆæ˜¯é›†ç¾¤ç½‘æ ¼ï¼Ÿ\n\né›†ç¾¤ç½‘æ ¼è¿æ¥äº†ä¸¤ä¸ªæˆ–å¤šä¸ªç‹¬ç«‹é›†ç¾¤å†…éƒ¨èµ„æºã€‚é€šå¸¸ï¼Œæ¯ä¸ª Kubernetes é›†ç¾¤å°†ä¸ºå†…éƒ¨èµ„æºåˆ†é…ç§æœ‰ IP åœ°å€ï¼Œé™¤éå°†**èŠ‚ç‚¹ç«¯å£**æˆ–**è´Ÿè½½å‡è¡¡å™¨**æœåŠ¡ä¸å®ƒä»¬å…³è”ï¼Œå¦åˆ™è¿™äº›èµ„æºå¯¹ä»»ä½•å¤–éƒ¨å®ä½“éƒ½ä¸å¯è§ã€‚ç„¶è€Œï¼Œå°†èµ„æºæš´éœ²ç»™æ‰€æœ‰äººå¯èƒ½ä¼šå¸¦æ¥å®‰å…¨é£é™©ï¼Œå¹¶ç ´åä½ åº”è¯¥ä¿æŒçš„[é›¶ä¿¡ä»»å®‰å…¨](https:\/\/www.tigera.io\/learn\/guides\/zero-trust\/zero-trust-security\/)å§¿æ€ï¼Œä»¥ä¿æŠ¤ä½ çš„ç¯å¢ƒã€‚æ­¤å¤–ï¼Œå®ƒå¯ä»¥é€šè¿‡å…è®¸æ¶æ„ç”¨æˆ·åˆ©ç”¨æ¼æ´å¹¶åœ¨å…³é”®æœåŠ¡ä¸­å æ®ç«‹è¶³ç‚¹æ¥å±åŠæ•´ä¸ªç¯å¢ƒã€‚\n\nåœ¨å¤šé›†ç¾¤ç¯å¢ƒä¸­å»ºç«‹é›†ç¾¤ç½‘æ ¼æä¾›äº†ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œç”¨äºä¿ƒè¿›é›†ç¾¤ä¹‹é—´çš„ç›´æ¥é€šä¿¡ã€‚è¿™ç§é€šä¿¡å¯ä»¥é€šè¿‡æŒ‡å®šçš„é›†ç¾¤æœåŠ¡æˆ–ç§æœ‰ IP åœ°å€è¿›è¡Œï¼Œç¡®ä¿å¼ºå¤§è€Œå—æ§åˆ¶çš„äº¤äº’ï¼ŒåŒæ—¶å‡è½»äº†å°†å†…éƒ¨èµ„æºæš´éœ²ç»™æ›´å¹¿æ³›ç½‘ç»œçš„é£é™©ã€‚\n\n### å¦‚ä½•æ„å»ºå¤šé›†ç¾¤ç¯å¢ƒå¹¶å»ºç«‹é›†ç¾¤ç½‘æ ¼\n\nä»¥ä¸‹å›¾ç‰‡è¯´æ˜äº† Calico å¦‚ä½•åœ¨ä½ çš„é›†ç¾¤ä¹‹é—´å»ºç«‹é›†ç¾¤ç½‘æ ¼è¿æ¥ã€‚\n\n![](1.png)\n\nCalico æä¾›äº†ä¸åŒçš„æ–¹å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹å¼æ¥æ„å»ºå¤šé›†ç¾¤ç¯å¢ƒï¼Œä»è€Œæä¾›äº†ä¸ä½ çš„ç½‘ç»œåŸºç¡€è®¾æ–½å’Œéœ€æ±‚ç›¸åŒ¹é…çš„çµæ´»æ€§ã€‚Calico æœ€å¥½çš„éƒ¨åˆ†æ˜¯ï¼Œåœ¨å°†ä¸¤ä¸ªé›†ç¾¤è¿æ¥åœ¨ä¸€èµ·åï¼Œå®ƒå°†è‡ªåŠ¨æä¾›é›†ç¾¤ç½‘æ ¼ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨å®ƒä»¬çš„å†…éƒ¨é›†ç¾¤æœåŠ¡å’Œ IP åœ°å€å¼€å§‹åœ¨ä¸åŒçš„é›†ç¾¤ä¸­ä½¿ç”¨èµ„æºã€‚\n\n### åœ¨æ‰å¹³ç½‘ç»œç¯å¢ƒä¸­çš„é›†ç¾¤ç½‘æ ¼\n\né›†ç¾¤ç½‘æ ¼çš„é…ç½®å¯ä»¥æ ¹æ®åº•å±‚åŸºç¡€è®¾æ–½çš„ä¸åŒè€Œå˜åŒ–ï¼Œä½†å…¶åŸºæœ¬ç›®çš„ä¿æŒä¸å˜ï¼Œå®è´¨ä¸Šæ˜¯ç”¨äºå»ºç«‹ç‹¬ç«‹é›†ç¾¤ä¹‹é—´çš„è¿æ¥ã€‚\n\nä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„é›†ç¾¤çš„å‚ä¸èŠ‚ç‚¹é€šè¿‡å¹¿æ’­åŸŸç›´æ¥è¿æ¥çš„ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ æ’­å†…éƒ¨è·¯ç”±åˆ°å¤–éƒ¨å®ä½“çš„è·¯ç”±åè®®æ¥å¿«é€Ÿå»ºç«‹ä¸€ä¸ªç½‘æ ¼ã€‚è¿™å°†å…è®¸æˆ‘ä»¬å¹¿å‘Šå†…éƒ¨è·¯ç”±ï¼Œè€Œæ— éœ€é€šè¿‡**èŠ‚ç‚¹ç«¯å£**æœåŠ¡å°†å®ƒä»¬æš´éœ²ç»™æˆ‘ä»¬çš„ç›®æ ‡æœåŠ¡ã€‚\n\nä»¥ä¸‹å›¾ç‰‡è¯´æ˜äº†æ‰å¹³ç½‘ç»œçš„å¸¸è§è®¾è®¡ï¼š\n\n![](2.png)\n\nè€ƒè™‘è§‚çœ‹æˆ‘ä»¬çš„è§†é¢‘ï¼Œ[ä½¿ç”¨ Calico å¼€æºè¿›è¡Œ Kubernetes çš„ BGP](https:\/\/www.youtube.com\/watch?v=PefluN8YM9o\u0026ab_channel=ProjectCalico)ï¼Œä»¥äº†è§£ä½¿ç”¨å…¨ç½‘æ ¼æ–¹æ³•éƒ¨ç½²é›†ç¾¤ç½‘æ ¼çš„å…¨é¢æ•™ç¨‹ã€‚\n\n### åœ¨ä¼ä¸šæˆ–äº‘ç½‘ç»œç¯å¢ƒä¸­çš„é›†ç¾¤ç½‘æ ¼\n\nåœ¨å¤æ‚çš„ç½‘ç»œç¯å¢ƒä¸­ï¼Œä¾‹å¦‚äº‘æˆ–ä¼ä¸šç½‘ç»œï¼Œå½¢æˆé›†ç¾¤çš„åŸºç¡€è®¾æ–½èµ„æºé€šå¸¸åˆ†ä¸ºå•ç‹¬çš„å¹¿æ’­åŸŸã€‚è¿™æ˜¯å› ä¸ºè¿™äº›åŸŸä¸­çš„æ¯ä¸ªå®ä½“éƒ½è¢«è¦æ±‚é€šè¿‡ç½‘å…³æ¥åˆ°è¾¾å…¶ç›®çš„åœ°ã€‚ä½†æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªé¢å¤–çš„è·³è·ƒï¼ˆç½‘å…³ï¼‰éœ€è¦äº†è§£æˆ‘ä»¬åœ¨ Kubernetes é›†ç¾¤ä¸­åˆ›å»ºçš„å†…éƒ¨é›†ç¾¤èµ„æºã€‚å› æ­¤ï¼Œç½‘å…³ä¼šä¸¢å¼ƒå‰å¾€è¿™äº›å†…éƒ¨èµ„æºçš„æ•°æ®åŒ…ï¼Œä½¿ç®€å•çš„è·¯ç”±æ–¹æ³•æ— æ³•æ»¡è¶³è¦æ±‚ã€‚\n\nä»¥ä¸‹å›¾ç‰‡è¯´æ˜äº†å¤æ‚ç½‘ç»œç¯å¢ƒçš„å¸¸è§è®¾è®¡ï¼š\n\n![](3.png)\n\næ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†é—®é¢˜ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åˆ©ç”¨ Calico æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\n\nä¸ºäº†åœ¨è¿™æ ·çš„ç¯å¢ƒä¸­å»ºç«‹é›†ç¾¤ç½‘æ ¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹æ³•ï¼š\n\n- é¡¶å±‚æœºæ¶ï¼ˆTORï¼‰\n- overlay\n\n#### TOR æ–¹æ³•ï¼ˆæ¨èï¼‰\n\nåœ¨ä¼ä¸šæˆ–äº‘ç¯å¢ƒä¸­ï¼Œèµ„æºé€šå¸¸é€šè¿‡ä¸­é—´ç½‘å…³äº’è¿ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬å»ºè®®æˆ‘ä»¬çš„å®¢æˆ·ä½¿ç”¨ TORï¼Œå› ä¸ºé€šè¿‡ä¸äº‘æä¾›å•†è‡ªåŠ¨å»ºç«‹è·¯ç”±ä¼ æ’­æœºåˆ¶æ¥ä½¿ä½ çš„é›†ç¾¤äº†è§£ä½ ç›‘ç®¡ä¸‹çš„æ‰€æœ‰äº‘èµ„æºï¼Œä»è€Œä½¿ä½ çš„é›†ç¾¤å…·å¤‡é«˜å¯ç”¨æ€§ã€‚è¿™ä¹Ÿåœ¨äº‘æä¾›å•†çš„åº•å±‚ç½‘ç»œåŸºç¡€è®¾æ–½ä¸Šå‘æŒ¥äº†ä½œç”¨ï¼Œä»è€Œä½¿ä½ çš„é›†ç¾¤åœ¨ç½‘ç»œåŸºç¡€è®¾æ–½çš„æ”¯æŒä¸‹å…·å¤‡é«˜å¯ç”¨æ€§ã€‚\n\nå‡è®¾ä½ å¯ä»¥é…ç½®äº‘ç½‘å…³å¹¶å°†å…¶ä¸åƒ Calico è¿™æ ·çš„å¼ºå¤§çš„[å®¹å™¨ç½‘ç»œæ¥å£ï¼ˆCNIï¼‰](https:\/\/www.tigera.io\/learn\/guides\/kubernetes-networking\/kubernetes-cni\/)é…å¯¹ï¼Œé‚£ä¹ˆä½ å¯ä»¥åˆ©ç”¨ BGP è·¯ç”±æ¥å»ºç«‹é›†ç¾¤ç½‘æ ¼ã€‚Calico BGP é›†æˆæä¾›äº†åŠ¨æ€è·¯ç”±ï¼Œå…è®¸ä½ å°†å†…éƒ¨ Pod å’Œé›†ç¾¤ IP è·¯ç”±ä¼ æ’­åˆ°ç½‘ç»œåŸºç¡€è®¾æ–½ä¸­çš„å…¶ä»–èµ„æºã€‚\n\nä»¥ä¸‹å›¾ç‰‡è¯´æ˜äº†æ”¯æŒ BGP çš„äº‘ç¯å¢ƒçš„å¸¸è§è®¾è®¡ï¼š\n\n![](4.png)\n\nåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼ŒTORï¼ˆé¡¶å±‚æœºæ¶ï¼‰æé«˜äº†é«˜å¯ç”¨æ€§å’Œå®¹é”™æ€§ã€‚è¿™ç§æ–¹æ³•ä¼˜åŒ–äº†ç½‘ç»œæµé‡åˆ†å¸ƒï¼Œå‡è½»äº†å•ç‚¹æ•…éšœï¼Œå¹¶è¿›ä¸€æ­¥å¢å¼ºäº†ä½ çš„åŸºç¡€è®¾æ–½çš„å¯é æ€§å’Œå¼¹æ€§ã€‚\n\næ³¨æ„ï¼šè¦äº†è§£ä½¿ç”¨ TOR æ–¹æ³•éƒ¨ç½²é›†ç¾¤ç½‘æ ¼çš„è¯¦ç»†æŒ‡å—ï¼Œè¯·æŸ¥çœ‹[æ­¤å¤„](https:\/\/docs.tigera.io\/calico\/latest\/networking\/configuring\/bgp#top-of-rack-tor)çš„æ•™ç¨‹ã€‚\n\n#### IPIP overlay\n\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æ— æ³•è®¿é—®ç½‘å…³ä»¥ä¿®æ”¹å…¶è®¾ç½®ï¼Œæˆ–è€…å®ƒå¯èƒ½ä¸æ”¯æŒ BGP å¯¹ç­‰è¿æ¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ IPIP overlay æ¥å°è£…æµå‘ç›®æ ‡é›†ç¾¤çš„æµé‡ã€‚overlay ç½‘ç»œå…è®¸ç½‘ç»œè®¾å¤‡åœ¨åº•å±‚ç½‘ç»œï¼ˆç§°ä¸ºåº•å±‚ï¼‰ä¸Šç›¸äº’é€šä¿¡ï¼Œè€Œåº•å±‚ç½‘ç»œä¸éœ€è¦äº†è§£è¿æ¥åˆ° overlay ç½‘ç»œçš„è®¾å¤‡ã€‚\n\næ³¨æ„ï¼šå¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº overlay ç½‘ç»œçš„ä¿¡æ¯ï¼Œè¯·å•å‡»[æ­¤å¤„](https:\/\/docs.tigera.io\/calico\/latest\/about\/kubernetes-training\/about-networking#overlay-networks)ã€‚\n\n#### VXLAN overlay (Calico Enterprise)\n\nå³å°†å‘å¸ƒçš„ Calico Enterpriseï¼ˆ3.18\u002bï¼‰ç‰ˆæœ¬å°†åœ¨å¤šé›†ç¾¤ç¯å¢ƒä¸‹å¯ç”¨ VXLAN ç½‘ç»œã€‚è¿™ç§æ–¹æ³•çš„ä¸€ä¸ªæ˜¾è‘—ä¼˜åŠ¿ä¹‹ä¸€æ˜¯èƒ½å¤Ÿä½¿ç”¨èº«ä»½æ„ŸçŸ¥ç­–ç•¥æ¥ä¿æŠ¤è·¨é›†ç¾¤çš„æµé‡ï¼ˆä½ å°†åœ¨æ¥ä¸‹æ¥çš„è”é‚¦éƒ¨åˆ†äº†è§£æœ‰å…³æ­¤åŠŸèƒ½çš„ä¿¡æ¯ï¼‰ã€‚é€šè¿‡å…¶å¤šé›†ç¾¤ç½‘ç»œåŠŸèƒ½ï¼ŒCalico Enterprise è‡ªåŠ¨æ‰©å±• overlay ç½‘ç»œï¼Œä»¥åœ¨é›†ç¾¤ä¹‹é—´å»ºç«‹ Pod IP è·¯ç”±ã€‚\n\nåœ¨ä½¿ç”¨ VXLAN çš„ Calico Enterprise é›†ç¾¤ç½‘æ ¼è®¾ç½®ä¸­ï¼Œæ¯ä¸ªé›†ç¾¤éƒ½å……å½“æœ¬åœ°é›†ç¾¤å’Œè¿œç¨‹é›†ç¾¤ï¼Œæœ¬åœ°é›†ç¾¤é…ç½®ä¸ºä»è¿œç¨‹é›†ç¾¤çš„åŠ å¯†é€šé“ä¸­æ£€ç´¢ç«¯ç‚¹å’Œè·¯ç”±æ•°æ®ã€‚VXLAN é›†ç¾¤ç½‘æ ¼æä¾›äº†ä¸€ç§å®‰å…¨ã€å¯æ‰©å±•å’Œé«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œç”¨äºç®¡ç†å¤šé›†ç¾¤ç½‘ç»œï¼Œå®ç°äº†è·¨é›†ç¾¤çš„æ— ç¼é€šä¿¡å’Œèº«ä»½æ„ŸçŸ¥ç­–ç•¥å¼ºåˆ¶æ‰§è¡Œã€‚\n\næ³¨æ„ï¼šå¦‚æœä½ æƒ³äº†è§£æœ‰å…³ VXLAN overlay çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å•å‡»[æ­¤å¤„](https:\/\/www.tigera.io\/news\/tigera-introduces-powerful-enhancements-to-calico-open-source-and-calico-cloud-to-elevate-security-scalability-and-performance\/)ã€‚\n\nä»¥ä¸‹å›¾ç‰‡è¯´æ˜äº†æ²¡æœ‰ BGP èƒ½åŠ›çš„äº‘ç¯å¢ƒçš„å¸¸è§è®¾è®¡ï¼š\n\n![](5.png)\n\næ³¨æ„ï¼šè¦äº†è§£ä½¿ç”¨ TOR æ–¹æ³•éƒ¨ç½²é›†ç¾¤ç½‘æ ¼çš„å…¨é¢æŒ‡å—ï¼Œè¯·æŸ¥çœ‹[æ­¤æ•™ç¨‹](https:\/\/youtu.be\/rv-DnExi6SM?t=2287)ã€‚\n\n### DNS è¿æ¥\n\nåœ¨å»ºç«‹å¤šé›†ç¾¤ä¹‹åï¼Œå„ä¸ªé›†ç¾¤å¯ä»¥åœ¨ IP çº§åˆ«è¿›è¡Œé€šä¿¡ã€‚ç„¶è€Œï¼Œæ ¹æ®ä½ çš„ç½‘ç»œè§„æ¨¡ä»¥åŠ Kubernetes IP åœ°å€çš„æ€§è´¨ï¼Œè¿™äº›åœ°å€å¯ä»¥éšæ—¶åŠ¨æ€æ›´æ”¹ï¼Œå› æ­¤ä½ éœ€è¦å®ç°ä¸€ç§æ›´å®¹æ˜“å»ºç«‹è¿™äº›é›†ç¾¤ä¹‹é—´è¿æ¥çš„æ–¹å¼ã€‚åŸŸåè§£æå¯ä»¥æˆä¸ºä½ çš„é›†ç¾¤ç½‘æ ¼çš„é‡è¦è¡¥å……ï¼Œå…è®¸æ›´å®¹æ˜“è¿›è¡Œé›†ç¾¤é—´é€šä¿¡ã€‚\n\nåœ¨å¤§å¤šæ•° Kubernetes éƒ¨ç½²ä¸­ï¼ŒCoreDNS ä½œä¸ºè´Ÿè´£è§£æé›†ç¾¤åŸŸåçš„ä¸»è¦å·¥ä½œè´Ÿè½½ã€‚è¦å°† DNS ä¸é›†ç¾¤ç½‘æ ¼æ— ç¼é›†æˆï¼Œåªéœ€å¯¹ CoreDNS é…ç½®æ˜ å°„è¿›è¡Œç®€å•çš„ä¿®æ”¹å³å¯ã€‚å…·ä½“æ¥è¯´ï¼Œä½ éœ€è¦å°†å…¶ä»–é›†ç¾¤çš„ CoreDNS å†…éƒ¨æœåŠ¡ IP æ·»åŠ ä¸ºè½¬å‘å™¨åˆ°ä½ çš„é…ç½®ä¸­ã€‚\n\nè¿™ä¸ªç®€å•çš„è°ƒæ•´ä½¿ä½ çš„é›†ç¾¤èƒ½å¤Ÿé€šè¿‡å‘å…¶ä»–é›†ç¾¤å‘é€æŸ¥è¯¢æ¥è§£æåç§°ï¼Œå¹¶æ£€ç´¢æ‰€éœ€èµ„æºçš„ç›¸åº” IP åœ°å€ã€‚è¿™ç§é›†æˆå¤§å¤§ç®€åŒ–äº†é›†ç¾¤ç½‘æ ¼å†…çš„é€šä¿¡ï¼Œå¢å¼ºäº†æ•´ä½“è¿é€šæ€§ï¼Œå¹¶æé«˜äº†ç®¡ç†æ•ˆç‡ã€‚\n\næ³¨æ„ï¼šè€ƒè™‘è§‚çœ‹[æ­¤è§†é¢‘](https:\/\/youtu.be\/rv-DnExi6SM?t=2574)ä»¥äº†è§£æœ‰å…³ DNS è¿æ¥çš„å…¨é¢æ•™ç¨‹ã€‚\n\n## è”é‚¦å’Œå¤šé›†ç¾¤ç®¡ç†ï¼ˆä¸‹ä¸€æ­¥ï¼‰\n\néšç€ä½ çš„ç¯å¢ƒæ‰©å±•ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°å¤šä¸ªå›¢é˜Ÿå¿…é¡»åŒæ—¶åœ¨æ‰€æœ‰é›†ç¾¤ä¸Šå·¥ä½œçš„æƒ…å†µã€‚å¤šé›†ç¾¤ç®¡ç†ï¼ˆMCMï¼‰é€šå¸¸è§£å†³çš„ä¸€ä¸ªå¸¸è§é—®é¢˜æ˜¯ä»¥é›†ä¸­çš„æ–¹å¼å¤„ç†æ¥è‡ªä¸åŒé›†ç¾¤çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬ç½‘ç»œç­–ç•¥ã€Podã€[åˆè§„æ€§](https:\/\/www.tigera.io\/learn\/guides\/kubernetes-security\/kubernetes-compliance\/)æŠ¥å‘Šã€å¯è§‚æµ‹æ€§å’Œå®‰å…¨æ—¥å¿—ã€‚\n\nè™½ç„¶ä»æŠ€æœ¯ä¸Šè®²ï¼Œå¯ä»¥é€šè¿‡ kubectl ä¸ºæ¯ä¸ªé›†ç¾¤æ‰‹åŠ¨åˆ›å»ºç­–ç•¥ã€ç½‘ç»œé›†å’Œå…¶ä»–èµ„æºï¼Œä½†è¿™ç§æ–¹æ³•ä¼šåœ¨ä½ çš„æ—¥å¸¸ç»´æŠ¤ä»»åŠ¡ä¸­å¼•å…¥ç›¸å½“å¤æ‚æ€§ï¼Œå¹¶å¯èƒ½ä¸ºæ„å¤–çš„å‡­æ®æ³„æ¼å¼€è¾Ÿä¸€æ¡é€”å¾„ã€‚æ­¤å¤–ï¼Œä¸æˆ‘ä»¬åœ¨å‰ä¸€èŠ‚ä¸­æ¢è®¨çš„ç±»ä¼¼ï¼Œå®ƒåæ˜ äº†æ²¡æœ‰è‰¯å¥½ç»“æ„çš„å¤šé›†ç¾¤ç¯å¢ƒæ‰€é¢ä¸´çš„æŒ‘æˆ˜ï¼Œç‰¹åˆ«æ˜¯åœ¨é›†ç¾¤ç®¡ç†ã€ç½‘ç»œã€æ•…éšœæ’é™¤å’Œå¯è§‚æµ‹æ€§æ–¹é¢ã€‚\n\n### ä½¿ç”¨ Calico Enterprise è¿›è¡Œå¤šé›†ç¾¤ç®¡ç†\n\nCalico Enterprise æä¾›äº†ä¸€ä¸ª MCM å¹³é¢ï¼Œé€šè¿‡åœ¨è¿™äº›é›†ç¾¤ä¹‹é—´å»ºç«‹å®‰å…¨è¿æ¥ï¼Œå®ç°äº†å¤šé›†ç¾¤çš„å®‰å…¨å’Œå¯è§‚æµ‹æ€§ã€‚è¯¥æ¶æ„è¿˜æ”¯æŒè·¨é›†ç¾¤è”é‚¦[ç½‘ç»œç­–ç•¥](https:\/\/www.tigera.io\/learn\/guides\/kubernetes-security\/kubernetes-network-policy\/)èµ„æºï¼Œå¹¶ä¸ºçœŸæ­£çš„é›†ä¸­å¼ç®¡ç†ã€å¯è§‚æµ‹æ€§å’Œé›†ç¾¤ç»´æŠ¤å¥ å®šäº†åŸºç¡€ã€‚\n\nä»¥ä¸‹å›¾åƒæ˜¯åˆ—å‡ºæ‰€æœ‰å·²è¿æ¥é›†ç¾¤çš„ MCM é¡µé¢çš„ç¤ºä¾‹ã€‚\n\n![](6.png)\n\nMCM çš„å®‰å…¨åŠŸèƒ½ä¸ä»…é™äºé›†ç¾¤çš„ç½‘ç»œæ–¹é¢ã€‚ç”±äº MCM å®Œå…¨é›†æˆäº† Kubernetes åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰ï¼Œä½ å¯ä»¥åˆ¶å®šæˆæƒï¼Œå…è®¸ç”¨æˆ·ä»…æŸ¥çœ‹ä»–ä»¬éœ€è¦æŸ¥çœ‹çš„ä¿¡æ¯ã€‚\n\næ³¨æ„ï¼šä½¿ç”¨[è¿™ä¸ª](https:\/\/www.tigera.io\/tutorials\/?_sft_tutorial_product=calico-enterprise)å®é™…æ“ä½œçš„å·¥ä½œåŠæ¥äº†è§£æ›´å¤šå…³äºå¤šé›†ç¾¤ç®¡ç†çš„ä¿¡æ¯ã€‚\n\n### åˆ©ç”¨ Calico Enterprise çš„è”é‚¦èº«ä»½å’Œç»Ÿä¸€ç­–ç•¥æ‰§è¡Œ\n\nCalico Enterprise è”é‚¦å°†å·¥ä½œè´Ÿè½½å’ŒæœåŠ¡ç«¯ç‚¹ä¸åœ¨é›†ç¾¤ä¹‹é—´å…±äº«çš„å”¯ä¸€èº«ä»½å…³è”èµ·æ¥ã€‚\n\nè”é‚¦èº«ä»½å¯ä»¥ä¸ç½‘ç»œå®‰å…¨ç­–ç•¥å…³è”ï¼Œä»¥åˆ›å»ºå¼•ç”¨ä½äºä¸åŒé›†ç¾¤ä¸­çš„ç«¯ç‚¹çš„å”¯ä¸€èµ„æºï¼Œä»è€Œå®ç°å¯¹é›†ç¾¤é—´å®‰å…¨çš„æ— ç¼æ§åˆ¶ã€‚\n\næ­¤å¤–ï¼Œé€šè¿‡è”é‚¦æœåŠ¡ï¼Œä½ å¯ä»¥å‘ç°å¹¶ä¸ä½äºä¸åŒé›†ç¾¤ä¸­çš„è¿œç¨‹ Pod äº’åŠ¨ã€‚è¿™ä¸¤ä¸ªå…³é”®åŠŸèƒ½ä½¿å¾—å¯ä»¥åˆ›å»ºç²¾ç¡®ã€ç»†ç²’åº¦çš„å®‰å…¨æ§åˆ¶ï¼ŒåŠ å¼ºäº†è·¨å¤šä¸ªé›†ç¾¤çš„æ•´ä½“å®‰å…¨å§¿æ€ã€‚\n\n![](7.png)\n\né€šè¿‡å®æ–½è”é‚¦å±‚å’Œç­–ç•¥ï¼Œä½ å¯ä»¥çµæ´»åœ°å®šä¹‰ç½‘ç»œå®‰å…¨ç­–ç•¥ï¼Œè¿™äº›ç­–ç•¥å¯ä»¥æ™®éé€‚ç”¨äºæ‰€æœ‰é›†ç¾¤ï¼Œä¹Ÿå¯ä»¥ä¸“é—¨é’ˆå¯¹ä¸€ç»„å®šä¹‰çš„é›†ç¾¤ã€‚è¿™ç§æ–¹æ³•æä¾›äº†ä¸€ç§æœ‰æ•ˆçš„æ‰‹æ®µï¼Œä»¥åœ¨æ‰©å±•éƒ¨ç½²ä»¥åŒ…æ‹¬å¤šä¸ªé›†ç¾¤çš„åŒæ—¶æ‰©å±•å®‰å…¨æªæ–½ã€‚é€šè¿‡å°†è¿™äº›å®‰å…¨æ§åˆ¶æ‰©å±•åˆ°ç°æœ‰å’Œæ–°çš„é›†ç¾¤ï¼Œä½ æœ‰æ•ˆåœ°å‡å°‘äº†ç­–ç•¥çš„é‡å¤å’Œç®€åŒ–äº†ä»åˆ›å»ºåˆ°ç»´æŠ¤çš„æ•´ä¸ªè¿‡ç¨‹ã€‚\n\n## ç»“è®º\n\næ€»ç»“ä¸€ä¸‹ï¼Œé›†ç¾¤ç½‘æ ¼è¿æ¥ä¸åŒ Kubernetes é›†ç¾¤ä¸­çš„å†…éƒ¨èµ„æºã€‚Calico çš„çµæ´»é›†ç¾¤ç½‘æ ¼è®¾ç½®ä¸ºåœ¨ä»»ä½•ç¯å¢ƒä¸­è¿æ¥åˆ°å¤šä¸ªé›†ç¾¤æä¾›äº†æ„å»ºå—ã€‚\n\nCalico Enterprise MCMã€è”é‚¦å’Œè”é‚¦ç­–ç•¥å¼ºåˆ¶æ‰§è¡Œæˆä¸ºå¤šé›†ç¾¤æ¶æ„çš„ç¼ºå¤±ç¯èŠ‚ï¼Œå…è®¸æ— ç¼é€šä¿¡ï¼ŒåŒæ—¶ä¼˜å…ˆè€ƒè™‘å®‰å…¨æ€§ã€‚Calico åœ¨è¿™ä¸ªé¢†åŸŸçš„èƒ½åŠ›ä½¿ä½ èƒ½å¤Ÿæ— ç¼æä¾›å¤šé›†ç¾¤ç®¡ç†ã€å¯è§‚æµ‹æ€§ã€è”é‚¦æœåŠ¡å’Œèº«ä»½ï¼Œä»è€Œä½¿ä½ çš„ç»„ç»‡èƒ½å¤Ÿè‡ªä¿¡è€Œé«˜æ•ˆåœ°åº”å¯¹ç°ä»£ç½‘ç»œçš„å¤æ‚æ€§ã€‚éšç€ç»„ç»‡çš„ç»§ç»­æ‰©å±•å’Œæ‰©å¤§è§„æ¨¡ï¼Œæ•´åˆè¿™äº›ç­–ç•¥å°†åœ¨å¡‘é€ å¤šé›†ç¾¤ç¯å¢ƒçš„æœªæ¥ä¸­å‘æŒ¥å…³é”®ä½œç”¨ã€‚\n', '\/trans\/what-is-a-kubernetes-cluster-mesh-and-what-are-the-benefits\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†é›†ç¾¤ç½‘æ ¼çš„æ¦‚å¿µå’Œä¼˜åŠ¿ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ Calico Open Source çš„å¤šç§æ–¹æ³•ï¼Œå®ç°è·¨é›†ç¾¤çš„æœåŠ¡é—´é€šä¿¡å’Œè´Ÿè½½å‡è¡¡ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/trans/cilium-gateway-api/">[è¯‘] ä½¿ç”¨ Cilium å®ç° Gateway API æŒ‡å—</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2024/01/04</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%85%b6%e4%bb%96"> 
             å…¶ä»–
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fas fa-language"></i>
              <a href="https://blog.ogenki.io/post/cilium-gateway-api/" target="_blank" rel="noopener">åŸæ–‡</a>
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('ä½¿ç”¨ Cilium å®ç° Gateway API æŒ‡å—', 'è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Cilium éƒ¨ç½²å’Œé…ç½® Gateway APIï¼Œä¸€ä¸ªæ–°çš„æœåŠ¡ç½‘æ ¼ APIï¼Œç”¨äºç®¡ç† Kubernetes ä¸­çš„æœåŠ¡é—´é€šä¿¡ã€‚æ–‡ç« è¯¦ç»†è¯´æ˜äº† Gateway API çš„æ¦‚å¿µå’Œç»„ä»¶ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ Cilium çš„ç‰¹æ€§å’Œå·¥å…·ï¼Œå®ç°é«˜æ•ˆå’Œçµæ´»çš„è·¯ç”±ç­–ç•¥ã€‚', '\nåœ¨ Kubernetes ä¸Šéƒ¨ç½²åº”ç”¨ç¨‹åºåï¼Œé€šå¸¸çš„ä¸‹ä¸€æ­¥æ˜¯è®©ç”¨æˆ·å¯ä»¥è®¿é—®å®ƒã€‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨[**Ingress æ§åˆ¶å™¨**](https:\/\/kubernetes.io\/docs\/concepts\/services-networking\/ingress-controllers\/)ï¼Œä¾‹å¦‚ Nginxã€Haproxyã€Traefik æˆ–æ¥è‡ªäº‘æä¾›å•†çš„æ§åˆ¶å™¨ï¼Œæ¥å¼•å¯¼ä¼ å…¥çš„æµé‡åˆ°åº”ç”¨ç¨‹åºï¼Œç®¡ç†è´Ÿè½½å¹³è¡¡ã€TLS ç»ˆæ­¢ç­‰ç­‰ã€‚\n\nç„¶åï¼Œæˆ‘ä»¬å¿…é¡»ä»ä¼—å¤š[å¯ç”¨çš„é€‰é¡¹](https:\/\/kubernetes.io\/docs\/concepts\/services-networking\/ingress-controllers\/) ä¸­è¿›è¡Œé€‰æ‹©ã€‚Cilium æ˜¯å…¶ä¸­ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„é€‰é¡¹ï¼Œæ—¨åœ¨å¤„ç†æ‰€æœ‰è¿™äº›ç½‘ç»œæ–¹é¢çš„é—®é¢˜ã€‚\n\n[**Cilium**](https:\/\/cilium.io\/) æ˜¯ä¸€ä¸ªåŸºäº eBPF çš„å¼€æºç½‘ç»œå’Œå®‰å…¨è§£å†³æ–¹æ¡ˆï¼Œå…¶é‡‡ç”¨é€Ÿåº¦å¢é•¿è¿…çŒ›ã€‚å®ƒå¯èƒ½æ˜¯æä¾›æœ€å¤šåŠŸèƒ½çš„ç½‘ç»œæ’ä»¶ä¹‹ä¸€ã€‚æˆ‘ä»¬ä¸ä¼šæ¶µç›–æ‰€æœ‰åŠŸèƒ½ï¼Œä½†å…¶ä¸­ä¸€ä¸ªåŠŸèƒ½æ¶‰åŠä½¿ç”¨[**Gateway API**](https:\/\/gateway-api.sigs.k8s.io\/) (\u0060GAPI\u0060) ç®¡ç†ä¼ å…¥æµé‡ã€‚\n\n## æˆ‘ä»¬çš„ç›®æ ‡\n\n- å‡†ç¡®äº†è§£ **Gateway API** æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒå¦‚ä½•ä»£è¡¨ä» \u0060Ingress\u0060 API è¿›åŒ–è€Œæ¥ã€‚\n- æ¼”ç¤ºä»¥ GitOps æ–¹å¼éƒ¨ç½²çš„çœŸå®åœºæ™¯ã€‚\n- å½“å‰çš„é™åˆ¶å’Œå³å°†æ¨å‡ºçš„æ–°åŠŸèƒ½ã€‚\n\n{{\u003ccallout note æç¤º\u003e}}\n\næœ¬æ–‡ä¸­æ‰§è¡Œçš„æ‰€æœ‰æ­¥éª¤éƒ½æ¥è‡ªè¿™ä¸ª[**git å­˜å‚¨åº“**](https:\/\/github.com\/Smana\/cilium-gateway-api)ã€‚\n\næˆ‘é¼“åŠ±ä½ æ¢ç´¢å®ƒï¼Œå› ä¸ºå®ƒè¿œè¿œè¶…å‡ºäº†æœ¬æ–‡çš„èŒƒå›´ï¼š\n\n- ä½¿ç”¨å¯ç”¨äº† kube-proxy æ›¿ä»£å¹¶å…·æœ‰ä¸“ç”¨ Daemonset ç”¨äº \u0060Envoy\u0060 çš„ \u0060Cilium\u0060 é…ç½®çš„ **EKS** é›†ç¾¤çš„å®‰è£…ã€‚\n- æå‡ºäº†å…·æœ‰ä¾èµ–å…³ç³»ç®¡ç†å’Œæˆ‘è®¤ä¸ºéå¸¸é«˜æ•ˆçš„ DRY ä»£ç çš„ \u0060Flux\u0060 ç»“æ„ã€‚\n- ç®€åŒ–äº†ç”¨äºå¹³å°ç»„ä»¶çš„ IAM æƒé™ç®¡ç†çš„ \u0060Crossplane\u0060 å’Œ [IRSA](https:\/\/docs.aws.amazon.com\/eks\/latest\/userguide\/iam-roles-for-service-accounts.html) ç»„åˆã€‚\n- ä½¿ç”¨ \u0060External-DNS\u0060 å’Œ \u0060Let\u0027s Encrypt\u0060 è‡ªåŠ¨ç®¡ç†åŸŸåå’Œè¯ä¹¦ã€‚\n\nè¿™ä¸ªæƒ³æ³•æ˜¯åªéœ€å‡ åˆ†é’Ÿå†…è®¾ç½®å¥½ä¸€åˆ‡ï¼Œåªéœ€ä¸€ä¸ªå‘½ä»¤è¡Œã€‚\n\n{{\u003c\/callout\u003e}}\n\n## ä»‹ç» Gateway API\n\næ­£å¦‚å‰é¢æåˆ°çš„ï¼Œæœ‰è®¸å¤š**Ingress æ§åˆ¶å™¨**é€‰é¡¹ï¼Œæ¯ä¸ªéƒ½æœ‰å…¶ç‰¹å®šæ€§å’Œç‰¹æ®ŠåŠŸèƒ½ï¼Œæœ‰æ—¶ä¼šä½¿å®ƒä»¬çš„ä½¿ç”¨å˜å¾—å¤æ‚ã€‚æ­¤å¤–ï¼ŒKubernetes ä¸­ä¼ ç»Ÿçš„ \u0060Ingress\u0060 API å…·æœ‰éå¸¸æœ‰é™çš„å‚æ•°ã€‚ä¸€äº›è§£å†³æ–¹æ¡ˆç”šè‡³åˆ›å»ºäº†è‡ªå·±çš„[CRDs](https:\/\/kubernetes.io\/docs\/concepts\/extend-kubernetes\/api-extension\/custom-resources\/)ï¼ˆKubernetes è‡ªå®šä¹‰èµ„æºï¼‰ï¼Œè€Œå…¶ä»–è§£å†³æ–¹æ¡ˆåˆ™ä½¿ç”¨ \u0060annotations\u0060 æ¥å…‹æœè¿™äº›é™åˆ¶ã€‚\n\nè¿™å°±æ˜¯**Gateway API**çš„ç”¨æ­¦ä¹‹åœ°ï¼å®é™…ä¸Šï¼Œè¿™æ˜¯ä¸€ç§**æ ‡å‡†**ï¼Œå…è®¸å£°æ˜é«˜çº§ç½‘ç»œåŠŸèƒ½ï¼Œè€Œæ— éœ€å¯¹åº•å±‚æ§åˆ¶å™¨è¿›è¡Œç‰¹å®šæ‰©å±•ã€‚è€Œä¸”ï¼Œç”±äºæ‰€æœ‰æ§åˆ¶å™¨éƒ½ä½¿ç”¨ç›¸åŒçš„ APIï¼Œå› æ­¤å¯ä»¥åœ¨ä¸æ”¹å˜é…ç½®çš„æƒ…å†µä¸‹ä»ä¸€ä¸ªè§£å†³æ–¹æ¡ˆåˆ‡æ¢åˆ°å¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼ˆKubernetes æ¸…å•æè¿°äº†å¦‚ä½•è·¯ç”±ä¼ å…¥æµé‡ï¼‰ã€‚\n\nåœ¨æˆ‘ä»¬å°†è¦æ¢è®¨çš„æ¦‚å¿µä¸­ï¼ŒGAPI å¼•å…¥äº†ä¸€ä¸ªç²¾ç»†çš„æˆæƒæ¨¡å‹ï¼Œå®šä¹‰äº†å…·æœ‰ä¸åŒæƒé™çš„**æ˜¾å¼è§’è‰²**ï¼ˆæœ‰å…³ GAPI å®‰å…¨æ¨¡å‹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…[è¿™é‡Œ](https:\/\/gateway-api.sigs.k8s.io\/concepts\/security-model\/#roles-and-personas)ï¼‰ã€‚\n\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥é¡¹ç›®ç”±[sig-network-kubernetes](https:\/\/github.com\/kubernetes\/community\/tree\/master\/sig-network)å·¥ä½œç»„æ¨åŠ¨ï¼Œè¿˜æœ‰ä¸€ä¸ª Slack [é¢‘é“](https:\/\/kubernetes.slack.com\/archives\/CR0H13KGA)ï¼Œä½ å¯ä»¥åœ¨éœ€è¦æ—¶è”ç³»ä»–ä»¬ã€‚\n\nè®©æˆ‘ä»¬çœ‹çœ‹åœ¨å®è·µä¸­å¦‚ä½•ä½¿ç”¨ GAPI ä¸ Ciliumï¼\n\n## å…ˆå†³æ¡ä»¶\n\nåœ¨æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†ï¼Œæˆ‘ä»¬å‡è®¾å·²éƒ¨ç½²äº†ä¸€ä¸ª EKS é›†ç¾¤ã€‚å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨[æ¼”ç¤ºå­˜å‚¨åº“ä¸­å»ºè®®çš„æ–¹æ³•](https:\/\/github.com\/Smana\/cilium-gateway-api\/tree\/main\/terraform\/eks)ä½œä¸ºæœ¬æ–‡çš„åŸºç¡€ï¼Œé‚£ä¹ˆæœ‰ä¸€äº›**è¦æ£€æŸ¥çš„è¦ç‚¹**ï¼Œä»¥ä¾¿ä½¿ç”¨ GAPIã€‚\n\næ­¤å¤„æè¿°çš„å®‰è£…æ–¹æ³•åŸºäº \u0060Helm\u0060ï¼Œæ‰€æœ‰çš„ \u0060values\u0060 å¯ä»¥åœ¨[è¿™é‡Œ](https:\/\/github.com\/Smana\/cilium-gateway-api\/blob\/main\/terraform\/eks\/helm_values\/cilium.yaml)æŸ¥çœ‹ã€‚\n\n- åœ¨[Gateway API](https:\/\/github.com\/kubernetes-sigs\/gateway-api\/tree\/main\/config\/crd)å­˜å‚¨åº“ä¸­**å®‰è£…**å¯ç”¨çš„ \u0060CRDs\u0060ã€‚\n\n  {{\u003ccallout note æ³¨æ„\u003e}}\n\n  å¦‚æœ Cilium è®¾ç½®ä¸ºæ”¯æŒ \u0060GAPI\u0060ï¼ˆè§ä¸‹æ–‡ï¼‰ï¼Œå¹¶ä¸”ç¼ºå°‘ CRDsï¼Œåˆ™å®ƒå°†æ— æ³•å¯åŠ¨ã€‚åœ¨[æ¼”ç¤ºå­˜å‚¨åº“](https:\/\/github.com\/Smana\/cilium-gateway-api)ä¸­ï¼Œ**GAPI CRDs**åœ¨é›†ç¾¤åˆ›å»ºæœŸé—´å®‰è£…ä¸€æ¬¡ï¼Œä»¥ä¾¿ Cilium å¯ä»¥å¯åŠ¨ï¼Œç„¶åç”± Flux ç®¡ç†ã€‚\n\n  {{\u003c\/callout\u003e}}\n\n- ä½¿ç”¨ Cilium å’Œ \u0060eBPF\u0060 çš„ç½‘ç»œè½¬å‘åŠŸèƒ½**æ›¿æ¢** \u0060kube-proxy\u0060ã€‚\n\n  \u0060\u0060\u0060yaml\n  kubeProxyReplacement: true\n  \u0060\u0060\u0060\n\n- **å¯ç”¨** Gateway API æ”¯æŒã€‚\n\n  \u0060\u0060\u0060yaml\n  gatewayAPI:\n    enabled: true\n  \u0060\u0060\u0060\n\n- **æ£€æŸ¥**å®‰è£…ã€‚ä¸ºæ­¤ï¼Œä½ éœ€è¦å®‰è£…åä¸º \u0060cilium\u0060 çš„å‘½ä»¤è¡Œå·¥å…·ã€‚æˆ‘ä¸ªäººä½¿ç”¨ [asdf](https:\/\/blog.ogenki.io\/post\/asdf\/asdf\/)ï¼š\n\n  \u0060\u0060\u0060console\n  asdf plugin-add cilium-cli\n  asdf install cilium-cli 0.15.7\n  asdf global cilium 0.15.7\n  \u0060\u0060\u0060\n\n  ä»¥ä¸‹å‘½ä»¤å…è®¸ç¡®ä¿æ‰€æœ‰ç»„ä»¶éƒ½æ­£å¸¸è¿è¡Œï¼š\n\n  \u0060\u0060\u0060console\n  cilium status --wait\n     \/Â¯Â¯\\\n  \/Â¯Â¯\\__\/Â¯Â¯\\    Cilium:             OK\n  \\__\/Â¯Â¯\\__\/    Operator:           OK\n  \/Â¯Â¯\\__\/Â¯Â¯\\    Envoy DaemonSet:    OK\n  \\__\/Â¯Â¯\\__\/    Hubble Relay:       disabled\n     \\__\/       ClusterMesh:        disabled\n  \n  Deployment             cilium-operator    Desired: 2, Ready: 2\/2, Available: 2\/2\n  DaemonSet              cilium             Desired: 2, Ready: 2\/2, Available: 2\/2\n  DaemonSet              cilium-envoy       Desired: 2, Ready: 2\/2, Available: 2\/2\n  Containers:            cilium             Running: 2\n                        cilium-operator    Running: 2\n                        cilium-envoy       Running: 2\n  Cluster Pods:          33\/33 managed by Cilium\n  Helm chart version:    1.14.2\n  Image versions         cilium             quay.io\/cilium\/cilium:v1.14.2@sha256:6263f3a3d5d63b267b538298dbeb5ae87da3efacf09a2c620446c873ba807d35: 2\n                        cilium-operator    quay.io\/cilium\/operator-aws:v1.14.2@sha256:8d514a9eaa06b7a704d1ccead8c7e663334975e6584a815efe2b8c15244493f1: 2\n                        cilium-envoy       quay.io\/cilium\/cilium-envoy:v1.25.9-e198a2824d309024cb91fb6a984445e73033291d@sha256:52541e1726041b050c5d475b3c527ca4b8da487a0bbb0309f72247e8127af0ec: 2\n  \u0060\u0060\u0060\n\n  æœ€åï¼Œä½ å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥æ˜¯å¦å¯ç”¨äº† Gateway API æ”¯æŒï¼š\n\n  \u0060\u0060\u0060console\n  cilium config view | grep -w \u0022enable-gateway-api\u0022\n  enable-gateway-api                                true\n  enable-gateway-api-secrets-sync                   true\n  \u0060\u0060\u0060\n\n  ä½ è¿˜å¯ä»¥è¿è¡Œä»¥ä¸‹ç«¯åˆ°ç«¯æµ‹è¯•ï¼š\n\n  \u0060\u0060\u0060console\n  cilium connectivity test\n  \u0060\u0060\u0060\n\n  ä½†æ˜¯ï¼Œæ­¤å‘½ä»¤ï¼ˆ\u0060connectivity test\u0060ï¼‰å½“å‰åœ¨å¯ç”¨ Envoy ä½œä¸º DaemonSet æ—¶ä¼šæŠ›å‡ºé”™è¯¯ã€‚([Github Issue](https:\/\/github.com\/cilium\/cilium\/issues\/28057))ã€‚\n\n{{\u003ccallout note æç¤º\u003e}}\n  **Envoy ä½œä¸º DaemonSet**\n\n  é»˜è®¤æƒ…å†µä¸‹ï¼ŒCilium ä»£ç†è¿˜åœ¨åŒä¸€ Pod ä¸­è¿è¡Œ \u0060Envoy\u0060ï¼Œå¹¶å§”æ‰˜ç»™å®ƒçº§åˆ« 7 çš„ç½‘ç»œæ“ä½œã€‚ä»ç‰ˆæœ¬ \u0060v1.14\u0060 å¼€å§‹ï¼Œå¯ä»¥å°† Envoy å•ç‹¬éƒ¨ç½²ï¼Œè¿™å¸¦æ¥äº†ä¸€äº›å¥½å¤„ï¼š\n\n  - å¦‚æœä¿®æ”¹\/é‡æ–°å¯åŠ¨ä¸€ä¸ªç»„ä»¶ï¼ˆæ— è®ºæ˜¯ Cilium è¿˜æ˜¯ Envoyï¼‰ï¼Œéƒ½ä¸ä¼šå½±å“å¦ä¸€ä¸ªç»„ä»¶ã€‚\n  - æ›´å¥½åœ°åˆ†é…èµ„æºç»™æ¯ä¸ªç»„ä»¶ä»¥ä¼˜åŒ–æ€§èƒ½ã€‚\n  - åœ¨æŸä¸ª Pod è¢«æ”»å‡»çš„æƒ…å†µä¸‹é™åˆ¶æ”»å‡»é¢ã€‚\n  - Envoy æ—¥å¿—å’Œ Cilium ä»£ç†æ—¥å¿—ä¸ä¼šæ··åˆåœ¨ä¸€èµ·ã€‚\n\n  ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥æ­¤åŠŸèƒ½æ˜¯å¦å·²å¯ç”¨ï¼š\n\n  \u0060\u0060\u0060console\n  cilium status\n      \/Â¯Â¯\\\n   \/Â¯Â¯\\__\/Â¯Â¯\\    Cilium:             OK\n   \\__\/Â¯Â¯\\__\/    Operator:           OK\n   \/Â¯Â¯\\__\/Â¯Â¯\\    Envoy DaemonSet:    OK\n   \\__\/Â¯Â¯\\__\/    Hubble Relay:       disabled\n      \\__\/       ClusterMesh:        disabled\n  \u0060\u0060\u0060\n\n  [æ›´å¤šä¿¡æ¯](https:\/\/isovalent.com\/blog\/post\/cilium-release-114\/#h-envoy-daemonset)ã€‚\n{{\u003c\/callout\u003e}}\n\n## å…¥å£ç‚¹ï¼šGatewayClass å’Œ Gateway\n\n![ç½‘å…³](gateway.jpg)\n\nä¸€æ—¦æ»¡è¶³å…ˆå†³æ¡ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¿é—®å¤šä¸ªå…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Gateway API CRDs å®šä¹‰çš„è‡ªå®šä¹‰èµ„æºã€‚è€Œä¸”ï¼Œåœ¨å®‰è£… Cilium åï¼Œä¸€ä¸ª \u0060GatewayClass\u0060 ç«‹å³å¯ç”¨ã€‚\n\n\u0060\u0060\u0060console\nkubectl get gatewayclasses.gateway.networking.k8s.io\nNAME     CONTROLLER                     ACCEPTED   AGE\ncilium   io.cilium\/gateway-controller   True       7m59s\n\u0060\u0060\u0060\n\nåœ¨ Kubernetes é›†ç¾¤ä¸Šï¼Œä½ å¯ä»¥é…ç½®å¤šä¸ª \u0060GatewayClasses\u0060ï¼Œä»è€Œèƒ½å¤Ÿä½¿ç”¨ä¸åŒçš„å®ç°ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ \u0060Gateway\u0060 é…ç½®ä¸­å¼•ç”¨ GatewayClass æ¥ä½¿ç”¨ \u0060Linkerd\u0060ã€‚\n\n\u0060Gateway\u0060 æ˜¯å…è®¸è§¦å‘åœ¨äº‘æä¾›å•†ä¸­åˆ›å»ºè´Ÿè½½å‡è¡¡ç»„ä»¶çš„èµ„æºã€‚\n\nè¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š[apps\/base\/echo\/gateway.yaml](https:\/\/github.com\/Smana\/cilium-gateway-api\/blob\/main\/apps\/base\/echo\/gateway.yaml)\n\n\u0060\u0060\u0060yaml\napiVersion: gateway.networking.k8s.io\/v1beta1\nkind: Gateway\nmetadata:\n  name: echo-gateway\n  namespace: echo\nspec:\n  gatewayClassName: cilium\n  listeners:\n    - protocol: HTTP\n      port: 80\n      name: echo-1-echo-server\n      allowedRoutes:\n        namespaces:\n          from: Same\n\u0060\u0060\u0060\n\nåœ¨ AWSï¼ˆEKSï¼‰ä¸Šï¼Œé…ç½® \u0060Gateway\u0060 æ—¶ï¼ŒCilium ä¼šåˆ›å»ºä¸€ä¸ªç±»å‹ä¸º \u0060LoadBalancer\u0060 çš„ \u0060Service\u0060ã€‚ç„¶åï¼Œå¦ä¸€ä¸ªæ§åˆ¶å™¨ï¼ˆ[AWS Load Balancer Controller](https:\/\/kubernetes-sigs.github.io\/aws-load-balancer-controller)ï¼‰å¤„ç†äº‘è´Ÿè½½å‡è¡¡å™¨ï¼ˆ[NLB](https:\/\/docs.aws.amazon.com\/elasticloadbalancing\/latest\/network\/introduction.html)ï¼‰çš„åˆ›å»ºã€‚\n\n\u0060\u0060\u0060console\nkubectl get svc -n echo cilium-gateway-echo\nNAME                  TYPE           CLUSTER-IP     EXTERNAL-IP                                                                 PORT(S)        AGE\ncilium-gateway-echo   LoadBalancer   172.20.19.82   k8s-echo-ciliumga-64708ec85c-fcb7661f1ae4e4a4.elb.eu-west-3.amazonaws.com   80:30395\/TCP   2m58s\n\u0060\u0060\u0060\n\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè´Ÿè½½å‡è¡¡å™¨åœ°å€ä¹Ÿä¸ \u0060Gateway\u0060 ç›¸å…³è”ã€‚\n\n\u0060\u0060\u0060console\nkubectl get gateway -n echo echo\nNAME   CLASS    ADDRESS                                                                     PROGRAMMED   AGE\necho   cilium   k8s-echo-ciliumga-64708ec85c-fcb7661f1ae4e4a4.elb.eu-west-3.amazonaws.com   True         16m\n\u0060\u0060\u0060\n\n## è·¯ç”±è§„åˆ™ï¼šHTTPRoute\n\n### åŸºæœ¬è§„åˆ™\n\n![HTTPRoute](httproute.jpg)\n\nç®€è€Œè¨€ä¹‹ï¼Œä¸Šé¢çš„å›¾è¡¨å¯æ€»ç»“ä¸ºå‡ å¥è¯ï¼š\u0060HTTPRoute\u0060 å…è®¸é€šè¿‡å¼•ç”¨ Gateway å¹¶å®šä¹‰æ‰€éœ€çš„è·¯ç”±å‚æ•°æ¥é…ç½®åˆ°æœåŠ¡çš„è·¯ç”±ã€‚\n\n{{\u003ccallout note æç¤º\u003e}}\n**Kyverno**\n\næˆªæ­¢ç›®å‰ï¼Œæ— æ³•é…ç½®ç”± \u0060Gateways\u0060 ç”Ÿæˆçš„æœåŠ¡çš„æ³¨é‡Šï¼ˆ[Github Issue](https:\/\/github.com\/cilium\/cilium\/issues\/25357)ï¼‰ã€‚å·²æå‡ºä¸€ç§è§£å†³æ–¹æ³•ï¼Œå³åœ¨åˆ›å»º \u0060Gateway\u0060 åç«‹å³ä¿®æ”¹ç”± \u0060Gateway\u0060 åˆ›å»ºçš„æœåŠ¡ã€‚\n\nKyverno æ˜¯ä¸€ç§ç¡®ä¿é…ç½®ç¬¦åˆæœ€ä½³å®è·µå’Œå®‰å…¨è¦æ±‚çš„å·¥å…·ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œä»…ä»…ä½¿ç”¨å®ƒæ¥è½»æ¾æè¿°[çªå˜](https:\/\/kyverno.io\/docs\/writing-policies\/mutate\/)è§„åˆ™ã€‚\n\n[security\/mycluster-0\/echo-gw-clusterpolicy.yaml](https:\/\/github.com\/Smana\/cilium-gateway-api\/blob\/main\/security\/mycluster-0\/echo-gw-clusterpolicy.yaml)\n\n\u0060\u0060\u0060yaml\nspec:\n  rules:\n    - name: mutate-svc-annotations\n      match:\n        any:\n          - resources:\n              kinds:\n                - Service\n              namespaces:\n                - echo\n              name: cilium-gateway-echo\n      mutate:\n        patchStrategicMerge:\n          metadata:\n            annotations:\n              external-dns.alpha.kubernetes.io\/hostname: echo.${domain_name}\n              service.beta.kubernetes.io\/aws-load-balancer-scheme: \u0022internet-facing\u0022\n              service.beta.kubernetes.io\/aws-load-balancer-backend-protocol: tcp\n          spec:\n            loadBalancerClass: service.k8s.aws\/nlb\n\u0060\u0060\u0060\n\nå› æ­¤ï¼ŒæœåŠ¡ \u0060cilium-gateway-echo\u0060 å°†æ·»åŠ  AWS æ§åˆ¶å™¨çš„æ³¨é‡Šï¼Œä»¥åŠä¸€ä¸ªå…è®¸è‡ªåŠ¨ DNS è®°å½•é…ç½®çš„æ³¨é‡Šã€‚\n{{\u003c\/callout\u003e}}\n\n[apps\/base\/echo\/httproute.yaml](https:\/\/github.com\/Smana\/cilium-gateway-api\/blob\/main\/apps\/base\/echo\/httproute.yaml)\n\n\u0060\u0060\u0060yaml\napiVersion: gateway.networking.k8s.io\/v1beta1\nkind: HTTPRoute\nmetadata:\n  name: echo-1\n  namespace: echo\nspec:\n  parentRefs:\n    - name: echo\n      namespace: echo\n  rules:\n    - matches:\n        - path:\n            type: PathPrefix\n            value: \/\n      backendRefs:\n        - name: echo-1-echo-server\n          port: 80\n\u0060\u0060\u0060\n\nä¸Šé¢ä½¿ç”¨çš„ç¤ºä¾‹éå¸¸ç®€å•ï¼šæ‰€æœ‰è¯·æ±‚éƒ½ä¼šè½¬å‘åˆ° \u0060echo-1-echo-server\u0060 æœåŠ¡ã€‚\n\n\u0060parentRefs\u0060 æŒ‡ç¤ºä½¿ç”¨å“ªä¸ª \u0060Gateway\u0060ï¼Œç„¶ååœ¨ \u0060rules\u0060 éƒ¨åˆ†å®šä¹‰äº†è·¯ç”±è§„åˆ™ã€‚\n\nè·¯ç”±è§„åˆ™è¿˜å¯ä»¥åŸºäº \u0060path\u0060ã€‚\n\n\u0060\u0060\u0060yaml\n...\nspec:\n  hostnames:\n  - foo.bar.com\n  rules:\n  - matches:\n    - path:\n        type: PathPrefix\n        value: \/login\n\u0060\u0060\u0060\n\næˆ–è€…åŸºäº HTTP æ ‡å¤´\n\n\u0060\u0060\u0060yaml\n...\nspec:\n  rules:\n  - matches:\n      headers:\n      - name: \u0022version\u0022\n        value: \u00222\u0022\n...\n\u0060\u0060\u0060\n\nè®©æˆ‘ä»¬æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯è®¿é—®ã€‚\n\n\u0060\u0060\u0060console\ncurl -s http:\/\/echo.cloud.ogenki.io | jq -rc \u0027.environment.HOSTNAME\u0027\necho-1-echo-server-fd88497d-w6sgn\n\u0060\u0060\u0060\n\næ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œè¯¥æœåŠ¡ä»¥ HTTP æ–¹å¼æš´éœ²ï¼Œæ²¡æœ‰è¯ä¹¦ã€‚è®©æˆ‘ä»¬å°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\n\n### é…ç½® TLS è¯ä¹¦\n\næœ‰å¤šç§æ–¹æ³•å¯ä»¥ä½¿ç”¨ GAPI é…ç½® TLSã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æœ€å¸¸è§çš„æƒ…å†µï¼šHTTPS åè®®å’Œåœ¨ Gateway ä¸Šç»ˆæ­¢ TLSã€‚\n\nå‡è®¾æˆ‘ä»¬æƒ³è¦é…ç½®ä¹‹å‰ä½¿ç”¨çš„åŸŸå \u0060echo.cloud.ogenki.io\u0060ã€‚é…ç½®ä¸»è¦é€šè¿‡é…ç½® \u0060Gateway\u0060 æ¥å®Œæˆã€‚\n\n[apps\/base\/echo\/tls-gateway.yaml](https:\/\/github.com\/Smana\/cilium-gateway-api\/blob\/main\/apps\/base\/echo\/tls-gateway.yaml)\n\n\u0060\u0060\u0060yaml\napiVersion: gateway.networking.k8s.io\/v1beta1\nkind: Gateway\nmetadata:\n  name: echo\n  namespace: echo\n  annotations:\n    cert-manager.io\/cluster-issuer: letsencrypt-prod\nspec:\n  gatewayClassName: cilium\n  listeners:\n    - name: http\n      hostname: \u0022echo.${domain_name}\u0022\n      port: 443\n      protocol: HTTPS\n      allowedRoutes:\n        namespaces:\n          from: Same\n      tls:\n        mode: Terminate\n        certificateRefs:\n          - name: echo-tls\n\u0060\u0060\u0060\n\nè¿™é‡Œçš„å…³é”®ç‚¹æ˜¯å¼•ç”¨ä¸€ä¸ªåŒ…å«åç§°ä¸º \u0060echo-tls\u0060 çš„è¯ä¹¦çš„å¯†é’¥ã€‚è¿™ä¸ªè¯ä¹¦å¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼Œä½†æ˜¯ä¸ºäº†æœ¬æ–‡ï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨ **Let\u0027s Encrypt** å’Œ \u0060cert-manager\u0060 æ¥è‡ªåŠ¨åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚\n\n{{\u003ccallout note æç¤º\u003e}}}\n**cert-manager**\n\nä½¿ç”¨ \u0060cert-manager\u0060ï¼Œè‡ªåŠ¨åˆ›å»ºå’Œæ›´æ–°ç”± \u0060Gateway\u0060 æš´éœ²çš„è¯ä¹¦éå¸¸ç®€å•ã€‚ä¸ºæ­¤ï¼Œä½ éœ€è¦å…è®¸æ§åˆ¶å™¨è®¿é—® [route53](https:\/\/aws.amazon.com\/route53\/)ï¼Œä»¥è§£å†³ DNS01 æŒ‘æˆ˜ï¼ˆè¿™æ˜¯ä¸€ç§ç¡®ä¿å®¢æˆ·ç«¯åªèƒ½ä¸ºè‡ªå·±æ‹¥æœ‰çš„åŸŸè¯·æ±‚è¯ä¹¦çš„æœºåˆ¶ï¼‰ã€‚\n\n[ClusterIssuer](https:\/\/github.com\/Smana\/cilium-gateway-api\/blob\/main\/security\/base\/cert-manager\/cluster-issuer-staging.yaml) èµ„æºæè¿°äº†ä½¿ç”¨ cert-manager ç”Ÿæˆè¯ä¹¦æ‰€éœ€çš„é…ç½®ã€‚\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦æ·»åŠ ä¸€ä¸ªæ³¨é‡Š \u0060cert-manager.io\/cluster-issuer\u0060 å¹¶è®¾ç½®å­˜å‚¨è¯ä¹¦çš„ Kubernetes å¯†é’¥ã€‚\n\n[æ›´å¤šä¿¡æ¯](https:\/\/cert-manager.io\/docs\/usage\/gateway\/)\n\nåœ¨æ¼”ç¤ºå­˜å‚¨åº“ä¸­ï¼Œæƒé™æ˜¯ä½¿ç”¨ \u0060Crossplane\u0060 åˆ†é…çš„ï¼Œå®ƒè´Ÿè´£åœ¨ AWS ä¸­é…ç½®è¿™äº› IAM æƒé™ã€‚\n{{\u003c\/callout\u003e}}\n\nä¸ºäº†ä½¿è·¯ç”±æ­£å¸¸å·¥ä½œï¼Œä½ è¿˜éœ€è¦å°† \u0060HTTPRoute\u0060 é™„åŠ åˆ°æ­£ç¡®çš„ \u0060Gateway\u0060 å¹¶æŒ‡å®šåŸŸåã€‚\n\n\u0060\u0060\u0060yaml\napiVersion: gateway.networking.k8s.io\/v1beta1\nkind: HTTPRoute\nmetadata:\n  name: echo-1\n  namespace: echo\nspec:\n  parentRefs:\n    - name: echo\n      namespace: echo\n  hostnames:\n    - \u0022echo.${domain_name}\u0022\n...\n\u0060\u0060\u0060\n\nå‡ ç§’é’Ÿåï¼Œè¯ä¹¦å°†è¢«åˆ›å»ºã€‚\n\n\u0060\u0060\u0060console\nkubectl get cert -n echo\nNAME       READY   SECRET     AGE\necho-tls   True    echo-tls   43m\n\u0060\u0060\u0060\n\næœ€åï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥è¯ä¹¦ç¡®å®æ¥è‡ª Let\u0027s Encryptï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n\n\u0060\u0060\u0060console\ncurl https:\/\/echo.cloud.ogenki.io -v 2\u003e\u00261 | grep -A 6 \u0027Server certificate\u0027\n* Server certificate:\n*  subject: CN=echo.cloud.ogenki.io\n*  start date: Sep 15 14:43:00 2023 GMT\n*  expire date: Dec 14 14:42:59 2023 GMT\n*  subjectAltName: host \u0022echo.cloud.ogenki.io\u0022 matched cert\u0027s \u0022echo.cloud.ogenki.io\u0022\n*  issuer: C=US; O=Let\u0027s Encrypt; CN=R3\n*  SSL certificate verify ok.\n\u0060\u0060\u0060\n\n{{\u003ccallout note æç¤º\u003e}}\nGAPI è¿˜å…è®¸ä½ é…ç½® **ç«¯åˆ°ç«¯çš„ TLS**ï¼Œä¸€ç›´åˆ°å®¹å™¨ã€‚è¿™æ˜¯é€šè¿‡é…ç½® \u0060Gateway\u0060 ä¸º \u0060Passthrough\u0060 æ¨¡å¼å¹¶ä½¿ç”¨ \u0060TLSRoute\u0060 èµ„æºæ¥å®Œæˆçš„ã€‚è¯ä¹¦ä¹Ÿå¿…é¡»ç”±æ‰§è¡Œ TLS ç»ˆæ­¢çš„ pod æºå¸¦ã€‚\n{{\u003c\/callout\u003e}}\n\n### åœ¨å¤šä¸ªå‘½åç©ºé—´ä¸­å…±äº« Gateway\n\n![å…±äº«ç½‘å…³](shared-gateway.jpg)\n\nä½¿ç”¨ \u0060GAPI\u0060ï¼Œä½ å¯ä»¥åœ¨ \u0060å‘½åç©ºé—´\u0060 ä¹‹é—´è·¯ç”±æµé‡ã€‚è¿™å¾—ç›Šäºæ¯ä¸ªåŠŸèƒ½çš„ä¸åŒèµ„æºï¼šä¸€ä¸ª \u0060Gateway\u0060 å…è®¸é…ç½®åŸºç¡€è®¾æ–½ï¼Œä»¥åŠ \u0060*Routes\u0060ã€‚è¿™äº›è·¯ç”±å¯ä»¥é™„åŠ åˆ°ä½äºå¦ä¸€ä¸ªå‘½åç©ºé—´ä¸­çš„ Gatewayã€‚å› æ­¤ï¼Œä¸åŒçš„å›¢é˜Ÿ\/é¡¹ç›®å¯ä»¥å…±äº«ç›¸åŒçš„åŸºç¡€è®¾æ–½ç»„ä»¶ã€‚\n\nä½†æ˜¯ï¼Œè¿™éœ€è¦æŒ‡å®šå“ªä¸ªè·¯ç”±å…è®¸å¼•ç”¨è¯¥ Gatewayã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªä¸“é—¨ç”¨äºå†…éƒ¨å·¥å…·çš„ Gatewayï¼Œåä¸º \u0060platform\u0060ã€‚é€šè¿‡ä½¿ç”¨ \u0060allowedRoutes\u0060 å‚æ•°ï¼Œæˆ‘ä»¬æ˜ç¡®æŒ‡å®šäº†å“ªäº›å‘½åç©ºé—´å…è®¸é™„åŠ åˆ°æ­¤ Gatewayã€‚\n\n[infrastructure\/base\/gapi\/platform-gateway.yaml](https:\/\/github.com\/Smana\/cilium-gateway-api\/blob\/main\/infrastructure\/base\/gapi\/platform-gateway.yaml)\n\n\u0060\u0060\u0060yaml\n...\n      allowedRoutes:\n        namespaces:\n          from: Selector\n          selector:\n            matchExpressions:\n              - key: kubernetes.io\/metadata.name\n                operator: In\n                values:\n                  - observability\n                  - flux-system\n      tls:\n        mode: Terminate\n        certificateRefs:\n          - name: platform-tls\n\u0060\u0060\u0060\n\nåœ¨å‘½åç©ºé—´ \u0060observability\u0060 å’Œ \u0060flux-system\u0060 ä¸­é…ç½®çš„ \u0060HTTPRoutes\u0060 é™„åŠ åˆ°æ­¤å”¯ä¸€çš„ \u0060Gateway\u0060ã€‚\n\n\u0060\u0060\u0060yaml\n...\nspec:\n  parentRefs:\n    - name: platform\n      namespace: infrastructure\n\u0060\u0060\u0060\n\nå› æ­¤ï¼Œä½¿ç”¨æ¥è‡ªäº‘æä¾›å•†çš„ç›¸åŒè´Ÿè½½å‡è¡¡å™¨ã€‚\n\n\u0060\u0060\u0060console\nNLB_DOMAIN=$(kubectl get svc -n infrastructure cilium-gateway-platform -o jsonpath={.status.loadBalancer.ingress[0].hostname})\n\ndig \u002bshort ${NLB_DOMAIN}\n13.36.89.108\n\ndig \u002bshort grafana-mycluster-0.cloud.ogenki.io\n13.36.89.108\n\ndig \u002bshort gitops-mycluster-0.cloud.ogenki.io\n13.36.89.108\n\u0060\u0060\u0060\n\n{{\u003ccallout note æ³¨æ„\u003e}}\nè¿™äº›å†…éƒ¨å·¥å…·ä¸åº”è¯¥æš´éœ²åœ¨äº’è”ç½‘ä¸Šï¼Œä½†æ˜¯ä½ çŸ¥é“ï¼šè¿™åªæ˜¯ä¸€ä¸ªæ¼”ç¤ºã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…éƒ¨ Gatewayï¼ˆç§æœ‰ IPï¼‰é€šè¿‡è°ƒæ•´æ³¨é‡Šå¹¶ä½¿ç”¨ç§æœ‰è¿æ¥ç³»ç»Ÿï¼ˆVPNã€éš§é“ç­‰ï¼‰æ¥å®ç°ã€‚\n{{\u003c\/callout\u003e}}\n\n### æµé‡åˆ†æµ\n\n![åˆ†æµ](split.jpg)\n\nç”±æœåŠ¡ç½‘æ ¼å¸¸å¸¸æä¾›çš„ä¸€ä¸ªåŠŸèƒ½æ˜¯åœ¨æœ‰æ–°ç‰ˆæœ¬å¯ç”¨æ—¶ï¼ˆA\/B æµ‹è¯•æˆ–é‡‘ä¸é›€éƒ¨ç½²ï¼‰å¯¹éƒ¨åˆ†æµé‡æµ‹è¯•åº”ç”¨ç¨‹åºçš„èƒ½åŠ›ã€‚\u0060GAPI\u0060é€šè¿‡ä½¿ç”¨æƒé‡æ¥å®ç°è¿™ä¸€ç‚¹ï¼Œä½¿å…¶å˜å¾—éå¸¸ç®€å•ã€‚\n\nä»¥ä¸‹æ˜¯ä¸€ä¸ªå°† 5% çš„æµé‡è½¬å‘åˆ°æœåŠ¡ \u0060echo-2-echo-server\u0060 çš„ç¤ºä¾‹ï¼š\n\n[apps\/base\/echo\/httproute-split.yaml](https:\/\/github.com\/Smana\/cilium-gateway-api\/blob\/main\/apps\/base\/echo\/httproute-split.yaml)\n\n\u0060\u0060\u0060yaml\n...\n  hostnames:\n    - \u0022split-echo.${domain_name}\u0022\n  rules:\n    - matches:\n        - path:\n            type: PathPrefix\n            value: \/\n      backendRefs:\n        - name: echo-1-echo-server\n          port: 80\n          weight: 95\n        - name: echo-2-echo-server\n          port: 80\n          weight: 5\n\u0060\u0060\u0060\n\nè®©æˆ‘ä»¬æ£€æŸ¥åˆ†å‘æ˜¯å¦æŒ‰é¢„æœŸè¿›è¡Œï¼š\n\n[scripts\/check-split.sh](https:\/\/github.com\/Smana\/cilium-gateway-api\/blob\/main\/scripts\/check-split.sh)\n\n\u0060\u0060\u0060console\n.\/scripts\/check-split.sh https:\/\/split-echo.cloud.ogenki.io\necho-1 çš„è¯·æ±‚æ¬¡æ•°ï¼š95\necho-2 çš„è¯·æ±‚æ¬¡æ•°ï¼š5\n\u0060\u0060\u0060\n\n### ä¿®æ”¹æ ‡å¤´\n\nè¿˜å¯ä»¥æ›´æ”¹ HTTP **æ ‡å¤´**ï¼šæ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤å®ƒä»¬ã€‚è¿™äº›ä¿®æ”¹å¯ä»¥é€šè¿‡åœ¨ \u0060HTTPRoute\u0060 æ¸…å•ä¸­ä½¿ç”¨ [filters](https:\/\/gateway-api.sigs.k8s.io\/api-types\/httproute#filters-optional) åº”ç”¨äºè¯·æ±‚æ ‡å¤´æˆ–å“åº”æ ‡å¤´ã€‚\n\nä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†åœ¨ **è¯·æ±‚** ä¸­æ·»åŠ ä¸€ä¸ªæ ‡å¤´ã€‚\n\n\u0060\u0060\u0060yaml\napiVersion: gateway.networking.k8s.io\/v1beta1\nkind: HTTPRoute\nmetadata:\n  name: echo-1\n  namespace: echo\nspec:\n...\n  rules:\n    - matches:\n        - path:\n            type: PathPrefix\n            value: \/req-header-add\n      filters:\n        - type: RequestHeaderModifier\n          requestHeaderModifier:\n            add:\n              - name: foo\n                value: bar\n      backendRefs:\n        - name: echo-1-echo-server\n          port: 80\n...\n\u0060\u0060\u0060\n\næ­¤å‘½ä»¤å…è®¸æŸ¥çœ‹æ ‡å¤´æ˜¯å¦ç¡®å®å·²æ·»åŠ ï¼š\n\n\u0060\u0060\u0060console\ncurl -s https:\/\/echo.cloud.ogenki.io\/req-header-add | jq \u0027.request.headers\u0027\n{\n  \u0022host\u0022: \u0022echo.cloud.ogenki.io\u0022,\n  \u0022user-agent\u0022: \u0022curl\/8.2.1\u0022,\n  \u0022accept\u0022: \u0022*\/*\u0022,\n  \u0022x-forwarded-for\u0022: \u002281.220.234.254\u0022,\n  \u0022x-forwarded-proto\u0022: \u0022https\u0022,\n  \u0022x-envoy-external-address\u0022: \u002281.220.234.254\u0022,\n  \u0022x-request-id\u0022: \u0022320ba4d2-3bd6-4c2f-8a97-74296a9f3f26\u0022,\n  \u0022foo\u0022: \u0022bar\u0022\n}\n\u0060\u0060\u0060\n\n## åˆ†é…é€‚å½“çš„æƒé™\n\n\u0060GAPI\u0060 æä¾›äº†ä¸€ç§æ¸…æ™°çš„æƒé™å…±äº«æ¨¡å‹ï¼Œç”¨äºç®¡ç†æµé‡è·¯ç”±åŸºç¡€è®¾æ–½ï¼ˆç”±é›†ç¾¤ç®¡ç†å‘˜ç®¡ç†ï¼‰å’Œåº”ç”¨ç¨‹åºï¼ˆç”±å¼€å‘äººå‘˜ç®¡ç†ï¼‰ä¹‹é—´çš„å…³ç³»ã€‚\n\nå¤šä¸ªè‡ªå®šä¹‰èµ„æºçš„å¯ç”¨æ€§å…è®¸ä½¿ç”¨ Kubernetes çš„ **RBAC** é…ç½®ä»¥å£°æ˜æ€§æ–¹å¼åˆ†é…æƒé™ã€‚æˆ‘å·²ç»æ·»åŠ äº†ä¸€äº›ç¤ºä¾‹ï¼Œè¿™äº›ç¤ºä¾‹åœ¨æˆ‘çš„æ¼”ç¤ºé›†ç¾¤ä¸­æ²¡æœ‰æ•ˆæœï¼Œä½†å¯èƒ½ä¼šç»™ä½ ä¸€ä¸ªæƒ³æ³•ã€‚\n\nä¸‹é¢çš„é…ç½®æˆäºˆ \u0060developers\u0060 ç»„çš„æˆå‘˜åœ¨ echo å‘½åç©ºé—´å†…ç®¡ç† \u0060HTTPRoutes\u0060 çš„èƒ½åŠ›ï¼ŒåŒæ—¶ä»…æä¾›å¯¹ \u0060Gateways\u0060 çš„è¯»å–æƒé™ã€‚\n\n\u0060\u0060\u0060yaml\n---\napiVersion: rbac.authorization.k8s.io\/v1\nkind: Role\nmetadata:\n  namespace: echo\n  name: gapi-developer\nrules:\n  - apiGroups: [\u0022gateway.networking.k8s.io\u0022]\n    resources: [\u0022httproutes\u0022]\n    verbs: [\u0022*\u0022]\n  - apiGroups: [\u0022gateway.networking.k8s.io\u0022]\n    resources: [\u0022gateways\u0022]\n    verbs: [\u0022get\u0022, \u0022list\u0022]\n---\napiVersion: rbac.authorization.k8s.io\/v1\nkind: RoleBinding\nmetadata:\n  name: gapi-developer\n  namespace: echo\nsubjects:\n  - kind: Group\n    name: \u0022developers\u0022\n    apiGroup: rbac.authorization.k8s.io\nroleRef:\n  kind: Role\n  name: gapi-developer\n  apiGroup: rbac.authorization.k8s.io\n\u0060\u0060\u0060\n\n## ä¹ä¸€çœ‹æœ‰ç‚¹æ¨¡ç³Š\n\näººä»¬å¯èƒ½ä¼šå¯¹é€šå¸¸ç§°ä¸º \u0060API ç½‘å…³\u0060 çš„ä¸œè¥¿æ„Ÿåˆ°å›°æƒ‘ã€‚å·²ç»åˆ›å»ºäº† [FAQ](https:\/\/gateway-api.sigs.k8s.io\/faq\/) çš„ä¸€ä¸ªéƒ¨åˆ†ï¼Œä»¥æ¾„æ¸…å®ƒä¸ \u0060Gateway API\u0060 çš„ä¸åŒä¹‹å¤„ã€‚å°½ç®¡ GAPI æä¾›äº†é€šå¸¸åœ¨ API ç½‘å…³ä¸­æ‰¾åˆ°çš„åŠŸèƒ½ï¼Œä½†å®ƒä¸»è¦æ˜¯ Kubernetes çš„ä¸€ä¸ªç‰¹å®šå®ç°ã€‚ç„¶è€Œï¼Œé€‰æ‹©è¿™ä¸ªåç§°ç¡®å®å¯èƒ½å¼•èµ· **æ··æ·†**ã€‚\n\næ­¤å¤–ï¼Œè¯·æ³¨æ„ï¼Œæœ¬æ–‡ä»…å…³æ³¨å…¥ç«™æµé‡ï¼Œé€šå¸¸ç”± *Ingress Controllers* ç®¡ç†ï¼Œç§°ä¸º [å—åŒ—](https:\/\/gateway-api.sigs.k8s.io\/concepts\/glossary\/#northsouth-traffic)ï¼Œè¿™å®é™…ä¸Šæ˜¯ GAPI çš„åˆå§‹èŒƒå›´ã€‚æœ€è¿‘çš„ä¸€ä¸ªåä¸º [**GAMMA**](https:\/\/gateway-api.sigs.k8s.io\/concepts\/gamma\/) çš„å€¡è®®æ—¨åœ¨å¤„ç† [ä¸œè¥¿æµé‡](https:\/\/gateway-api.sigs.k8s.io\/concepts\/glossary\/#eastwest-traffic) è·¯ç”±ï¼Œè¿™å°†åœ¨å°†æ¥æ ‡å‡†åŒ–æŸäº›å¸¸è§çš„åŠŸèƒ½ï¼Œé€šå¸¸ç”± \u0060Service Meshes\u0060 è§£å†³æ–¹æ¡ˆæä¾›ã€‚ï¼ˆæœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… [æ­¤æ–‡ç« ](https:\/\/kubernetes.io\/blog\/2023\/08\/29\/gateway-api-v0-8\/)ï¼‰ã€‚\n\n## æœ€åçš„æƒ³æ³•\n\nè€å®è¯´ï¼Œæˆ‘å·²ç»çŸ¥é“ **Gateway API** æœ‰ä¸€æ®µæ—¶é—´äº†ã€‚å°½ç®¡æˆ‘è¯»äº†ä¸€äº›æ–‡ç« ï¼Œä½†æˆ‘å¹¶æ²¡æœ‰çœŸæ­£æ·±å…¥ç ”ç©¶è¿‡ã€‚æˆ‘ä¼šæƒ³ï¼šâ€œä¸ºä»€ä¹ˆè¦éº»çƒ¦å‘¢ï¼Ÿæˆ‘çš„ *Ingress Controller* å¯ä»¥å·¥ä½œï¼Œè€Œä¸”è¿™éœ€è¦å­¦ä¹ æ›²çº¿ã€‚â€\n\nGAPI æ­£åœ¨å´­éœ²å¤´è§’ï¼Œå³å°†å‘å¸ƒ GA ç‰ˆæœ¬ã€‚å¤šä¸ª [é¡¹ç›®](https:\/\/gateway-api.sigs.k8s.io\/implementations\/) å·²ç»æ‹¥æŠ±å®ƒï¼Œè¿™ä¸ªç”¨äºç®¡ç† Kubernetes å†…æµé‡çš„ API å°†è¿…é€Ÿæˆä¸ºæ ‡å‡†ã€‚\n\næˆ‘å¿…é¡»è¯´ï¼Œé…ç½® GAPI æ„Ÿè§‰ç›´è§‚è€Œæ˜ç¡®ã€‚å®ƒçš„å®‰å…¨æ¨¡å‹å–å¾—äº†å¹³è¡¡ï¼Œèµ‹äºˆå¼€å‘äººå‘˜æƒåŠ›è€Œä¸ä¼šæŸå®³å®‰å…¨æ€§ã€‚è€Œä¸”æ— ç¼çš„åŸºç¡€è®¾æ–½ç®¡ç†ï¼Ÿä½ å¯ä»¥åœ¨ä¸è§¦åŠ \u0060*Routes\u0060 çš„æƒ…å†µä¸‹åœ¨ä¸åŒçš„å®ç°ä¹‹é—´åˆ‡æ¢ã€‚\n\nç°åœ¨å°±ç”¨ \u0060Cilium\u0060 äº¤æ¢æˆ‘çš„ Ingress Controller å—ï¼Ÿ**è¿˜æ²¡æœ‰ï¼Œä½†å®ƒå³å°†åˆ°æ¥**ã€‚\n\nå€¼å¾—å¼ºè°ƒçš„æ˜¯ï¼ŒCilium çš„åŠŸèƒ½éå¸¸å¹¿æ³›ï¼šåœ¨ Kubernetes å‘¨å›´æœ‰å¤§é‡çš„å·¥å…·ï¼ŒCilium è„±é¢–è€Œå‡ºï¼Œæ‰¿è¯ºæä¾›æŒ‡æ ‡ã€è·Ÿè¸ªã€æœåŠ¡ç½‘æ ¼ã€å®‰å…¨æ€§ï¼Œä»¥åŠ *Ingress Controller* ä¸ GAPIã€‚\n\nç„¶è€Œï¼Œéœ€è¦æ³¨æ„ä¸€äº›æŒ‘æˆ˜ï¼š\n\n- [TCP å’Œ UDP æ”¯æŒ](https:\/\/github.com\/cilium\/cilium\/issues\/21929)\n- [GRPC æ”¯æŒ](https:\/\/github.com\/cilium\/cilium\/issues\/21928)\n- éœ€è¦ä½¿ç”¨å˜å¼‚è§„åˆ™æ¥é…ç½®äº‘ç»„ä»¶ï¼ˆ[Github Issue](https:\/\/github.com\/cilium\/cilium\/issues\/25357)ï¼‰ã€‚\n- æœ¬æ–‡è®¨è®ºçš„è®¸å¤šåŠŸèƒ½ä»å¤„äºå®éªŒé˜¶æ®µã€‚ä¾‹å¦‚ï¼Œæœ€æ–°ç‰ˆæœ¬ï¼ˆæˆ‘å†™ä½œæ—¶çš„ \u0060v1.14.2\u0060ï¼‰æ”¯æŒçš„ [æ‰©å±•åŠŸèƒ½](https:\/\/github.com\/cilium\/cilium\/pull\/27472)ã€‚æˆ‘å°è¯•è®¾ç½®ä¸€ä¸ªç®€å•çš„ HTTP\u003eHTTPS é‡å®šå‘ï¼Œä½†é‡åˆ°äº† [è¿™ä¸ªé—®é¢˜](https:\/\/github.com\/kubernetes-sigs\/gateway-api\/issues\/1185)ã€‚å› æ­¤ï¼Œæˆ‘é¢„è®¡ API å°†æ¥ä¼šæœ‰ä¸€äº›ä¿®æ”¹ã€‚\n\nè™½ç„¶æˆ‘åªæ˜¯æ¶‰åŠäº† Cilium çš„ GAPI èƒ½å¤Ÿæä¾›çš„ä¸€å°éƒ¨åˆ†å†…å®¹ï¼ˆè€å®è¯´ï¼Œè¿™ç¯‡æ–‡ç« å·²ç»ç›¸å½“é•¿äº†ï¼‰ï¼Œä½†æˆ‘å¸Œæœ›æˆ‘ä»¬å¯ä»¥å¾ˆå¿«åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨å®ƒã€‚ä½†è€ƒè™‘åˆ°å‰é¢æåˆ°çš„å‡ ç‚¹ï¼Œæˆ‘å»ºè®®ç­‰å¾…ä¸€æ®µæ—¶é—´ã€‚ä¸è¿‡ï¼Œå¦‚æœä½ æƒ³ä¸ºæœªæ¥åšå‡†å¤‡ï¼Œé‚£ä¹ˆç°åœ¨æ˜¯æ—¶å€™äº†ï¼\n\n## å‚è€ƒèµ„æ–™\n\n- https:\/\/gateway-api.sigs.k8s.io\/\n- https:\/\/docs.cilium.io\/en\/latest\/network\/servicemesh\/gateway-api\/gateway-api\/#gs-gateway-api\n- https:\/\/isovalent.com\/blog\/post\/cilium-gateway-api\/\n- https:\/\/isovalent.com\/blog\/post\/tutorial-getting-started-with-the-cilium-gateway-api\/\n- Isovalent çš„ [labs](https:\/\/isovalent.com\/resource-library\/labs\/) æ˜¯å¼€å§‹ä½¿ç”¨ Gateway API å¹¶ä¸”ä½ å°†è·å¾—æ–°çš„å¾½ç« ä»¥æ·»åŠ åˆ°ä½ çš„æ”¶è—ä¸­çš„å¥½æ–¹æ³•\n', '\/trans\/cilium-gateway-api\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">è¿™ç¯‡æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ Cilium éƒ¨ç½²å’Œé…ç½® Gateway APIï¼Œä¸€ä¸ªæ–°çš„æœåŠ¡ç½‘æ ¼ APIï¼Œç”¨äºç®¡ç† Kubernetes ä¸­çš„æœåŠ¡é—´é€šä¿¡ã€‚æ–‡ç« è¯¦ç»†è¯´æ˜äº† Gateway API çš„æ¦‚å¿µå’Œç»„ä»¶ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ Cilium çš„ç‰¹æ€§å’Œå·¥å…·ï¼Œå®ç°é«˜æ•ˆå’Œçµæ´»çš„è·¯ç”±ç­–ç•¥ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/blog/enhancing-istio-with-tis-comprehensive-installation-and-monitoring-guide/">ä½¿ç”¨ TIS å¢å¼º Istioï¼šå®‰è£…ä¸ç›‘æ§æŒ‡å—</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2024/01/03</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/istio"> 
             Istio
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('ä½¿ç”¨ TIS å¢å¼º Istioï¼šå®‰è£…ä¸ç›‘æ§æŒ‡å—', 'åœ¨è¿™ç¯‡åšå®¢ä¸­æˆ‘å°†æŒ‡å¯¼ä½ å¦‚ä½•å®‰è£… TIS å¹¶å¯ç”¨ç›‘æ§æ’ä»¶ã€‚', '\nåœ¨è¿™ç¯‡åšå®¢ä¸­æˆ‘å°†æŒ‡å¯¼ä½ å¦‚ä½•å®‰è£… TIS å¹¶å¯ç”¨ç›‘æ§æ’ä»¶ã€‚\n\n## ä»€ä¹ˆæ˜¯ TISï¼Ÿ\n\nTetrate Istio Subscriptionï¼ˆTISï¼‰æ˜¯ç”± Tetrate æä¾›çš„ä¼ä¸šçº§ã€å…¨é¢æ”¯æŒçš„äº§å“ï¼Œæä¾›äº†ç»è¿‡å…¨é¢æµ‹è¯•ä¸”é€‚ç”¨äºæ‰€æœ‰ä¸»è¦äº‘å¹³å°çš„ Istio ç‰ˆæœ¬ã€‚TIS åŸºäºå¼€æºçš„ Tetrate Istio Distro é¡¹ç›®ï¼Œå¢åŠ äº†å¯¹è¿™äº›æ„å»ºç‰ˆæœ¬çš„å…¨é¢é«˜çº§æ”¯æŒï¼Œå¹¶å¯é€‰æä¾› FIPS éªŒè¯çš„åŠ å¯†æ¨¡å—ã€‚æ­¤å¤–ï¼ŒTIS åŒ…å«ä¸€ç³»åˆ—ç»è¿‡æµ‹è¯•å’Œæ”¯æŒçš„ Add-Ons å’Œ Integrationsï¼Œä½¿å¾— Istio çš„åŠŸèƒ½æ‰©å±•å’Œä¸å¸¸ç”¨åŸºç¡€è®¾æ–½å·¥å…·çš„é›†æˆå˜å¾—ç®€å•å®‰å…¨ã€‚\n\n## ä¸ºä»€ä¹ˆä½¿ç”¨ TISï¼Ÿ\n\nTIS ä¸æ˜¯ Istio çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œè€Œæ˜¯æä¾›é’ˆå¯¹ç‰¹å®šç¯å¢ƒè¿›è¡Œæµ‹è¯•çš„ä¸Šæ¸¸å‘è¡Œç‰ˆã€‚æˆ‘ä»¬å¯¹ Istio æ‰€åšçš„ä»»ä½•å¢å¼ºéƒ½ä¼šåº”ç”¨äºä¸Šæ¸¸ã€‚TIS ä¸æ™®é€šçš„ Istio ç›¸æ¯”æœ‰ä»¥ä¸‹å…³é”®ä¼˜åŠ¿ï¼š\n\n1. **é•¿æœŸæ”¯æŒ**ï¼šTIS æä¾› 14 ä¸ªæœˆçš„å®‰å…¨æ›´æ–°æ”¯æŒï¼Œç¡®ä¿ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚\n2. **å•†ä¸šæ”¯æŒ**ï¼šTIS æœ‰å•†ä¸šæ”¯æŒé€‰é¡¹ï¼Œé€‚ç”¨äºä¼ä¸šç”¨ä¾‹ï¼ŒåŒ…æ‹¬åˆè§„æ€§éœ€æ±‚ã€‚\n3. **æ˜“äºç®¡ç†**ï¼šTIS æä¾›ç®€åŒ–çš„å®‰è£…å’Œç®¡ç†è¿‡ç¨‹ï¼Œå‡å°‘äº†æ“ä½œå¤æ‚æ€§ã€‚\n4. **å¤šç¯å¢ƒé€‚é…**ï¼šTIS æ”¯æŒä¸åŒäº‘ç¯å¢ƒï¼Œæ»¡è¶³å„ç§éƒ¨ç½²éœ€æ±‚ã€‚\n5. **FIPS éªŒè¯**ï¼šæä¾› FIPS éªŒè¯ç‰ˆæœ¬ï¼Œé€‚ç”¨äºé«˜å®‰å…¨æ€§è¦æ±‚çš„åœºæ™¯ã€‚\n\næƒ³è¦äº†è§£ TIS çš„æ›´å¤šä¿¡æ¯è¯·è®¿é—®ï¼š\u003chttps:\/\/docs.tetrate.io\/istio-subscription\/\u003e\n\n## å‡†å¤‡æ¡ä»¶\n\nåœ¨å®‰è£… TIS åŠå…¶æ’ä»¶å‰ï¼Œä½ éœ€è¦å‡†å¤‡ï¼š\n\n- å®‰è£… [Terraform](https:\/\/www.terraform.io\/)ï¼šç”¨äºå¯¼å…¥ Dashboard åˆ° Grafana\n- å‘ Tetrate è¯·æ±‚å®‰è£… TIS æ‰€éœ€çš„ credentials\n\n## å®‰è£… Istio åŠ Monitoring addons\n\né¦–å…ˆä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ TIS æ”¯æŒçš„ Istio ç‰ˆæœ¬ï¼š\n\n\u0060\u0060\u0060bash\nhelm search repo tetratelabs\/base --versions\nNAME            \tCHART VERSION  \tAPP VERSION    \tDESCRIPTION\ntetratelabs\/base\t1.20.1\u002btetrate0\t1.20.1-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.20.0\u002btetrate0\t1.20.0-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.19.5\u002btetrate0\t1.19.5-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.19.4\u002btetrate0\t1.19.4-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.19.3\u002btetrate0\t1.19.3-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.18.6\u002btetrate0\t1.18.6-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.18.5\u002btetrate0\t1.18.5-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.18.3\u002btetrate0\t1.18.3-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.17.8\u002btetrate0\t1.17.8-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.17.6\u002btetrate0\t1.17.6-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.16.7\u002btetrate0\t1.16.7-tetrate0\tHelm chart for deploying Istio cluster resource...\ntetratelabs\/base\t1.16.6\u002btetrate0\t1.16.6-tetrate0\tHelm chart for deploying Istio cluster resource...\n\u0060\u0060\u0060\n\næˆ‘ä»¬å°†å®‰è£…å½“å‰æœ€æ–°çš„ Istio 1.20.1 ç‰ˆæœ¬ã€‚\n\n\u0060\u0060\u0060bash\nexport TIS_USER=\u003ctis_username\u003e\nexport TIS_PASS=\u003ctis-password\u003e\n# Helm chart version\nexport VERSION=1.20.1\u002btetrate0\n# Image tag\nexport TAG=1.20.1-tetrate0\nkubectl create namespace istio-system\n\nkubectl create secret docker-registry tetrate-tis-creds \\\n    --docker-server=\u0022addon-containers.istio.tetratelabs.com\u0022 \\\n    --docker-username=${TIS_USER} \\\n    --docker-password=${TIS_PASS} \\\n    -n istio-system\n\n# Install Istio\nhelm install istio-base tetratelabs\/base -n istio-system \\\n    --set global.tag=${TAG} \\\n    --set global.hub=\u0022addon-containers.istio.tetratelabs.com\u0022 \\\n    --set \u0022global.imagePullSecrets[0]=tetrate-tis-creds\u0022 \\\n    --version ${VERSION}\n\nhelm install istiod tetratelabs\/istiod -n istio-system \\\n    --set global.tag=${TAG} \\\n    --set global.hub=\u0022addon-containers.istio.tetratelabs.com\u0022 \\\n    --set \u0022global.imagePullSecrets[0]=tetrate-tis-creds\u0022 \\\n    --version ${VERSION} \\\n    --wait\n\n# install ingress Gateway\nkubectl create namespace istio-ingress\n\nkubectl create secret docker-registry tetrate-tis-creds \\\n    --docker-server=\u0022addon-containers.istio.tetratelabs.com\u0022 \\\n    --docker-username=${TIS_USER} \\\n    --docker-password=${TIS_PASS} \\\n    -n istio-ingress\n\nhelm install istio-ingress tetratelabs\/istio-ingress -n istio-ingress \\\n    --set global.tag=${TAG} \\\n    --set global.hub=\u0022addon-containers.istio.tetratelabs.com\u0022 \\\n    --set \u0022global.imagePullSecrets[0]=tetrate-tis-creds\u0022 \\\n    --version ${VERSION} \\\n    --wait\n\n# Install TIS addon\nhelm install istio-monitoring-demo tis-addons\/istio-monitoring-demo --namespace tis --create-namespace\n\u0060\u0060\u0060\n\nç«¯å£è½¬å‘ Grafana æœåŠ¡ï¼Œç„¶ååœ¨æœ¬åœ°æµè§ˆå™¨ä¸­æ‰“å¼€ Grafanaï¼šhttp:\/\/localhost:3000\n\n\u0060\u0060\u0060bash\nkubectl port-forward --namespace tis svc\/grafana 3000:3000\n\u0060\u0060\u0060\n\næ³¨æ„ï¼šè¯·ä¿æŒè¯¥å‘½ä»¤æŒç»­è¿è¡Œï¼Œå› ä¸ºæˆ‘ä»¬åœ¨å‘ Grafana å¯¼å…¥ dashboard æ—¶è¿˜éœ€è¦è®¿é—®è¯¥ç«¯å£ã€‚\n\n## å®‰è£… Istio Monitoring Addons\n\nä½¿ç”¨é»˜è®¤çš„ç”¨æˆ·åå¯†ç  \u0060admin\/admin\u0060 ç™»å½•åï¼Œåœ¨å·¦ä¾§å¯¼èˆªæ ä¸­é€‰æ‹© Administration - Service accountsï¼Œå‚è€ƒ Grafana æ–‡æ¡£ä¸Šçš„è¯´æ˜åˆ›å»ºä¸€ä¸ª admin æƒé™çš„ Service accountã€‚\n\n![åœ¨ Grafana ä¸­åˆ›å»ºä¸€ä¸ª Service account](grafana-service-account.jpg)\n\nè®°ä¸‹è¿™ä¸ª Tokenï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢çš„æ“ä½œä¸­ç”¨åˆ°ã€‚\n\nä½¿ç”¨ Terraform å‘ Grafana ä¸­å¯¼å…¥ dashboardï¼š\n\n\u0060\u0060\u0060bash\ncat\u003e~\/.terraformrc\u003c\u003cEOF\ncredentials \u0022terraform.cloudsmith.io\u0022 {\n  token = \u0022tetrate\/tis-containers\/kuhb8CPZhaOiR3v6\u0022\n}\nEOF\n\n# Create a terraform module file\ncat\u003eistio-monitoring-grafana.tf\u003c\u003cEOF\nmodule \u0022istio_monitoring_grafana\u0022 {\n  source = \u0022terraform.cloudsmith.io\/tis-containers\/istio-monitoring-grafana\/tetrate\u0022\n  version = \u0022v0.2.0\u0022\n  gf_url  = \u0022\u003chttp:\/\/localhost:3000\u003e\u0022\n  gf_auth = \u0022\u003cgrafana_token\u003e\u0022\n}\nEOF\n\n# Run the commands\nterraform init\nterraform plan\nterraform apply -auto-approve\n\u0060\u0060\u0060\n\næ­å–œä½ ç°åœ¨å·²ç»æˆåŠŸçš„å‘ Grafana ä¸­å¯¼å…¥äº†ä»¥ä¸‹å››ä¸ª dashboardï¼š\n\n- TIS Workload Dashboard\n- TIS Service Dashboard\n- TIS Wasm Extension Dashboard\n- TIS Control Plan Dashboard\n\nä½†æ˜¯ç°åœ¨æœ‰äº› dashboard è¿˜æ²¡æœ‰æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç½‘æ ¼ä¸­åˆ¶é€ ä¸€äº›æµé‡ã€‚\n\n## æµ‹è¯•ç›‘æ§\n\néƒ¨ç½² Bookinfo åº”ç”¨å’Œå…¥å£ç½‘å…³ï¼š\n\n\u0060\u0060\u0060bash\nkubectl create secret docker-registry tetrate-tis-creds \\\n    --docker-server=\u0022addon-containers.istio.tetratelabs.com\u0022 \\\n    --docker-username=${TIS_USER} \\\n    --docker-password=${TIS_PASS} \\\n    -n default\nkubectl label namespace default istio-injection=enabled\nkubectl apply -f samples\/bookinfo\/platform\/kube\/bookinfo.yaml -n default\nkubectl apply -f samples\/bookinfo\/networking\/bookinfo-gateway.yaml -n default\n\u0060\u0060\u0060\n\nè·å–å…¥å£ç½‘å…³çš„ IP å¹¶å‘é€ä¸€äº›æµé‡ï¼š\n\n\u0060\u0060\u0060bash\nexport GATEWAY_IP=$(kubectl -n istio-ingress get service istio-ingressgateway -o jsonpath=\u0027{.status.loadBalancer.ingress[0].ip}\u0027)\nfor i in $(seq 1 100);do curl http:\/\/$GATEWAY_IP\/productpage ; sleep 3;done\n\u0060\u0060\u0060\n\nç°åœ¨è®¿é—® Grafana dashboardï¼Œä½ å¯ä»¥çœ‹åˆ°ç›‘æ§æ•°æ®äº†ã€‚\n\n![TIS Workload Dashboard](istio-workload-dashboard.jpg)\n\né™¤æ­¤ä¹‹å¤–ï¼Œåœ¨å¯¼å…¥äº†è¿™äº› dashboard çš„åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¯¼å…¥äº†ä»¥ä¸‹è­¦æŠ¥è§„åˆ™ï¼š\n\n![å¯¼å…¥çš„è­¦æŠ¥è§„åˆ™](alerting-rules.jpg)\n\nä½ ä¹Ÿå¯ä»¥åœ¨ Grafana ä¸­å®šä¹‰è­¦æŠ¥è§„åˆ™ï¼Œæ¯”å¦‚[æ•´åˆ Telegram](https:\/\/grafana.com\/blog\/2023\/12\/28\/how-to-integrate-grafana-alerting-and-telegram\/) æˆ– Slack æ¥å‘é€é€šçŸ¥ã€‚\n\n## æ¸…ç†\n\nè¿è¡Œä¸‹é¢çš„å‘½ä»¤æ¸…ç† Bookinfo åº”ç”¨å’Œ TISï¼š\n\n\u0060\u0060\u0060bash\nkubectl delete -f samples\/bookinfo\/platform\/kube\/bookinfo.yaml -n default\nkubectl delete -f samples\/bookinfo\/networking\/bookinfo-gateway.yaml -n default\nhelm uninstall istio-ingress -n istio-ingress\nhelm uninstall istio-monitoring-demo -n tis\nhelm uninstall istiod -n istio-system\nhelm uninstall istio-base -n istio-system\nkubectl delete namespace tis\nkubectl delete namespace istio-ingress\nkubectl delete namespace istio-system\n\u0060\u0060\u0060\n\n## æ€»ç»“\n\né€šè¿‡æ‰§è¡Œè¿™äº›æ­¥éª¤ï¼Œæ‚¨å·²ç»ä½¿ç”¨ TIS æˆåŠŸåœ°åœ¨ Istio ä¸­è®¾ç½®å’Œæµ‹è¯•äº†ç›‘è§†ã€‚åœ¨ Istio ç¯å¢ƒä¸­äº«å—å¢å¼ºç›‘æ§çš„è§è§£å’Œä¼˜åŠ¿ï¼\n', '\/blog\/enhancing-istio-with-tis-comprehensive-installation-and-monitoring-guide\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">åœ¨è¿™ç¯‡åšå®¢ä¸­æˆ‘å°†æŒ‡å¯¼ä½ å¦‚ä½•å®‰è£… TIS å¹¶å¯ç”¨ç›‘æ§æ’ä»¶ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/trans/scaling-and-sizing-the-sidecar/">[è¯‘] Istio Sidecar çš„èµ„æºå’Œæ€§èƒ½ç®¡ç†ï¼šä»ç›‘æ§åˆ°è‡ªåŠ¨æ‰©ç¼©å®¹çš„æœ€ä½³å®è·µ</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2024/01/03</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/istio"> 
             Istio
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fas fa-language"></i>
              <a href="https://karlstoney.com/scaling-and-sizing-the-sidecar/" target="_blank" rel="noopener">åŸæ–‡</a>
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('Istio Sidecar çš„èµ„æºå’Œæ€§èƒ½ç®¡ç†ï¼šä»ç›‘æ§åˆ°è‡ªåŠ¨æ‰©ç¼©å®¹çš„æœ€ä½³å®è·µ', 'è¿™ç¯‡åšå®¢ä»‹ç»äº†ä½œè€…åœ¨ä½¿ç”¨ Istio Sidecar æ—¶ï¼Œå¦‚ä½•é€šè¿‡å¯è§†åŒ–å’Œåˆ†æ Sidecar çš„æ•°æ®ï¼Œä»¥åŠä½¿ç”¨ HPA å’Œ VPA æ¥è‡ªåŠ¨è°ƒæ•´ Sidecar çš„å¤§å°ï¼Œæé«˜åº”ç”¨ç¨‹åºçš„æ•ˆç‡å’Œç¨³å®šæ€§', '\næœ¬æ–‡è®¨è®ºæˆ‘ä»¬å¦‚ä½•åœ¨å·¥ä½œè´Ÿè½½ä¸­æ‰©å±• Istio Sidecarï¼Œä»¥åŠå¦‚ä½•è€ƒè™‘ Sidecar èµ„æºä¸åº”ç”¨ç¨‹åºç´§å¯†è€¦åˆçš„å…³ç³»ã€‚\n\nç›®å‰æœ‰å¾ˆå¤šå…³äº Istio æ–°çš„ [Ambient Mesh](https:\/\/istio.io\/v1.15\/blog\/2022\/introducing-ambient-mesh\/) çš„è®¨è®ºã€‚è¿™ç§éƒ¨ç½²æœåŠ¡ç½‘æ ¼çš„æ–°æ–¹æ³•æ”¾å¼ƒäº† Sidecarï¼Œè€Œé‡‡ç”¨äº†ä¸¤ä¸ªæ–°ç»„ä»¶ï¼Œ\u0060ztunnel\u0060ï¼Œä¸€ä¸ªç”¨äºå¤„ç†æ ¸å¿ƒ L4 ç½‘ç»œé—®é¢˜çš„æ¯èŠ‚ç‚¹ç»„ä»¶ï¼Œä»¥åŠï¼ˆå¦‚æœéœ€è¦ï¼‰\u0060waypoint proxy\u0060 æ¥å¤„ç† L7 é—®é¢˜ã€‚\n\n![](image.jpg)\n\næ¥æºï¼š\u003chttps:\/\/istio.io\/v1.15\/blog\/2022\/introducing-ambient-mesh\u003e\n\næˆ‘å¬åˆ°çš„è¿œç¦» Sidecar çš„ä¸€ä¸ªä¸»è¦åŸå› æ˜¯ï¼Œæ‰©å±• Sidecar å¾ˆå¤æ‚ã€‚å¦‚æœåªä½¿ç”¨ L4 åŠŸèƒ½ï¼Œæˆ‘åŒæ„è¿™ä¸€è§‚ç‚¹ã€‚ç„¶è€Œï¼Œä½œä¸º L7 åŠŸèƒ½çš„é‡åº¦ç”¨æˆ·ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œä¼¼ä¹æˆ‘ä»¬åªæ˜¯åœ¨ç®¡ç† Waypoint ä»£ç†çš„è§„æ¨¡ï¼Œè€Œä¸æ˜¯ Sidecarã€‚å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œä¹Ÿè®¸æœ‰ç‚¹è‡ªç§ï¼Œå®ƒæ„Ÿè§‰åƒæ˜¯ä¸€ä¸ªæ¨ªå‘ï¼ˆå……å…¶é‡ï¼‰çš„æ­¥éª¤ï¼Œè€Œä¸æ˜¯å‰è¿›ã€‚\n\næ­¤å¤–ï¼Œæˆ‘å¹¶ä¸è§‰å¾—ç®¡ç† Sidecar èµ„æºå¾ˆç—›è‹¦ï¼Œæ‰€ä»¥æˆ‘å¾ˆéš¾äº§ç”Ÿå…±é¸£ã€‚è¿™éƒ¨åˆ†æ˜¯å› ä¸ºæˆ‘ä»æ—©æœŸå°±å¼€å§‹ä½¿ç”¨ Istioï¼Œå¹¶å»ºç«‹äº†æœ‰åŠ©äºè¿™ä¸€è¿‡ç¨‹çš„å·¥å…·å’Œæµç¨‹ã€‚æˆ‘æ„è¯†åˆ°æˆ‘ä»æœªçœŸæ­£åˆ†äº«è¿‡å…³äºæˆ‘ä»¬å¦‚ä½•ç®¡ç†è¿™ä¸€è¿‡ç¨‹çš„ä¿¡æ¯ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œåˆ†äº«ä¸€ä¸‹ã€‚\n\n### ä¸€äº›èƒŒæ™¯\n\nèƒŒæ™¯å¾ˆé‡è¦ï¼Œä½ å¦‚ä½•æ€è€ƒç›‘æ§å’Œä¼¸ç¼©å°†å–å†³äºä½ å¦‚ä½•æ„å»ºä½ çš„ Kubernetes è®¾ç½®ï¼Œä»¥åŠä½ çš„ç»„ç»‡ç»“æ„ã€‚ä¹Ÿæ²¡æœ‰ä¸€ç§å¤§å°é€‚åˆæ‰€æœ‰æƒ…å†µï¼Œè¿™åªæ˜¯å¯¹æˆ‘ä»¬æœ‰æ•ˆçš„æ–¹æ³•ã€‚å› æ­¤æˆ‘ç›¸ä¿¡ Ambient æ¨¡å¼å°†å‡å°‘æŸäº› Operator çš„å¤æ‚æ€§ï¼Œä½†å¯èƒ½ä¼šå¢åŠ å…¶ä»– Operator çš„å¤æ‚æ€§ï¼ˆæˆ‘æ‰¿è®¤ï¼Œè¿™å¯èƒ½æ˜¯å°‘æ•°æƒ…å†µï¼‰ã€‚\n\næˆ‘ä»¬è¿è¡Œå¤§çº¦ 700 ä¸ªä¸ªåˆ«æœåŠ¡ï¼ˆâ€œå·¥ä½œè´Ÿè½½â€ï¼‰ã€‚æ¯ä¸ªæœåŠ¡éƒ½æœ‰ï¼š\n\n- åœ¨è‡ªå·±çš„ \u0060Namespace\u0060 ä¸­è¿è¡Œ\n- ä½¿ç”¨è‡ªå·±çš„ \u0060Service Account\u0060\n- æ‹¥æœ‰è‡ªå·±çš„ \u0060Service\u0060\n- ç”±è‡ªå·±çš„éš”ç¦» CI\/CD æµæ°´çº¿éƒ¨ç½²\n- ä» Istio å’Œç½‘ç»œç­–ç•¥çš„è§’åº¦æ¥çœ‹ï¼Œéƒ½åœ¨é»˜è®¤æ‹’ç»çš„è®¾ç½®ä¸­è¿è¡Œ\n\n![](workload.png)\n\nå¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œå‘½åç©ºé—´æ˜¯å·¥ä½œè´Ÿè½½çš„è¾¹ç•Œï¼Œè¿™æ˜¯ä¸€ç§ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œè€Œä¸”æ˜¯ä¸€æ¡åšå†³çš„è§„åˆ™ã€‚å› æ­¤ï¼Œæˆ‘ç›¸ä¿¡æˆ‘ä»¬ä¹Ÿä¼šä¸ºæ¯ä¸ªå‘½åç©ºé—´åˆ›å»ºä¸€ä¸ª waypoint ä»£ç†ã€‚æˆ‘ä»¬ä¸ä¼šåœ¨å¤šä¸ªå·¥ä½œè´Ÿè½½ä¹‹é—´å…±äº« waypoint ä»£ç†ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´è€¦åˆï¼ˆé£é™©\/å†²å‡»èŒƒå›´ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ç±»ä¼¼äºè¿™æ ·çš„ç»“æœï¼š\n\n![](waypoint.png)\n\nä¸å…¶æ‰©å±• \u0060Sidecar\u0060ï¼Œæˆ‘ä»¬å°†æ‰©å±• \u0060Waypoint\u0060 - è¿™å°±æ˜¯æˆ‘æ‰€è¯´çš„å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œæ˜¯æ¨ªå‘çš„ã€‚æˆ‘ä»¬ä»ç„¶éœ€è¦è€ƒè™‘æŸç§è§„æ¨¡çš„é—®é¢˜ã€‚\n\n### å¯è§‚æµ‹æ€§ï¼šåªæ˜¯å¦ä¸€ä¸ªå®¹å™¨\n\nè¿™åŸºæœ¬ä¸Šæ€»ç»“äº†æˆ‘å¯¹ Sidecar çš„çœ‹æ³•ã€‚å®ƒåªæ˜¯ä½ çš„å·¥ä½œè´Ÿè½½ä¸­çš„å¦ä¸€ä¸ªå®¹å™¨ã€‚ä¸ºäº†[æœ‰æ•ˆç®¡ç†](https:\/\/karlstoney.com\/managing-your-costs-on-kubernetes\/)æˆæœ¬ï¼ˆ\u0022åˆé€‚å¤§å°\u0022ï¼‰ï¼Œä½ åº”è¯¥å·²ç»åœ¨ç›‘æ§ä½ çš„å·¥ä½œè´Ÿè½½æ—¶ç›‘æ§å…³é”®æŒ‡æ ‡ï¼Œè¿™äº›æŒ‡æ ‡è‡ªç„¶æ‰©å±•åˆ°æ¶µç›– \u0060istio-proxy\u0060ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œè¿™äº›æŒ‡æ ‡åŒ…æ‹¬ï¼š\n\n- CPU å’Œå†…å­˜ **è¯·æ±‚**ï¼ˆä¾‹å¦‚ \u0060kube_pod_container_resource_requests\u0060ï¼‰\n- CPU å’Œå†…å­˜ **ä½¿ç”¨**ï¼ˆä¾‹å¦‚ \u0060container_memory_working_set_bytes\u0060ï¼‰\n- CPU å’Œå†…å­˜ **è®¡ç®—åˆ©ç”¨ç‡**ï¼ˆUsage \/ Requestsï¼‰ã€‚\n\næš‚æ—¶å¿½ç•¥ Istioï¼Œå¦‚æœä½ æ²¡æœ‰åšä¸Šè¿°æ“ä½œï¼Œé‚£ä¹ˆä½ åº”è¯¥å¼€å§‹åšã€‚ä¸ºäº†å¸®åŠ©ä½ ï¼Œè¿™æ˜¯æˆ‘ç”¨äº CPU è®¡ç®—åˆ©ç”¨ç‡çš„æŒ‡æ ‡ï¼š\n\n\u0060\u0060\u0060yaml\n - record: \u0022container_cpu_usage_against_request:pod:rate1m\u0022\n   expr: |\n    (   \n      count(kube_pod_container_resource_requests{resource=\u0022cpu\u0022, container!=\u0022\u0022}) by (container, pod, namespace)\n      *   \n      avg(\n        irate(\n          container_cpu_usage_seconds_total{container!=\u0022\u0022}[1m]\n        )   \n      ) by (container, pod, namespace)\n    )   \n    \/   \n    avg(\n      avg_over_time(\n        kube_pod_container_resource_requests{resource=\u0022cpu\u0022, container!=\u0022\u0022}[1m]\n      )   \n    ) by (container, pod, namespace) * 100 \n    *   \n    on(pod) group_left(workload) (\n      avg by (pod, workload) (\n        label_replace(kube_pod_info{created_by_kind=~\u0022ReplicaSet|Job\u0022}, \u0022workload\u0022, \u0022$1\u0022, \u0022created_by_name\u0022, \u0022^(.*)-([^-]\u002b)$\u0022)\n        or  \n        label_replace(kube_pod_info{created_by_kind=~\u0022DaemonSet|StatefulSet\u0022}, \u0022workload\u0022, \u0022$1\u0022, \u0022created_by_name\u0022, \u0022(.*)\u0022)\n        or  \n        label_replace(kube_pod_info{created_by_kind=\u0022Node\u0022}, \u0022workload\u0022, \u0022node\u0022, \u0022\u0022, \u0022\u0022) \n        or  \n        label_replace(kube_pod_info{created_by_kind=\u0022\u0022}, \u0022workload\u0022, \u0022none\u0022, \u0022\u0022, \u0022\u0022) \n      )   \n    )\n\u0060\u0060\u0060\n\nä½ ä¼šæ³¨æ„åˆ°åœ¨è¿™ä¸ªæŒ‡æ ‡ä¸­ï¼Œæˆ‘è¿˜ä¸ \u0060kube_pod_info\u0060 è¿›è¡Œäº†å…³è”ï¼Œè¿™ä¸ºæˆ‘çš„æŒ‡æ ‡æä¾›äº†ä¸€äº›é¢å¤–çš„ç»´åº¦ï¼Œç‰¹åˆ«æ˜¯ \u0060workload\u0060ã€‚è¿™ä»…åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªéƒ¨ç½²ä¸ä¸€ä¸ªå‘½åç©ºé—´ç›¸å¯¹åº”ï¼Œç­‰äºä¸€ä¸ªå·¥ä½œè´Ÿè½½çš„å…³ç³»æ—¶æ‰æœ‰æ•ˆã€‚è¿™æ˜¯å¯é€‰çš„ï¼Œåªæ˜¯å¸®åŠ©æˆ‘åœ¨å„ä¸ªçº§åˆ«æŸ¥çœ‹è¿™ä¸ªæŒ‡æ ‡ï¼ŒåŒ…æ‹¬ \u0060container\u0060ã€\u0060pod\u0060ã€\u0060node\u0060 æˆ– \u0060workload\u0060ã€‚è¿™æ ·åšå°†è‡ªç„¶åœ°ä¸ºä½ çš„æ‰€æœ‰å®¹å™¨æä¾›æ•°æ®ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬ä½ çš„ Sidecarï¼š\n\n![](Screenshot-2023-10-03-at-08.33.17.jpg)\n\n### Sidecar ä¸å·¥ä½œè´Ÿè½½ä¸€èµ·æ‰©å±•\n\nå¯¹äº HTTP å·¥ä½œè´Ÿè½½ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ° Sidecar çš„æ‰©å±•æ–¹å¼ä¸åº•å±‚åº”ç”¨ç¨‹åºéå¸¸ç›¸ä¼¼ã€‚ä½ å¯ä»¥åœ¨ä¸Šé¢çš„æˆªå›¾ä¸­çœ‹åˆ° \u0060istio-proxy\u0060 å®¹å™¨çš„ \u0022è®¡ç®—åˆ©ç”¨ç‡\u0022 å¦‚ä½•ç´§å¯†è·Ÿéš \u0060master\u0060 å®¹å™¨ã€‚\n\nè¿™å°±æ˜¯æˆ‘çœŸæ­£å–œæ¬¢ Sidecar æ¨¡å¼çš„åœ°æ–¹ã€‚ä½ çš„ Sidecar åˆ©ç”¨ç‡ä¸ä½ çš„å·¥ä½œè´Ÿè½½åˆ©ç”¨ç‡ç´§å¯†è€¦åˆï¼Œè€Œå·¥ä½œè´Ÿè½½åˆ©ç”¨ç‡ä¸å·¥ä½œè´Ÿè½½çš„å‰¯æœ¬æ•°é‡ç´§å¯†è€¦åˆã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ°´å¹³æ‰©å±•å·¥ä½œè´Ÿè½½ï¼Œåˆ©ç”¨ç‡å°†ä¿æŒå¤§è‡´ç›¸åŒã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥çœ‹åˆ° \u0060master\u0060 å®¹å™¨çš„åˆ©ç”¨ç‡å³°å€¼ä¸º 75%ï¼Œè€Œ \u0060istio-proxy\u0060 çš„åˆ©ç”¨ç‡ä¸º 60%ï¼Œå¦‚æœæˆ‘ä»¬å°†å‰¯æœ¬æ•°é‡åŠ å€ï¼Œè¿™ä¸¤ä¸ªå€¼ä¼šæ¾æ•£å‡åŠï¼Œä½†ä¿æŒå¤§è‡´ä¸€è‡´ã€‚æˆ‘ä»¬åªæ˜¯æ°´å¹³æ‰©å±•ä¸€ä¸ª \u0060Deployment\u0060 å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªã€‚æˆ‘ä»¬è®¤ä¸ºè¿™æ›´å®¹æ˜“ç†è§£ã€‚\n\næˆ‘ä»¬å‘åº”ç”¨ç¨‹åºæ‰€æœ‰è€…æä¾›çš„æŒ‡å¯¼æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›åˆ©ç”¨ç‡åœ¨å³°å€¼æ—¶ä¿æŒåœ¨ 75% å·¦å³ã€‚åœ¨è¿™é‡Œï¼Œäººä»¬è‡ªç„¶ä¼šé—®ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ä½¿ç”¨è‡ªåŠ¨æ‰©å±•ã€‚è‡ªåŠ¨æ‰©å±•ä¾èµ–äºåº•å±‚äº‘æä¾›å•†æä¾›çš„è®¡ç®—èµ„æºã€‚æˆ‘ä»¬æ›¾ç»é‡åˆ°è¿‡å¤šæ¬¡å½±å“å®¢æˆ·çš„äº‹ä»¶ï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•æŒ‰éœ€æ‰©å±•ï¼ŒåŸå› æ˜¯åº•å±‚äº‘æä¾›å•†çš„å®¹é‡å­˜åœ¨é—®é¢˜ã€‚æ­¤å¤–ï¼Œè‡ªåŠ¨æ‰©å±•ä¼šå¸¦æ¥å»¶è¿Ÿï¼Œå¾ˆéš¾å¯¹çªç„¶çš„è´Ÿè½½æ€¥å‰§å¢åŠ åšå‡ºå“åº”ï¼Œå› æ­¤å®ƒåªå¯¹å…·æœ‰æ˜æ˜¾é€æ¸å­£èŠ‚æ€§çš„å·¥ä½œè´Ÿè½½æœ‰æ•ˆï¼Œå°±åƒä¸Šé¢çš„å·¥ä½œè´Ÿè½½ä¸€æ ·ã€‚æˆ‘ä»¬è®¤ä¸ºä¸è‡ªåŠ¨æ‰©å±•ç›¸å…³çš„æˆæœ¬èŠ‚çœä¸å€¼å¾—ä¸ä¸èƒ½å¯¹éœ€æ±‚åšå‡ºååº”çš„é£é™©ç›¸åŒ¹é…ï¼Œå› æ­¤æˆ‘ä»¬ä¼šç•¥å¾®è¿‡åº¦é…ç½®æˆ‘ä»¬çš„å·¥ä½œè´Ÿè½½ï¼ˆå› æ­¤æ˜¯ 75%ï¼‰ã€‚\n\nä½†æ˜¯ï¼Œå¦‚æœä½ å¯¹è‡ªåŠ¨æ‰©å±•æ„Ÿåˆ°æ»¡æ„ï¼Œä½ å¯ä»¥åœ¨è‡ªåŠ¨æ‰©å±•é…ç½®ä¸­è®¾ç½®ç›®æ ‡ CPUï¼Œç„¶åå°±å¯ä»¥äº†ã€‚ä½ æœ‰ä¸€ä¸ªå·¥ä½œè´Ÿè½½ï¼Œä»¥åŠä¸€ä¸ªä¸ä¹‹ç´§å¯†ç›¸å…³çš„ Sidecarï¼Œå®ƒä»¬ä¸€èµ·æ‰©å±•ã€‚\n\nè¿™å°±æ˜¯æˆ‘å¯¹ Waypoint çš„çœ‹æ³•ã€‚å› ä¸ºåœ¨æˆ‘ä»¬çš„è®¾ç½®ä¸­ï¼Œæˆ‘ä»¬æ¯ä¸ªå·¥ä½œè´Ÿè½½éƒ½æœ‰ä¸€ä¸ª waypoint ä»£ç†ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸¤ä¸ªéœ€è¦ä»¥ä¸åŒæ–¹å¼ä½†åŒæ­¥æ‰©å±•çš„ç‹¬ç«‹éƒ¨ç½²ï¼Œè¿™å°†è§£è€¦äº†æˆ‘ä»¬è‡ªèº«æœ‰æ„å…³è”çš„ä¸œè¥¿ã€‚\n\n### è®¾ç½®æ­£ç¡®çš„ CPU å’Œå†…å­˜å€¼\n\nåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æœ‰ä¸€ä¸ªç›¸å¯¹å¥åº·çš„å·¥ä½œè´Ÿè½½ã€‚\u0060istio-proxy\u0060 å®¹å™¨è¢«åˆ†é…äº†é€‚åˆå·¥ä½œè´Ÿè½½é…ç½®æ–‡ä»¶çš„ \u0060CPU\u0060 é‡ï¼Œå…è®¸å…¶åˆ©ç”¨ç‡ç´§å¯†è·Ÿè¸ªåº•å±‚åº”ç”¨ç¨‹åºçš„åˆ©ç”¨ç‡ã€‚ç»éªŒå‘Šè¯‰æˆ‘ï¼Œä¸€æ—¦ä½ å°†è¿™ä¸¤è€…å¯¹é½ï¼Œå®ƒä»¬å°±ä¸ä¼šæ¾æ•£å¯¹é½ã€‚å®ƒä»¬ä¼šæ¼‚ç§»çš„å”¯ä¸€æ—¶é—´æ˜¯å¦‚æœä»»ä¸€å®¹å™¨çš„æ€§èƒ½é…ç½®å‘ç”Ÿäº†æ˜¾è‘—å˜åŒ–ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœå¼€å‘äººå‘˜å°†åº”ç”¨ç¨‹åºæ€§èƒ½æé«˜äº† 2 å€ï¼Œåˆ™ \u0060master\u0060 çš„åˆ©ç”¨ç‡ä¼šä¸‹é™ï¼‰ã€‚\n\nåœ¨ AutoTraderï¼Œæˆ‘ä»¬çš„å¹³å°å›¢é˜Ÿè´Ÿè´£æ„å»ºâ€œäº¤ä»˜å¹³å°â€ï¼Œå¼€å‘äººå‘˜å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°å…¶ä¸­ï¼Œä½†åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜è´Ÿè´£ç¡®å®šå…¶å·¥ä½œè´Ÿè½½çš„å¤§å°ï¼ˆCPU å’Œ RAMï¼‰ã€‚å¹³å°å›¢é˜Ÿæ„å»ºäº†å¸®åŠ©ä»–ä»¬åšå‡ºæ˜æ™ºå†³ç­–çš„å·¥å…·ï¼Œæ¶‰åŠè¿™äº›å€¼ã€‚\n\nè¿™æ„å‘³ç€ç®€å•çš„æŠ½è±¡ã€‚æˆ‘ä»¬ä¸è®©å¼€å‘äººå‘˜ç¼–å†™ 100 ä¸ª Kubernetes æ¸…å•æ¥éƒ¨ç½²å·¥ä½œè´Ÿè½½ã€‚ä»–ä»¬ä¸éœ€è¦å…³å¿ƒ Istio \u0060VirtualServices\u0060ã€\u0060Sidecars\u0060ã€Kubernetes \u0060Deployments\u0060 æˆ–è®°ä½åœ¨å“ªé‡Œæ”¾ç½®æ³¨é‡Šä»¥æ­£ç¡®è®¾ç½® Sidecar çš„è§„æ¨¡ã€‚ç›¸åï¼Œæˆ‘ä»¬è¦æ±‚åœ¨ä»–ä»¬çš„å­˜å‚¨åº“ä¸­æä¾›ä¸€ä¸ª yaml æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š\n\n\u0060\u0060\u0060yaml\ndeployment:\n  istio:\n    resources:\n      cpu: 500m\n      memory: 80Mi\n  container:\n    replicas: 6\n    resources:\n      cpu: 1000m\n      memory: 956Mi\n\u0060\u0060\u0060\n\nå› æ­¤ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼ŒæœåŠ¡çš„æ‰€æœ‰è€…è´Ÿè´£è®¾ç½®å…¶ \u0060master\u0060 å®¹å™¨å’Œå…¶ \u0060istio-proxy\u0060 çš„èµ„æºã€‚æˆ‘ä»¬çš„è´£ä»»æ˜¯æ„å»ºå·¥å…·ï¼Œå¸®åŠ©ä»–ä»¬åœ¨é€‰æ‹©è¿™äº›å€¼æ—¶åšå‡ºæ˜æ™ºå†³ç­–ã€‚\n\nä½ å·²ç»çœ‹åˆ°äº†æˆ‘ä»¬å¦‚ä½•åœ¨ä¸Šé¢çš„ Grafana ä»ªè¡¨æ¿ä¸­ä½¿ç”¨ \u0022Utilisation\u0022 ç­‰æŒ‡æ ‡æ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æˆ‘ä»¬è¿˜åšäº†ä¸€äº›ç§°ä¸º \u0022å»ºè®®\u0022 çš„äº‹æƒ…ã€‚è¿™äº›æ˜¯æˆ‘ä»¬å‘åº”ç”¨ç¨‹åºæ‰€æœ‰è€…æä¾›çš„æœ‰å…³ä¼˜åŒ–é…ç½®å…¶æœåŠ¡çš„æç¤ºï¼š\n\n![](Screenshot-2023-10-03-at-09.19.52.jpg)\n\nå› æ­¤ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º \u0060ProxyMasterImbalance\u0060 çš„å»ºè®®ã€‚å¦‚æœæˆ‘ä»¬æ£€æµ‹åˆ°ç»™å®šå·¥ä½œè´Ÿè½½å†…çš„ \u0060master\u0060 å’Œ \u0060istio-proxy\u0060 å®¹å™¨ä¹‹é—´çš„æ¼‚ç§»è¶…è¿‡ 30%ï¼Œåˆ™æ­¤å»ºè®®å°†å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚ä»¥ä¸‹æ˜¯æ­¤å»ºè®®è§¦å‘çš„ç¤ºä¾‹ï¼š\n\n![](Screenshot-2023-10-03-at-09.44.09.png)\n\n### æ€»ç»“\n\nå¸Œæœ›ä½ å¯ä»¥çœ‹åˆ°åœ¨å¤§å°è°ƒæ•´ Sidecar æ–¹é¢ï¼Œå®ƒå¦‚ä½•å¯ä»¥è½»æ¾åœ°èå…¥åˆ°ä½ ç°æœ‰çš„ç”¨äºå¤§å°è°ƒæ•´å·¥ä½œè´Ÿè½½çš„ä¸šåŠ¡æµç¨‹ä¸­ã€‚æ— è®ºå¦‚ä½•ï¼Œä½ éƒ½åº”è¯¥è¿™æ ·åšï¼Œä»¥ä¿æŒä½ çš„åŸºç¡€æ¶æ„çš„å¥åº·åˆ©ç”¨ç‡ã€‚\n\næˆ‘ä»¬å·²ç»å»ºç«‹äº†ä¸€ç§æ–‡åŒ–ï¼Œå°ç»„å…³å¿ƒå¹¶æ‹¥æœ‰ä»–ä»¬çš„è½¯ä»¶åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œï¼Œå…¶ä¸­åŒ…æ‹¬å…³é”®çš„ CFRï¼ˆæˆæœ¬ï¼‰ï¼Œä»–ä»¬çŸ¥é“é€šè¿‡æŒæ¡è¿™äº›äº‹ç‰©ï¼Œä»–ä»¬æ­£åœ¨ä¸ºæ›´å¤§çš„ç›®æ ‡åšå‡ºè´¡çŒ®ï¼Œæ€»ä½“è€Œè¨€ï¼Œä»–ä»¬åšåˆ°äº†ã€‚è‡³å…³é‡è¦çš„æ˜¯ï¼Œä»–ä»¬å·²ç»å…³å¿ƒä»–ä»¬çš„ \u0060master\u0060 å®¹å™¨åˆ©ç”¨ç‡ï¼Œå› æ­¤ \u0060istio-proxy\u0060 åªæ˜¯ä»–ä»¬éœ€è¦è®¾ç½® 2 ä¸ªå€¼ï¼ˆCPU\/å†…å­˜ï¼‰çš„å¦ä¸€ä¸ªå®¹å™¨ï¼Œæˆ‘ä»¬æä¾›äº†ä½¿å…¶å°½å¯èƒ½å®¹æ˜“çš„æ•°æ®ï¼Œè€Œåœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ - è¿™åªæ˜¯ä½ éœ€è¦è°ƒæ•´ä¸€æ¬¡çš„äº‹æƒ…ã€‚\n\næˆ‘è¿˜æƒ³æŒ‡å‡ºï¼Œè¿™ç¯‡æ–‡ç« ä¸“é—¨æ€è€ƒäº†è§„æ¨¡çš„é—®é¢˜ã€‚å°†ä»£ç†ä¸åº”ç”¨ç¨‹åºåˆ†ç¦»å‡ºæ¥è¿˜å­˜åœ¨å…¶ä»–æ½œåœ¨ä¼˜åŠ¿ï¼ˆä¾‹å¦‚éš”ç¦»å‡çº§ï¼‰ã€‚ä¸è¿‡å†æ¬¡å¼ºè°ƒï¼Œæˆ‘ä¸ªäººè®¤ä¸ºè¿™æœ‰åˆ©æœ‰å¼Šï¼ˆå°±åƒæŠ€æœ¯ä¸­çš„å¤§å¤šæ•°å†³ç­–ä¸€æ ·ï¼‰ï¼Œä½†è¿™æ˜¯å¦ä¸€å¤©çš„åšå®¢æ–‡ç« ã€‚\n', '\/trans\/scaling-and-sizing-the-sidecar\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">è¿™ç¯‡åšå®¢ä»‹ç»äº†ä½œè€…åœ¨ä½¿ç”¨ Istio Sidecar æ—¶ï¼Œå¦‚ä½•é€šè¿‡å¯è§†åŒ–å’Œåˆ†æ Sidecar çš„æ•°æ®ï¼Œä»¥åŠä½¿ç”¨ HPA å’Œ VPA æ¥è‡ªåŠ¨è°ƒæ•´ Sidecar çš„å¤§å°ï¼Œæé«˜åº”ç”¨ç¨‹åºçš„æ•ˆç‡å’Œç¨³å®šæ€§</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/trans/opentelemetry-and-observability-looking-forward/">[è¯‘] OpenTelemetry ä¸å¯è§‚æµ‹æ€§ï¼šå±•æœ›æœªæ¥</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2024/01/02</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%8f%af%e8%a7%82%e6%b5%8b%e6%80%a7"> 
             å¯è§‚æµ‹æ€§
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fas fa-language"></i>
              <a href="https://thenewstack.io/opentelemetry-and-observability-looking-forward/" target="_blank" rel="noopener">åŸæ–‡</a>
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('OpenTelemetry ä¸å¯è§‚æµ‹æ€§ï¼šå±•æœ›æœªæ¥', 'æœ¬æ–‡å±•æœ› 2024 å¹´å¯è§‚æµ‹æ€§çš„å‘å±•ã€‚', '\nè®©æˆ‘ä»¬æ¢è®¨ä¸€äº›ä»¤äººå…´å¥‹çš„è¶‹åŠ¿ï¼Œè€ƒè™‘åˆ°æˆ‘ä»¬æœŸå¾… 2024 å¹´ä¼šæœ‰ä»€ä¹ˆæ ·çš„å¯è§‚æµ‹æ€§å‘å±•ã€‚\n\néšç€å¹´åº•çš„ä¸´è¿‘ï¼Œç°åœ¨æ˜¯ä¸€ä¸ªåœä¸‹æ¥æ€è€ƒçš„å¥½æ—¶æœºã€‚2023 å¹´å¯¹äº OpenTelemetry æ¥è¯´æ˜¯ä¸€ä¸ªé‡Œç¨‹ç¢‘ï¼Œå› ä¸ºå…¶ä¸‰ä¸ªåŸºæœ¬ä¿¡å·ï¼Œè·Ÿè¸ªã€åº¦é‡å’Œæ—¥å¿—ï¼Œéƒ½è¾¾åˆ°äº†ç¨³å®šç‰ˆæœ¬ã€‚è¿™ä¸€æˆå°±æ ‡å¿—ç€[OpenTelemetry](https:\/\/thenewstack.io\/opentelemetry-gaining-traction-from-companies-and-vendors\/)æœ€åˆæ„¿æ™¯çš„å®ç°ï¼Œå³æä¾›ä¸€ä¸ªåŸºäºæ ‡å‡†çš„æ¡†æ¶ï¼Œç”¨äºä»ªå™¨åŒ–å’Œæ”¶é›†å¯è§‚æµ‹æ€§æ•°æ®ã€‚\n\nè®©æˆ‘ä»¬æŠ“ä½è¿™ä¸ªæœºä¼šï¼Œæ¢è®¨ä¸€ä¸‹æˆ‘ä»¬æ‰€è§è¯çš„ä¸€äº›ä»¤äººå…´å¥‹çš„è¶‹åŠ¿ï¼Œæ·±å…¥ç ”ç©¶åˆ›æ–°çš„äº§å“å’Œç”¨ä¾‹ï¼Œå¹¶åœ¨æœŸå¾… 2024 å¹´çš„åˆ°æ¥æ—¶æ·±æ€ç†Ÿè™‘åœ°è€ƒè™‘å¯è§‚æµ‹æ€§çš„ä¸æ–­æ¼”å˜ã€‚\n\n## åº¦é‡æ ‡å‡†çš„å´­éœ²å¤´è§’\n\nå°½ç®¡ OpenTelemetry å…³äºåº¦é‡çš„è§„èŒƒåœ¨ 2022 å¹´ 5 æœˆè¢«å®£å¸ƒä¸ºç¨³å®šç‰ˆæœ¬ï¼Œä½†ä»Šå¹´çœ‹åˆ°äº†å…¶è¢«å¹¿æ³›é‡‡ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä»ä¸šè€…çš„æ–‡ç« ï¼š\n\n- ç”± VMware çš„ Matthew Kocher å’Œ Carson Long æ’°å†™çš„æ–‡ç« ï¼Œæ ‡é¢˜ä¸ºâ€œ[ä½“éªŒæŠ¥å‘Šï¼šåœ¨ Cloud Foundry ä¸­é‡‡ç”¨ OpenTelemetry è¿›è¡Œåº¦é‡](https:\/\/opentelemetry.io\/blog\/2023\/cloud-foundry\/)â€ã€‚\n- æˆ‘ä»¬è‡ªå·±çš„ Matheus Nogueira æ’°å†™çš„æ–‡ç« ï¼Œæ ‡é¢˜ä¸ºâ€œ[åœ¨ä½ çš„ Go åº”ç”¨ç¨‹åºä¸­æ·»åŠ  OpenTelemetry åº¦é‡](https:\/\/tracetest.io\/blog\/adding-opentelemetry-metrics-in-your-go-app)â€ã€‚\n\nå±•æœ› 2024 å¹´ï¼Œå¯ä»¥é¢„æœŸä¼šçœ‹åˆ°ç±»ä¼¼çš„æ—¥å¿—è¿åŠ¨å’Œé‡‡ç”¨ã€‚\n\n## å…³æ³¨åœ¨è´Ÿè½½æµ‹è¯•ä¸­ä½¿ç”¨åˆ†å¸ƒå¼è·Ÿè¸ª\n\n2023 å¹´ï¼Œä¸¤ä¸ªé¢†å…ˆçš„è´Ÿè½½æµ‹è¯•å·¥å…·ï¼Œ[Grafana k6](https:\/\/k6.io\/)å’Œ[Artillery.io](https:\/\/artillery.io\/)ï¼Œéƒ½æ·»åŠ äº†å¯¹ OpenTelemetry çš„æ”¯æŒã€‚\n\n- Grafana k6 [å¼•å…¥äº†è·Ÿè¸ª](https:\/\/github.com\/grafana\/xk6-distributed-tracing)åŠŸèƒ½ï¼Œä½¿æ€§èƒ½å·¥ç¨‹å¸ˆèƒ½å¤Ÿåœ¨[è´Ÿè½½æµ‹è¯•](https:\/\/thenewstack.io\/trace-based-testing-the-next-step-in-observability\/)æœŸé—´è¯†åˆ«ç³»ç»Ÿç“¶é¢ˆæˆ–æ•…éšœã€‚\n- Artillery.io éšåä¹Ÿ[æ·»åŠ äº†åº¦é‡å’Œåˆ†å¸ƒå¼è·Ÿè¸ª](https:\/\/www.artillery.io\/blog\/introducing-opentelemetry-support)ï¼Œæä¾›äº†å¯¹ç³»ç»Ÿæ€§èƒ½æ›´è¯¦ç»†çš„åˆ†æã€‚\n\nTracetest åˆ©ç”¨äº† k6 æµ‹è¯•ä¸­æš´éœ²çš„åŠŸèƒ½ï¼Œä»¥[å¯ç”¨åŸºäºè·Ÿè¸ªçš„è´Ÿè½½æµ‹è¯•](https:\/\/docs.tracetest.io\/tools-and-integrations\/k6)ï¼Œåœ¨è¿è¡Œæµ‹è¯•æ—¶è¿›è¡Œæ·±å…¥çš„æ–­è¨€ã€‚æˆ‘ä»¬å·²ç»çœ‹åˆ°è®¸å¤šå®¢æˆ·å¹¿æ³›ä½¿ç”¨äº†è¿™ä¸ªåŠŸèƒ½ï¼Œæ¯”å¦‚[Sigma Software](https:\/\/tracetest.io\/case-studies\/how-sigma-software-built-load-testing-for-their-microservices-with-k6-tracetest)ã€‚åœ¨ 2024 å¹´ï¼ŒTracetest å›¢é˜Ÿå°†è€ƒè™‘å°†è¿™ä¸€èƒ½åŠ›æ·»åŠ åˆ°[Artillery.io](http:\/\/artillery.io\/)å’Œå…¶ä»–è´Ÿè½½æµ‹è¯•å·¥å…·ä¸­ã€‚\n\n## OpenTelemetry çš„æ”¯æŒå’Œç”¨ä¾‹æ‰©å±•\n\nè¶Šæ¥è¶Šå¤šçš„ä¾›åº”å•†æ­£åœ¨é‡‡ç”¨ OpenTelemetry æ ‡å‡†ï¼Œä»¥æ”¯æŒå…¸å‹ä½†éå¸¸é‡è¦çš„é¥æµ‹æ•°æ®åˆ†æä¹‹å¤–çš„è¡ŒåŠ¨ã€‚\n\n- ä¸€äº›å…¬å¸ï¼Œæ¯”å¦‚[Tyk æ­£åœ¨ä»ªå™¨åŒ–å…¶ API ç½‘å…³ï¼Œä»¥åŸç”Ÿæ”¯æŒ OpenTelemetry](https:\/\/opentelemetry.io\/blog\/2023\/tyk-api-gateway\/)ã€‚\n- ç»ˆç«¯ç”¨æˆ·æ­£åœ¨å‘ç° OpenTelemetry çš„æ–°ç”¨ä¾‹ï¼Œæ¯”å¦‚[ä½¿ç”¨åˆ†å¸ƒå¼è·Ÿè¸ªæ¥è§‚å¯Ÿä½ çš„ CI\/CD æµæ°´çº¿](https:\/\/thenewstack.io\/how-to-observe-your-ci-cd-pipelines-with-opentelemetry\/)ã€‚\n- [Tracetest](https:\/\/tracetest.io\/)åˆ©ç”¨åˆ†å¸ƒå¼è·Ÿè¸ªæ•°æ®è¿›è¡Œé›†æˆå’Œç«¯åˆ°ç«¯æµ‹è¯•ã€‚\n\n## å¼ºè°ƒ OpenTelemetry æ”¶é›†å™¨\n\n[OpenTelemetry æ”¶é›†å™¨](https:\/\/thenewstack.io\/how-adobe-uses-opentelemetry-collector\/)ä½äº OpenTelemetry ä¸–ç•Œçš„ä¸­å¿ƒï¼Œæ¥æ”¶æ¥è‡ªåº”ç”¨ç¨‹åºçš„ä¿¡å·ï¼Œå¤„ç†å’Œè½¬æ¢è¿™äº›ä¿¡å·ï¼Œç„¶åå°†å®ƒä»¬å¯¼å‡ºåˆ°ä»»æ„æ•°é‡çš„åç«¯ç³»ç»Ÿã€‚éšç€å¯¹ OpenTelemetry çš„é›†æˆå’Œä¾›åº”å•†æ”¯æŒçš„æ‰©å±•ï¼Œå¯¹è¿™ä¸ªé›†ä¸­å¼æ”¶é›†å™¨çš„éœ€æ±‚å’Œè¦æ±‚ä¹Ÿåœ¨å¢åŠ ã€‚\n\n2023 å¹´å¼•å…¥äº† OpenTelemetry Transformation Language (OTTL)ï¼Œå¢å¼ºäº† OpenTelemetry æ”¶é›†å™¨å¤„ç†å’Œè½¬æ¢ä¼ å…¥ä¿¡å·çš„èƒ½åŠ›ã€‚\n\nåœ¨ Tracetest ä¸­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåˆ©ç”¨[åœ¨è¿‡æ»¤å™¨å¤„ç†å™¨ä¸­ä½¿ç”¨ OTTL](https:\/\/github.com\/open-telemetry\/opentelemetry-collector-contrib\/blob\/main\/processor\/filterprocessor\/README.md)çš„èƒ½åŠ›ï¼Œæ”¹è¿›äº†æˆ‘ä»¬ä»è¾“å‡ºå¤§é‡é¥æµ‹æ•°æ®çš„ç”Ÿäº§ç¯å¢ƒä¸­æ”¶é›†è·Ÿè¸ªæ•°æ®çš„æ–¹å¼ã€‚è¿™ä¸€å˜åŒ–å¯¹[OpenTelemetry æ”¶é›†å™¨çš„è¿‡æ»¤å™¨å¤„ç†å™¨](https:\/\/tracetest.io\/blog\/opentelemetry-collectors-new-filter-processor)ä½¿ Tracetest é€‚ç”¨äºåœ¨é«˜è´Ÿè½½ç¯å¢ƒä¸­è¿è¡Œæµ‹è¯•ï¼ŒåŒ…æ‹¬ç”Ÿäº§ç¯å¢ƒã€‚\n\n## æ— å¤„ä¸åœ¨çš„å¯è§‚æµ‹æ€§\n\nåœ¨æœ€è¿‘çš„è®¨è®ºä¸­ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ç§å®¢æˆ·ä¸­ä¸æ–­å¢é•¿çš„è¶‹åŠ¿ï¼Œå³â€œæ— å¤„ä¸åœ¨çš„å¯è§‚æµ‹æ€§â€æ–¹æ³•ã€‚è¿™äº›å…¬å¸ä¸ä»…é™äºç”±ç½‘ç«™å¯é æ€§å·¥ç¨‹å¸ˆå’Œ DevOps ä¼ ç»Ÿä½¿ç”¨ï¼Œè¿˜åŒ…æ‹¬äº†æ¯ä¸ªäººï¼ŒåŒ…æ‹¬å¼€å‘äººå‘˜å’Œæµ‹è¯•äººå‘˜ï¼Œå‚ä¸åˆ°å¯è§‚æµ‹æ€§ä¸­ã€‚è¿™ç§è½¬å˜é‡æ–°å®šä¹‰\n\näº†å¯è§‚æµ‹æ€§ï¼Œä½¿å…¶ä»ç”Ÿäº§é—®é¢˜çš„ä¸€ç§ååº”æ€§å·¥å…·å˜æˆäº†åœ¨å¼€å‘å’Œæµ‹è¯•ä¸­éƒ½æœ‰ç›Šçš„ä¸€ç§ä¸»åŠ¨å·¥å…·ã€‚\n\n[Honeycomb](https:\/\/www.honeycomb.io\/)å¼ºè°ƒäº†[åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨å¯è§‚æµ‹æ€§](https:\/\/www.honeycomb.io\/blog\/observability-driven-development)ï¼Œè€Œåƒ[Digma.ai](http:\/\/digma.ai\/)å’Œ Tracetest è¿™æ ·çš„å·¥å…·æ­£åœ¨æ¨åŠ¨è¿™ä¸€å‰è¿›ã€‚\n\n## æµè§ˆå™¨\n\nOpenTelemetry çš„ä¸»è¦ä½œç”¨ä¸€ç›´å±€é™äºä»ªå™¨åŒ–åç«¯ç³»ç»Ÿï¼Œè€ŒåŸºäºå¼€æ”¾æ ‡å‡†çš„æµè§ˆå™¨ä»ªå™¨åŒ–ä»ç„¶æ˜¯å®éªŒæ€§çš„ï¼Œè¿›å±•ç¼“æ…¢ã€‚æ­£åœ¨åŠªåŠ›æ”¹è¿›å’Œæ ‡å‡†åŒ–è¿™ç§ä»ªå™¨åŒ–ã€‚\n\n- [Uzufly](https:\/\/tracetest.io\/case-studies\/how-uzufly-built-end-to-end-testing-serverless-web-app-with-distributed-traces)åœ¨è¿™æ–¹é¢è„±é¢–è€Œå‡ºã€‚å®ƒä½¿ç”¨ç°æœ‰çš„å®¢æˆ·ç«¯ä»ªå™¨åŒ–æ¥æ„å»ºæµ‹è¯•ã€‚å±•æœ›æœªæ¥ï¼Œå®ƒçš„é›„å¿ƒæ˜¯æ‰©å±•åŸºäºè·Ÿè¸ªçš„æµ‹è¯•ï¼Œä»¥è¦†ç›–æµè§ˆå™¨å†…éƒ¨å‘èµ·çš„å‰ç«¯æ“ä½œæ‰€è¿›è¡Œçš„æµ‹è¯•ã€‚\n\nè¿™å°†å®ç°å‰ç«¯å’Œåç«¯çš„å…¨é¢ç«¯åˆ°ç«¯æµ‹è¯•ã€‚è¯·å…³æ³¨ 2024 å¹´æ›´å¤šå…³äºè¿™ä¸ªä¸»é¢˜çš„ä¿¡æ¯ï¼\n\n## 2023 å·²ç»è¿‡å»\n\nå‘Šåˆ« 2023ï¼Œæˆ‘ä»¬æ€€ç€çƒ­æƒ…æœŸå¾… 2024 å¹´çš„åˆ°æ¥ã€‚OpenTelemetry å…·æœ‰åŠ¿å¤´ï¼Œå¾—åˆ°äº†æ ‡å‡†å’Œå¹¿æ³›é‡‡ç”¨çš„æ”¯æŒï¼Œæ¨åŠ¨äº†å…¶å¢é•¿ã€‚æ–°çš„ä¸€å¹´æ‰¿è¯ºå¸¦æ¥ä»¤äººå…´å¥‹çš„å‘å±•ï¼Œå›´ç»• OpenTelemetry å‡ºç°äº†åˆ›æ–°çš„äº§å“å’Œç”¨ä¾‹ã€‚æˆ‘è¿«ä¸åŠå¾…åœ°æƒ³çœ‹åˆ° 2024 å¹´å°†æ­ç¤ºçš„è¿›æ­¥å’Œåˆ›æ–°ã€‚æ„¿ OpenTelemetry é•¿å­˜ï¼\n', '\/trans\/opentelemetry-and-observability-looking-forward\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">æœ¬æ–‡å±•æœ› 2024 å¹´å¯è§‚æµ‹æ€§çš„å‘å±•ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/trans/what-will-be-the-api-management-trends-for-2024/">[è¯‘] 2024 å¹´ API ç®¡ç†è¶‹åŠ¿é¢„æµ‹</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2024/01/01</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e4%b8%9a%e6%80%81"> 
             ä¸šæ€
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fas fa-language"></i>
              <a href="https://thenewstack.io/what-will-be-the-api-management-trends-for-2024/" target="_blank" rel="noopener">åŸæ–‡</a>
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('2024 å¹´ API ç®¡ç†è¶‹åŠ¿é¢„æµ‹', 'æœ¬æ–‡é¢„æµ‹äº† 2024 å¹´ API ç®¡ç†çš„å…­å¤§è¶‹åŠ¿ï¼ŒåŒ…æ‹¬å¤šæº APIã€å¤šç§ API æ ‡å‡†å’Œæ ¼å¼ã€API æŠ€æœ¯çš„è§£è€¦ã€API çš„è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–ã€API çš„æ— æœåŠ¡å™¨åŒ–å’Œè¾¹ç¼˜åŒ–ã€ä»¥åŠ API çš„ GitOps åŒ–ã€‚', '\næˆ‘ä»¬å·²ç»å®¡è§†äº† 2023 å¹´çš„å‘å±•ï¼Œå¹¶ç¡®å®šäº†å‡ ä¸ªå¯èƒ½åœ¨æ˜å¹´ä¸»å¯¼ API ç®¡ç†é¢†åŸŸçš„å…³é”®è¶‹åŠ¿ã€‚\n\næ ¹æ®ä¸€ä¸ªæƒ³æ³•ï¼šAPI å®Œå…¨æ§åˆ¶äº†æ•°å­—ä¸–ç•Œï¼Œé¢„æµ‹åˆ°æœ¬åå¹´ç»“æŸæ—¶ï¼ŒAPI ç®¡ç†å¸‚åœºå°†å¢é•¿å…­å€ã€‚\n\néšç€è¶Šæ¥è¶Šå¤šçš„å…¬å¸è½¬å‘ API ä¸ºå…ˆçš„æ¶æ„ï¼ŒAPI ç®¡ç†çš„éœ€æ±‚å˜å¾—è‡³å…³é‡è¦ã€‚ä¸€å®¶ç»„ç»‡å¯èƒ½ä¼šç®¡ç†æ•°ç™¾ç”šè‡³æ•°åƒä¸ªå¾®æœåŠ¡ï¼Œå®ƒä»¬éœ€è¦å·¥å…·æ¥æœ‰æ•ˆåœ°ç¼–æ’å’Œç›‘æ§è¿™äº› APIã€‚\n\nå› æ­¤ï¼Œéšç€è¿™ç§å¢é•¿çš„å¼€å§‹ï¼ŒAPI ç®¡ç†åœ¨æœªæ¥ä¼šå¸¦æ¥ä»€ä¹ˆï¼Ÿæˆ‘ä»¬å·²ç»å®¡è§†äº† 2023 å¹´çš„å‘å±•ï¼Œå¹¶ç¡®å®šäº†å‡ ä¸ªå¯èƒ½åœ¨ 2024 å¹´ä¸»å¯¼ API ç®¡ç†é¢†åŸŸçš„å…³é”®è¶‹åŠ¿ã€‚\n\n## æ˜¯æ—¶å€™å®è¡Œé›¶ä¿¡ä»»äº†ï¼ˆè¿™å¹¶ä¸æ˜¯åäº‹ï¼ï¼‰\n\néšç€ API çš„ä¸æ–­å¢åŠ ï¼Œå®‰å…¨æ¼æ´ã€é»‘å®¢å’Œ API é—®é¢˜çš„é£é™©ä¹Ÿåœ¨å¢åŠ ã€‚å°†é›¶ä¿¡ä»»å®‰å…¨æ¦‚å¿µä¸ä½ çš„ API æˆ˜ç•¥ç»“åˆèµ·æ¥ï¼Œå€¡å¯¼ä¸€ç§å®‰å…¨æ¨¡å‹ï¼Œå…¶ä¸­ä¸ç®¡äº¤äº’å‘ç”Ÿåœ¨ç½‘ç»œè¾¹ç•Œå†…è¿˜æ˜¯å¤–éƒ¨ï¼Œéƒ½ä¸ä¼šå‡å®šä¿¡ä»»ã€‚\n\nè¿™ç§æ–¹æ³•è¦æ±‚å¯¹æ¯ä¸ªè¯•å›¾è®¿é—®ç½‘ç»œå†…èµ„æºçš„ä¸ªäººå’Œè®¾å¤‡è¿›è¡Œä¸¥æ ¼çš„èº«ä»½éªŒè¯ï¼Œæœ‰æ•ˆåœ°æ¶ˆé™¤äº†ä¼ ç»Ÿçš„å—ä¿¡ä»»çš„å†…éƒ¨ç½‘ç»œæ¦‚å¿µã€‚åœ¨æ•°æ®æ³„éœ²å’Œæ¶æ„è¡Œä¸ºè€…å˜å¾—è¶Šæ¥è¶Šå¤æ‚çš„æ—¶ä»£ï¼Œé‡‡ç”¨é›¶ä¿¡ä»»æ¡†æ¶å¯¹äºå…¨é¢çš„å®‰å…¨è‡³å…³é‡è¦ï¼ŒåŒ…æ‹¬ APIã€äº‘æœåŠ¡å’Œç½‘ç»œåŸºç¡€è®¾æ–½åœ¨å†…çš„æ‰€æœ‰æŠ€æœ¯æ–¹é¢ã€‚\n\nåœ¨ API ç®¡ç†é¢†åŸŸï¼ŒAPI ç½‘å…³åœ¨å®æ–½é›¶ä¿¡ä»»æ¶æ„ä¸­èµ·ç€å…³é”®ä½œç”¨ã€‚ä½œä¸ºç¬¬ä¸€é“é˜²çº¿ï¼Œè¿™äº›ç½‘å…³å¯¹æ¯ä¸ª API è¯·æ±‚æ‰§è¡Œä¸¥æ ¼çš„èº«ä»½éªŒè¯å’Œæˆæƒç­–ç•¥ã€‚å®ƒä»¬è´Ÿè´£éªŒè¯å‡­æ®ï¼Œç®¡ç†è®¿é—®ä»¤ç‰Œï¼Œå¹¶ç¡®ä¿æ¯ä¸ªè¯·æ±‚ï¼Œæ— è®ºæ¥è‡ªç»„ç»‡å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨ï¼Œéƒ½è¦ç»è¿‡ç›¸åŒä¸¥æ ¼çš„å®‰å…¨æ£€æŸ¥ã€‚\n\nåœ¨è¿™ä¸ªæ¡†æ¶ä¸­ï¼ŒAPI ç½‘å…³ä¸ä»…ä»…æ˜¯æµé‡ç®¡ç†å™¨ï¼›å®ƒä»¬æ˜¯å®‰å…¨å§¿æ€çš„ä¸€éƒ¨åˆ†ï¼Œå°†é›¶ä¿¡ä»»åŸåˆ™åµŒå…¥åˆ° API äº¤äº’çš„æ ¸å¿ƒã€‚å®ƒä»¬å¸®åŠ©æ„å»ºé€‚åº”æŒç»­é£é™©è¯„ä¼°ã€åŸºäºä¸Šä¸‹æ–‡çš„è®¿é—®æ§åˆ¶å’Œæ·±åº¦ç›‘æ§ API ä½¿ç”¨æ¨¡å¼çš„åŠ¨æ€å®‰å…¨ç­–ç•¥ã€‚\n\nåœ¨é›¶ä¿¡ä»»æ¨¡å‹ä¸­ï¼ŒAPI ç½‘å…³æ¼”å˜ä¸ºå®‰å…¨æ‰§è¡Œè€…ï¼Œå¯¹æµç» API çš„æ•°æ®çš„å®Œæ•´æ€§å’Œæœºå¯†æ€§è‡³å…³é‡è¦ã€‚è¿™ç§æ¼”å˜å¼ºè°ƒäº†é«˜çº§ API ç®¡ç†å·¥å…·åœ¨ç»´æŠ¤é›¶ä¿¡ä»»åŸåˆ™å’Œç¡®ä¿å®‰å…¨å’Œå¼¹æ€§åŸºç¡€è®¾æ–½æ–¹é¢çš„é‡è¦æ€§ã€‚\n\n## â€œå¤šä½“éªŒæ¶æ„â€å°†æˆä¸ºå¸¸æ€\n\néšç€ 2024 å¹´ Gartner çš„â€œå¤šä½“éªŒæ¶æ„â€æ¦‚å¿µå˜å¾—è¶Šæ¥è¶Šæ™®éï¼ŒAPI ç®¡ç†çš„å¤æ‚æ€§å°†å‡çº§ã€‚ç»„ç»‡ä¸å†åªå¤„ç†ä¸€ç§ç±»å‹çš„ APIï¼›ä»–ä»¬åœ¨åŒä¸€åº”ç”¨ç”Ÿæ€ç³»ç»Ÿä¸­å¤„ç†å¤šç§åè®®å’Œæ¶æ„ã€‚è¿™ç§æƒ…å†µæ˜¯ç°ä»£åº”ç”¨å¤šæ ·æ€§çš„ç»“æœï¼Œè¿™äº›åº”ç”¨ä¸ä»…åŒ…æ‹¬åŸºäº Web çš„é—¨æˆ·å’Œæœ¬æœºç§»åŠ¨åº”ç”¨ï¼Œè¿˜åŒ…æ‹¬æ‰©å±•ï¼Œå¦‚æ‰‹è¡¨åº”ç”¨ã€å®æ—¶å¯¹è¯ç•Œé¢å’Œäººå·¥æ™ºèƒ½é›†æˆã€‚\n\næ¯ä¸ªç»„ä»¶éƒ½éœ€è¦ç‰¹å®šçš„ API æ–¹æ³•ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒREST API åœ¨å¤–éƒ¨é€šä¿¡ä¸­å› å…¶ç®€å•æ€§å’Œé€šç”¨æ€§è€Œå—æ¬¢è¿ï¼Œè€Œ gRPC ç”±äºå…¶æ•ˆç‡å’Œé€Ÿåº¦è€Œå¯èƒ½è¢«é€‰æ‹©ç”¨äºå†…éƒ¨æœåŠ¡é€šä¿¡ã€‚ä¸æ­¤åŒæ—¶ï¼ŒGraphQL å› å…¶åˆ›å»ºè”åˆå›¾å’Œå­å›¾çš„èƒ½åŠ›è€Œè¶Šæ¥è¶Šå¤šåœ°ç”¨äºé«˜åº¦çµæ´»å’Œé«˜æ•ˆçš„æ•°æ®æ£€ç´¢ï¼Œè¿™å¯¹äºå¤æ‚çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæ˜¯å¿…ä¸å¯å°‘çš„ã€‚æ­¤å¤–ï¼Œæ¶ˆæ¯ä»£ç†å¯¹äºå®ç°éœ€è¦ç«‹å³æ•°æ®æ›´æ–°å’Œäº¤äº’çš„åº”ç”¨ç¨‹åºçš„å®æ—¶é€šä¿¡è‡³å…³é‡è¦ã€‚\n\nåœ¨è¿™ç§ç¯å¢ƒä¸‹ï¼ŒAPI ç®¡ç†çš„æŒ‘æˆ˜æ˜¯å¤šæ–¹é¢çš„ã€‚å®ƒæ¶‰åŠç¼–æ’ä¸åŒç±»å‹çš„ API å¹¶ç¡®ä¿åœ¨è¿™äº›ä¸åŒçš„æ¶æ„ä¸­å®ç°æ— ç¼é›†æˆã€ä¸€è‡´çš„å®‰å…¨æ‰§è¡Œå’Œæœ‰æ•ˆçš„æ€§èƒ½ç›‘æ§ã€‚è§£å†³æ–¹æ¡ˆåœ¨äºé«˜çº§ API ç®¡ç†å·¥å…·å’Œç½‘å…³ï¼Œå®ƒä»¬èƒ½å¤Ÿå¤„ç†è¿™ç§å¤šæ ·æ€§ã€‚è¿™äº›å·¥å…·å¿…é¡»æä¾›å¤æ‚çš„åŠŸèƒ½ï¼Œå¦‚åè®®è½¬æ¢ã€ç»Ÿä¸€çš„å®‰å…¨ç­–ç•¥å’Œå¯ä»¥é€‚åº”æ¯ç§ API ç±»å‹çš„ç‹¬ç‰¹éœ€æ±‚çš„åˆ†æã€‚\n\nå› æ­¤ï¼Œ2024 å¹´çš„ API ç®¡ç†å°†æ¶‰åŠåˆ°æ‹¥æŠ±å’Œç®¡ç†è¿™ç§å¤æ‚æ€§ï¼Œæä¾›ä¸€ä¸ªæœ‰å‡èšåŠ›å’Œé«˜æ•ˆç‡çš„æ¡†æ¶ï¼Œæ”¯æŒå¤šä½“éªŒæ¶æ„çš„å„ç§éœ€æ±‚ã€‚\n\n## API ç®¡ç†æ­£åœ¨å˜æˆç»„ç»‡ç®¡ç†\n\næœ‰ä¸€ä¸ªè‘—åçš„æ•…äº‹ï¼Œæ¥è‡ªå‰äºšé©¬é€Šå’Œè°·æ­Œå·¥ç¨‹å¸ˆ Steve Yeggeï¼Œè®²è¿°äº† Jeff Bezos åœ¨ 2002 å¹´åœ¨äºšé©¬é€Šç½‘ç»œæœåŠ¡ï¼ˆAWSï¼‰åˆ¶å®šçš„ä¸€é¡¹æ ¸å¿ƒä»»åŠ¡ï¼š\n\n1. æ‰€æœ‰å›¢é˜Ÿå°†é€šè¿‡æœåŠ¡æ¥å£å…¬å¼€å…¶æ•°æ®å’ŒåŠŸèƒ½ã€‚\n2. å›¢é˜Ÿå¿…é¡»é€šè¿‡è¿™äº›æ¥å£ç›¸äº’é€šä¿¡ã€‚\n3. ä¸å…è®¸å…¶ä»–å½¢å¼çš„è¿›ç¨‹é—´é€šä¿¡ï¼šä¸å…è®¸ç›´æ¥é“¾æ¥ï¼Œä¸å…è®¸ç›´æ¥è¯»å–å¦ä¸€ä¸ªå›¢é˜Ÿçš„æ•°æ®å­˜å‚¨ï¼Œä¸å…è®¸å…±äº«å†…å­˜æ¨¡å‹ï¼Œä¹Ÿä¸å…è®¸ä»»ä½•åé—¨ã€‚å”¯ä¸€å…è®¸çš„é€šä¿¡æ˜¯é€šè¿‡ç½‘ç»œä¸Šçš„æœåŠ¡æ¥å£è°ƒç”¨ã€‚\n\n4. æ— è®ºä»–ä»¬ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯ã€‚HTTPã€Corbaã€Pubsubã€è‡ªå®šä¹‰åè®®â€”â€”éƒ½æ— æ‰€è°“ã€‚è´ä½æ–¯ä¸å…³å¿ƒã€‚\n5. æ‰€æœ‰æœåŠ¡æ¥å£ï¼Œæ²¡æœ‰ä¾‹å¤–ï¼Œå¿…é¡»ä»å¤´å¼€å§‹è®¾è®¡ï¼Œä»¥ä¾¿èƒ½å¤Ÿå°†æ¥å£æš´éœ²ç»™å¤–éƒ¨ä¸–ç•Œçš„å¼€å‘äººå‘˜ã€‚ä¸å…è®¸ä¾‹å¤–ã€‚\n6. ä¸è¿™æ ·åšçš„äººå°†è¢«è§£é›‡ã€‚\n\nè´ä½æ–¯æ­£åœ¨ä¸ºäºšé©¬é€Šçš„é¢å‘æœåŠ¡çš„ä½“ç³»ç»“æ„æ‰“ä¸‹åŸºç¡€ã€‚äºŒåäºŒå¹´åï¼Œè¿™ä¸€æ¡†æ¶åœ¨æŠ€æœ¯é¢†åŸŸæ™®åŠã€‚è¿™æ„å‘³ç€ API ç®¡ç†å®é™…ä¸Šæ˜¯å›¢é˜Ÿåœ¨ç»„ç»‡å†…éƒ¨è¿›è¡Œé€šä¿¡å’Œæ“ä½œçš„æ–¹å¼ã€‚\n\nAPI å·²ç»æˆä¸ºç»„ç»‡è¿‡ç¨‹çš„ç”Ÿå‘½çº¿ï¼Œä»£è¡¨äº†ä»å­¤ç«‹çš„åŠŸèƒ½åˆ°é›†æˆç³»ç»Ÿçš„è½¬å˜ã€‚è¿™ç§è½¬å˜å°† API ç®¡ç†ä»æŠ€æœ¯ä»»åŠ¡è½¬å˜ä¸ºç»„ç»‡é¢†å¯¼çš„æ ¸å¿ƒæ–¹é¢ã€‚è¿™å¸¦æ¥äº†å‡ ä¸ªå…·ä½“çš„å˜åŒ–ï¼š\n\n- **æˆ˜ç•¥å¯¹é½**ã€‚API ç®¡ç†ä¸ä¸šåŠ¡æˆ˜ç•¥å¯†åˆ‡å¯¹é½ã€‚å®ƒæ¶‰åŠç†è§£ API å¦‚ä½•èƒ½å¤Ÿå®ç°ä¸šåŠ¡ç›®æ ‡ï¼Œå¦‚è¿›å…¥æ–°å¸‚åœºã€æå‡å®¢æˆ·ä½“éªŒæˆ–ç®€åŒ–è¿è¥ã€‚è¿™ç§æˆ˜ç•¥å¯¹é½è¦æ±‚ API å€¡è®®ä¸ç»„ç»‡çš„æ–¹å‘å’Œç›®æ ‡åŒæ­¥ã€‚\n- **è·¨èŒèƒ½åˆä½œ**ã€‚API ä¸å†ä»…ä»…æ˜¯ IT éƒ¨é—¨çš„è´£ä»»ã€‚å®ƒä»¬éœ€è¦è·¨å„ç§åŠŸèƒ½é¢†åŸŸçš„åˆä½œï¼ŒåŒ…æ‹¬è¥é”€ã€é”€å”®ã€å®¢æˆ·æœåŠ¡å’Œä¸šåŠ¡å‘å±•ã€‚è¿™ç§åˆä½œç¡®ä¿ API ä»¥æ”¯æŒå¤šæ ·åŒ–çš„ç»„ç»‡éœ€æ±‚å’Œæœºä¼šçš„æ–¹å¼å¼€å‘å’Œç®¡ç†ã€‚\n- **å°† API ä½œä¸ºäº§å“çš„æ€ç»´æ–¹å¼**ã€‚API è¶Šæ¥è¶Šè¢«è§†ä¸ºäº§å“ï¼Œæœ‰ä¸“é—¨çš„å›¢é˜Ÿè´Ÿè´£å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»æ„æ€åˆ°æ·˜æ±°ã€‚è¿™ç§æ–¹æ³•æ¶‰åŠå®šæœŸæ›´æ–°ã€ç”¨æˆ·åé¦ˆé›†æˆå’ŒæŒç»­æ”¹è¿›ï¼Œå°±åƒå…¬å¸æä¾›çš„ä»»ä½•å…¶ä»–äº§å“æˆ–æœåŠ¡ä¸€æ ·ã€‚\n- **æ€§èƒ½æŒ‡æ ‡å’Œåˆ†æ**ã€‚API çš„æˆåŠŸä¸ä»…é€šè¿‡æŠ€æœ¯æ€§èƒ½æ¥è¡¡é‡ï¼Œè¿˜é€šè¿‡å…¶å¯¹ä¸šåŠ¡ç»“æœçš„å½±å“æ¥è¡¡é‡ã€‚è¯¸å¦‚ API ä½¿ç”¨è¶‹åŠ¿ã€ç”¨æˆ·å‚ä¸åº¦å’Œå¯¹æ”¶å…¥å¢é•¿çš„è´¡çŒ®ç­‰æŒ‡æ ‡æˆä¸º API æœ‰æ•ˆæ€§çš„é‡è¦æŒ‡æ ‡ã€‚\n\nå› æ­¤ï¼ŒAPI çš„ç®¡ç†ä¸å†ä»…ä»…å…³äºæŠ€æœ¯è§„èŒƒæˆ–åè®®ï¼Œè€Œæ˜¯å…³äºç®¡ç†ä¿¡æ¯åˆ†äº«å’ŒæœåŠ¡äº¤ä»˜çš„æ–¹å¼ï¼Œè·¨æ•´ä¸ªç»„ç»‡ã€‚è¿™ç§æ–¹æ³•ä¿ƒè¿›äº†æ•æ·æ€§ã€å¯æ‰©å±•æ€§å’Œåˆ›æ–°ï¼Œè¿™åœ¨ä»Šå¤©ä¸æ–­å‘å±•çš„æŠ€æœ¯é¢†åŸŸä¸­æ˜¯å¿…ä¸å¯å°‘çš„ã€‚\n\n## GitOps å·²ç»åœ¨ API ä¸­ä½¿ç”¨\n\nå°† GitOps é›†æˆåˆ° API ç®¡ç†ä¸­æ ‡å¿—ç€ API æ˜¯å¦‚ä½•æ›´é«˜æ•ˆã€é€æ˜å’Œå¯é åœ°å¼€å‘ã€éƒ¨ç½²å’Œç»´æŠ¤çš„ä¸€ç§æ˜¾è‘—è½¬å˜ã€‚GitOps æ˜¯ä¸€ç§å°† git çš„ç‰ˆæœ¬æ§åˆ¶åŸåˆ™åº”ç”¨äºæ“ä½œå·¥ä½œæµç¨‹çš„æ–¹æ³•ï¼Œå¯¹äºä»¥æ›´é«˜æ•ˆã€é€æ˜å’Œå¯é çš„æ–¹å¼ç®¡ç† API çš„ç”Ÿå‘½å‘¨æœŸè‡³å…³é‡è¦ã€‚\n\nåœ¨è¿™ä¸ªæ¡†æ¶ä¸­ï¼ŒAPI çš„æ¯ä¸ªæ–¹é¢ï¼Œä»å…¶è®¾è®¡æ–‡æ¡£å’Œé…ç½®åˆ°ä»£ç å’Œéƒ¨ç½²æ¸…å•ï¼Œéƒ½å­˜å‚¨åœ¨ git å­˜å‚¨åº“ä¸­ã€‚è¿™ç§æ–¹æ³•ç¡®ä¿äº†æ•´ä¸ª API ç”Ÿå‘½å‘¨æœŸéƒ½å—åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼Œå…è®¸è¯¦ç»†è·Ÿè¸ªæ›´æ”¹ï¼Œä»¥åŠåœ¨å‡ºç°é—®é¢˜æ—¶è½»æ¾å›æ»šï¼Œå¢å¼ºäº†å›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„åä½œã€‚\n\nè‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹æ˜¯ä½¿ç”¨ GitOps ç®¡ç† API çš„ä¸€ä¸ªå…³é”®ä¼˜åŠ¿ã€‚é€šè¿‡åˆ©ç”¨ git ä½œä¸ºå”¯ä¸€çš„çœŸç›¸æ¥æºï¼Œå¯ä»¥è®¾ç½®è‡ªåŠ¨åŒ–æµæ°´çº¿ï¼Œä»¥åœ¨æäº¤æ›´æ”¹æ—¶éƒ¨ç½² APIã€‚è¿™ç§è‡ªåŠ¨åŒ–ä¸ä»…é™äºç®€å•çš„éƒ¨ç½²ï¼Œè¿˜åŒ…æ‹¬é…ç½®å’Œç­–ç•¥çš„æ›´æ–°ï¼Œç¡®ä¿ API çš„æ‰€æœ‰æ–¹é¢éƒ½å¾—åˆ°ä¸€è‡´å’Œå¯é çš„æ›´æ–°ã€‚å›¢é˜Ÿå¯ä»¥åˆ›å»ºä¸ GitOps å·¥ä½œæµç¨‹ç›´æ¥é›†æˆçš„åˆ†æ•£çš„å£°æ˜æ€§å·¥ä½œæµï¼Œç”¨äºå¤æ‚çš„è‡ªå®šä¹‰é…ç½®ã€‚\n\nGitOps è¿˜ä¸º API ç®¡ç†å¸¦æ¥äº†æ›´é«˜çº§åˆ«çš„å®‰å…¨æ€§ã€‚å…³äºæ›´æ”¹çš„æ‹‰å–è¯·æ±‚é¼“åŠ±åŒè¡Œå®¡æŸ¥å’Œæ‰¹å‡†ï¼Œä¸ºå¼•å…¥ä¿®æ”¹æä¾›äº†æ›´å¥å£®çš„æµç¨‹ã€‚æ­¤å¤–ï¼Œgit å­˜å‚¨åº“çš„ä¸å¯å˜æ€§å¢åŠ äº†é¢å¤–çš„å®‰å…¨æ€§å±‚ï¼Œå› ä¸ºæ¯ä¸ªæ›´æ”¹éƒ½æ˜¯è¢«è·Ÿè¸ªå’Œå¯å®¡è®¡çš„ã€‚\n\nGitOps æœ‰æœ›é€šè¿‡å¼•å…¥ç‰ˆæœ¬æ§åˆ¶ã€è‡ªåŠ¨åŒ–ã€å®‰å…¨å’Œåä½œåŸåˆ™æ¥æ”¹å˜ API ç®¡ç†ï¼Œä»è€Œä½¿ API å¼€å‘å’Œç®¡ç†æ›´åŠ ä¸ç°ä»£æ•æ·å®è·µç›¸ç¬¦ï¼Œæé«˜äº†æ•ˆç‡å’Œå¯é æ€§ã€‚\n\n## å¼€å‘è€…ä½“éªŒå°†æˆä¸ºæ ‡é…\n\nåœ¨ 2024 å¹´ï¼Œæä¾›å“è¶Šçš„å¼€å‘è€…ä½“éªŒï¼ˆDevXï¼‰å°†ä¸å†æ˜¯å¥¢ä¾ˆï¼›å®ƒå°†æˆä¸ºä¸€é¡¹å¿…éœ€ã€‚æœªå°† DevX ç½®äºä¼˜å…ˆä½ç½®çš„ API ç®¡ç†ç³»ç»Ÿè¶Šæ¥è¶Šæœ‰è¢«æ·˜æ±°çš„é£é™©ï¼Œå› ä¸ºä»¥å¼€å‘è€…ä¸ºä¸­å¿ƒçš„æ¨¡å¼æ­£åœ¨æˆä¸ºæ ‡å‡†ã€‚\n\nè¿™ä¸€å˜é©çš„åŸºçŸ³åœ¨äºè®¤è¯†åˆ°å¼€å‘è€…éœ€è¦ä¸å…¶å·¥ä½œæµç¨‹ç›¸ä¸€è‡´å¹¶å¢å¼ºç”Ÿäº§åŠ›çš„å·¥å…·å’Œç³»ç»Ÿã€‚è¿™å…¶ä¸­çš„ä¸€ä¸ªå…³é”®æ–¹é¢æ˜¯é‡‡ç”¨[åŸºç¡€è®¾æ–½å³ä»£ç ](https:\/\/thenewstack.io\/why-use-infrastructure-as-code\/)ï¼ˆIaCï¼‰å®è·µã€‚IaC å…è®¸å¼€å‘è€…é€šè¿‡ä»£ç è€Œä¸æ˜¯æ‰‹åŠ¨æµç¨‹æ¥ç®¡ç†å’Œé…ç½®åŸºç¡€è®¾æ–½ã€‚\n\nå¦ä¸€ä¸ªå…³é”®å› ç´ æ˜¯ API ç®¡ç†ç³»ç»Ÿæ”¯æŒå„ç§éƒ¨ç½²ç¯å¢ƒçš„èƒ½åŠ›ã€‚éšç€éƒ¨ç½²æ¨¡å‹çš„å¤šæ ·åŒ–ï¼Œä»æœ¬åœ°éƒ¨ç½²åˆ°[äº‘åŸç”Ÿ](https:\/\/www.getambassador.io\/kubernetes-glossary\/cloud-native)ç­‰ï¼Œä¸€ä¸ªçµæ´»çš„ API ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿé€‚åº”ä¸åŒçš„ç¯å¢ƒè‡³å…³é‡è¦ã€‚\n\nAPI ç®¡ç†ç³»ç»Ÿå¿…é¡»ä¸æ–­å‘å±•ï¼Œä»¥æ»¡è¶³ç°ä»£è½¯ä»¶å¼€å‘å®è·µçš„éœ€æ±‚ã€‚æœªèƒ½æä¾›ä»¥å¼€å‘è€…ä¸ºä¸­å¿ƒçš„ä½“éªŒçš„ç³»ç»Ÿï¼Œå…¶ç‰¹ç‚¹åŒ…æ‹¬ IaCã€ä¸æ ‡å‡†å·¥å…·çš„é›†æˆã€æ˜“ç”¨æ€§ã€çµæ´»æ€§å’Œå¼ºå¤§çš„åˆ†æåŠŸèƒ½ï¼Œå°†åœ¨å¼€å‘è€…ä½“éªŒè‡³å…³é‡è¦çš„ç¯å¢ƒä¸­éš¾ä»¥ä¿æŒç›¸å…³æ€§ã€‚\n\n## æ†ç»‘éšåçš„è§£ç»‘\n\nAPI ç®¡ç†å·¥å…·çš„æ¼”å˜æ­£åœ¨è§è¯å›å½’åˆ°æ†ç»‘è§£å†³æ–¹æ¡ˆï¼Œè¿™æ˜¯ä¸æœ€è¿‘çš„ç‚¹å¯¹ç‚¹è§£å†³æ–¹æ¡ˆçš„è¶‹åŠ¿ç›¸åã€‚ä¸æ—§çš„ä¼ä¸šæ†ç»‘è§£å†³æ–¹æ¡ˆä¸åŒï¼Œè¿™äº›æ–°ä¸€ä»£æ†ç»‘è§£å†³æ–¹æ¡ˆé€‚ç”¨äºæ›´å¹¿æ³›çš„ç»„ç»‡èŒƒå›´ï¼Œæä¾›äº†ç»¼åˆçš„ã€é›†æˆçš„è§£å†³æ–¹æ¡ˆã€‚\n\nAPI ç”Ÿæ€ç³»ç»Ÿçš„ä¸æ–­å¤æ‚å’Œè§„æ¨¡çš„å¢åŠ æ¨åŠ¨äº†è¿™ä¸€è½¬å˜ã€‚ç°ä»£ API ç®¡ç†éœ€è¦ä¸€ç§å…¨é¢çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬å¼ºå¤§çš„èº«ä»½éªŒè¯æœºåˆ¶ã€ä¸¥æ ¼çš„å®‰å…¨åè®®å’Œè‡ªåŠ©å¼€å‘è€…å·¥å…·ã€‚é€šè¿‡å°†è¿™äº›åŠŸèƒ½æ•´åˆåˆ°[å•ä¸€çš„ã€è¿è´¯çš„åŒ…ä¸­](https:\/\/www.getambassador.io\/products\/edge-stack\/api-gateway)ï¼Œæ†ç»‘è§£å†³æ–¹æ¡ˆæä¾›äº†ä¸€ç§æ›´ç®€åŒ–å’Œé«˜æ•ˆçš„ API ç®¡ç†æ–¹å¼ã€‚\n\nåœ¨è¿™äº›æ†ç»‘è§£å†³æ–¹æ¡ˆä¸­åŒ…æ‹¬ç½‘å…³å¯¹äºæµé‡ç®¡ç†è‡³å…³é‡è¦ï¼Œæä¾›äº†é€Ÿç‡é™åˆ¶ã€è¯·æ±‚è·¯ç”±å’Œåè®®è½¬æ¢ç­‰åŠŸèƒ½ã€‚èº«ä»½éªŒè¯æ˜¯å¦ä¸€ä¸ªå…³é”®ç»„æˆéƒ¨åˆ†ï¼Œç¡®ä¿é€šè¿‡ OAuth å’Œ JSON Web Tokensï¼ˆJWTï¼‰ç­‰æœºåˆ¶å®‰å…¨è®¿é—® APIã€‚è¿™äº›æ†ç»‘è§£å†³æ–¹æ¡ˆä¸­çš„å®‰å…¨åŠŸèƒ½ä¸ä»…é™äºèº«ä»½éªŒè¯ï¼Œè¿˜æä¾›äº†å…¨é¢çš„ä¿æŠ¤ï¼Œé˜²æ­¢ SQL æ³¨å…¥ã€DDoS æ”»å‡»å’Œæ•°æ®æ³„éœ²ç­‰å¨èƒã€‚\n\n[è‡ªåŠ©å¼€å‘è€…å·¥å…·](https:\/\/www.getambassador.io\/products\/telepresence)æ˜¯è¿™äº›æ†ç»‘è§£å†³æ–¹æ¡ˆçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚å®ƒä»¬èµ‹äºˆå¼€å‘è€…ç‹¬ç«‹åˆ›å»ºã€æµ‹è¯•å’Œéƒ¨ç½² API çš„èƒ½åŠ›ï¼Œå‡å°‘äº†å¯¹ IT å›¢é˜Ÿçš„ä¾èµ–ï¼ŒåŠ é€Ÿäº†å¼€å‘ã€‚è¿™äº›å·¥å…·å¿…é¡»åŒ…æ‹¬ç”¨æˆ·å‹å¥½çš„ç•Œé¢ã€è¯¦ç»†çš„æ–‡æ¡£å’Œè‡ªåŠ¨åŒ–çš„æµ‹è¯•åŠŸèƒ½ã€‚\n\nAPI ç®¡ç†ä¸­æ†ç»‘è§£å†³æ–¹æ¡ˆçš„å†æ¬¡å‡ºç°ä»£è¡¨ç€å¯¹ç°ä»£ API æ™¯è§‚éœ€æ±‚çš„é€‚åº”ã€‚é€šè¿‡åœ¨ä¸€ä¸ªç»Ÿä¸€çš„åŒ…ä¸­æä¾›ç½‘å…³ã€èº«ä»½éªŒè¯ã€å®‰å…¨å’Œå¼€å‘è€…å·¥å…·ï¼Œè¿™äº›æ†ç»‘è§£å†³æ–¹æ¡ˆæä¾›äº†é€‚ç”¨äºå„ç§ç»„ç»‡éœ€æ±‚çš„å¤šåŠŸèƒ½å’Œé«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚\n\n## æœªçŸ¥çš„äººå·¥æ™ºèƒ½\n\näººå·¥æ™ºèƒ½æ­£åœ¨é¢ è¦†æ•°åä¸ªè¡Œä¸šçš„è§„åˆ™ï¼Œå¹¶ä»¥æ„æƒ³ä¸åˆ°çš„æ–¹å¼é‡å¡‘å®ƒä»¬ã€‚\n\nâ€œæ„æƒ³ä¸åˆ°â€æ˜¯æè¿°äººå·¥æ™ºèƒ½\/æœºå™¨å­¦ä¹ æŠ€æœ¯å°†å¦‚ä½•æ‰°ä¹± API ç®¡ç†ç”Ÿæ€ç³»ç»Ÿçš„å¥½æ–¹å¼ã€‚KubeCon North America 2023 ä¸ OpenAI Dev Day åŒæ—¶ä¸¾è¡Œï¼Œä½†ä¸¤è€…ä¼¼ä¹å¤©å·®åœ°åˆ«ã€‚åœ¨ KubeCon ä¸Šï¼ŒAI åªè½»å¾®[æåŠ](https:\/\/danielbryantuk.medium.com\/kubecon-chicago-key-takeaways-3de5ca13b375)ï¼Œä¼¼ä¹ DevOps å’Œ API ç®¡ç†è¡Œä¸šå¯¹äººå·¥æ™ºèƒ½æ²¡æœ‰å¤ªå¤šï¼ˆå°šæœªï¼ï¼‰è¨€è®ºã€‚\n\nä½†æ˜¯ï¼Œå°† AI æ’é™¤åœ¨å¤–å°†ä¸¥é‡ä½ä¼° AI å‘å±•çš„èŒƒå›´å’Œé€Ÿåº¦ã€‚å»å¹´è¿™ä¸ªæ—¶å€™ï¼ŒChatGPT æ‰ä¸¤å‘¨å¤§ã€‚é‚£æ—¶æ²¡æœ‰äººçŸ¥é“å®ƒå°†å¦‚ä½•å½»åº•æ”¹å˜æŠ€æœ¯çš„å„ä¸ªæ–¹é¢ã€‚\n\nå› æ­¤ï¼ŒAI\/æœºå™¨å­¦ä¹ ä¸ API æˆ˜ç•¥çš„èåˆæ˜¯ä¸å¯é¿å…çš„ï¼Œå¯èƒ½ä¼šå½»åº•æ”¹å˜ API çš„å¼€å‘ã€ç®¡ç†å’Œä¼˜åŒ–æ–¹å¼ã€‚\n\n- AI é©±åŠ¨çš„åˆ†æå¯ä»¥æä¾›å¯¹ API ä½¿ç”¨æ¨¡å¼çš„æ›´æ·±å…¥æ´å¯Ÿï¼Œä»è€Œå®ç°æ›´æœ‰æ•ˆçš„èµ„æºç®¡ç†å’Œä¼˜åŒ–ã€‚\n- AI å¯ä»¥è‡ªåŠ¨åŒ–å’Œå¢å¼ºå®‰å…¨åè®®ï¼Œæ¯”ä¼ ç»Ÿæ–¹æ³•æ›´æœ‰æ•ˆåœ°æ£€æµ‹å¼‚å¸¸å’Œæ½œåœ¨å¨èƒã€‚\n- AI å¯ä»¥æ˜¾ç€ç®€åŒ– API å¼€å‘è¿‡ç¨‹ã€‚é€šè¿‡ä½¿ç”¨æœºå™¨å­¦ä¹ ç®—æ³•ï¼ŒAPI å¯ä»¥å˜å¾—æ›´åŠ è‡ªé€‚åº”å’Œæ™ºèƒ½ï¼Œèƒ½å¤Ÿä»¥æ›´é«˜çš„å‡†ç¡®æ€§å’Œæ•ˆç‡å¤„ç†å¤æ‚è¯·æ±‚ã€‚è¿™ç§é›†æˆå¯èƒ½å¯¼è‡´è‡ªæˆ‘ä¼˜åŒ–çš„ APIï¼Œæ ¹æ®å®æ—¶åé¦ˆè°ƒæ•´å…¶è¡Œä¸ºã€‚\n\nAI ä¸ API ç®¡ç†çš„äº¤æ±‡æ˜¯å³å°†åˆ°æ¥çš„ç°å®ã€‚éšç€ AI ç»§ç»­æ¸—é€å„ä¸ªé¢†åŸŸï¼Œå…¶èå…¥ API ç”Ÿæ€ç³»ç»Ÿå°†æä¾›å‰æ‰€æœªæœ‰çš„æ•ˆç‡ã€å®‰å…¨æ€§å’Œé€‚åº”æ€§æ°´å¹³ï¼Œå®£å‘Šäº† API ç®¡ç†å’Œä½¿ç”¨æ–¹å¼çš„æ–°æ—¶ä»£ã€‚\n\n## æœªçŸ¥çš„æœªçŸ¥\n\nè¿˜æœ‰ä»€ä¹ˆåœ¨æœªæ¥ï¼Ÿéšç€æŠ€æœ¯è¿›æ­¥çš„æé€Ÿå’Œ API å·²ç»åå™¬äº†æ•´ä¸ªä¸–ç•Œçš„æ–¹å¼ï¼Œé¢„æµ‹ API ç®¡ç†çš„æœªæ¥å°±åƒè¯•å›¾ç»˜åˆ¶æœªçŸ¥é¢†åŸŸä¸€æ ·å›°éš¾ã€‚\n\nè¿™ä¸ªé¢†åŸŸæ­£åœ¨è¿…é€Ÿå‘å±•ï¼Œå—æ–°å…´æŠ€æœ¯å’Œ Paradigm è½¬å˜çš„æ¨åŠ¨ï¼Œè¿™ä½¿å¾—éš¾ä»¥é¢„è§æœªæ¥çš„å˜åŒ–çš„å…¨éƒ¨èŒƒå›´ã€‚å°±åƒ API å·²ç»æ”¹å˜äº†æ•°å­—åŸºç¡€è®¾æ–½ä¸€æ ·ï¼Œæœªæ¥çš„åˆ›æ–°å’Œæ–¹æ³•å°†è¿›ä¸€æ­¥é‡æ–°å®šä¹‰æˆ‘ä»¬ä»Šå¤©å¯¹ API ç®¡ç†çš„ç†è§£ã€‚\n\nè¯·å‘Šè¯‰æˆ‘ä»¬ä½ è®¤ä¸º 2024 å¹´å°†ä¸º API ç®¡ç†å¸¦æ¥ä»€ä¹ˆï¼Œä»¥åŠä½ è®¤ä¸ºæ˜å¹´æˆ‘ä»¬å°†ä½¿ç”¨ä»€ä¹ˆä»¤äººå…´å¥‹çš„æŠ€æœ¯ã€‚\n', '\/trans\/what-will-be-the-api-management-trends-for-2024\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">æœ¬æ–‡é¢„æµ‹äº† 2024 å¹´ API ç®¡ç†çš„å…­å¤§è¶‹åŠ¿ï¼ŒåŒ…æ‹¬å¤šæº APIã€å¤šç§ API æ ‡å‡†å’Œæ ¼å¼ã€API æŠ€æœ¯çš„è§£è€¦ã€API çš„è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–ã€API çš„æ— æœåŠ¡å™¨åŒ–å’Œè¾¹ç¼˜åŒ–ã€ä»¥åŠ API çš„ GitOps åŒ–ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
              <div class="col-sm-6 mb-3">
  <article class="card rounded-0 border-bottom border-primary border-top-0 border-left-0 border-right-0 hover-shadow">
    
    
    <div class="card-body blog-list-card-body">
      <p class="card-title"><a href="/trans/grafana-dashboards-in-2023-memorable-use-cases-of-the-year/">[è¯‘] ä»¤äººæƒŠå¹çš„ Grafana ä»ªè¡¨ç›˜ç”¨é€”ï¼š2023 å¹´æœ€æœ‰åˆ›æ„å’Œæœ‰è¶£çš„ç”¨ä¾‹åˆ†äº«</a></p>
      
      <div class="blog-list-metadata">
          <ul class="list-inline">
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fa-regular fa-calendar"></i>
               2023/12/29</li>
             <li class="list-inline-item mr-2 md-md-0"><i class="fa-regular fa-folder-open"></i>
             
             <a href="/categories/%e5%8f%af%e8%a7%82%e6%b5%8b%e6%80%a7"> 
             å¯è§‚æµ‹æ€§
             </a>
             
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0"><i class="fas fa-language"></i>
              <a href="https://grafana.com/blog/2023/12/27/grafana-dashboards-in-2023-memorable-use-cases-of-the-year/" target="_blank" rel="noopener">åŸæ–‡</a>
             </li>
             
             <li class="list-inline-item mr-2 mb-md-0">
              

             </li>
             
             <li class="list-inline-item mr-2 mb-md-0 export-button" style="display: none;">
              <a href="#" onclick="exportToMarkdown('ä»¤äººæƒŠå¹çš„ Grafana ä»ªè¡¨ç›˜ç”¨é€”ï¼š2023 å¹´æœ€æœ‰åˆ›æ„å’Œæœ‰è¶£çš„ç”¨ä¾‹åˆ†äº«', 'è¿™ç¯‡æ–‡ç« å›é¡¾äº† 2023 å¹´ç¤¾åŒºä¸­ä¸€äº›ä»¤äººå°è±¡æ·±åˆ»çš„ Grafana ä»ªè¡¨ç›˜çš„ç”¨ä¾‹ï¼Œå®ƒä»¬å±•ç¤ºäº† Grafana çš„å¤šæ ·æ€§å’Œåˆ›é€ åŠ›ï¼Œä»¥åŠå¦‚ä½•ç”¨å¯è§†åŒ–çš„æ–¹å¼ç›‘æ§å’Œåˆ†æå„ç§æ•°æ®å’Œåœºæ™¯ã€‚', '\n## ç¼–è€…æŒ‰\n\næœ¬æ–‡è¯‘è‡ªï¼š[Grafana dashboards in 2023: Memorable use cases of the year](https:\/\/grafana.com\/blog\/2023\/12\/27\/grafana-dashboards-in-2023-memorable-use-cases-of-the-year\/)ã€‚\n\næ‘˜è¦ï¼šè¿™ç¯‡æ–‡ç« å›é¡¾äº† 2023 å¹´ç¤¾åŒºä¸­ä¸€äº›ä»¤äººå°è±¡æ·±åˆ»çš„ Grafana ä»ªè¡¨ç›˜çš„ç”¨ä¾‹ï¼Œå®ƒä»¬å±•ç¤ºäº† Grafana çš„å¤šæ ·æ€§å’Œåˆ›é€ åŠ›ï¼Œä»¥åŠå¦‚ä½•ç”¨å¯è§†åŒ–çš„æ–¹å¼ç›‘æ§å’Œåˆ†æå„ç§æ•°æ®å’Œåœºæ™¯ã€‚\n\n## æ­£æ–‡\n\néšç€æ¯å¹´ä½¿ç”¨ [Grafana](https:\/\/grafana.com\/oss\/grafana?pg=blog\u0026plcmt=body-txt) çš„ç”¨æˆ·äººæ•°å¢åŠ ï¼Œäººä»¬ä½¿ç”¨ [Grafana ä»ªè¡¨æ¿](https:\/\/grafana.com\/grafana\/dashboards\/?pg=blog\u0026plcmt=body-txt) çš„åŸå› ä¹Ÿæ—¥ç›Šå¤šæ ·åŒ–ã€‚åœ¨ 2023 å¹´ï¼Œæˆ‘ä»¬ç¤¾åŒºå†…å¤–çš„æˆå‘˜åˆ†äº«äº†ä¸€äº›ä»¤äººéš¾ä»¥ç½®ä¿¡çš„ä¸“ä¸šå’Œä¸ªäººé¡¹ç›®ï¼ŒåŒ…æ‹¬ Grafana å¦‚ä½•å¸®åŠ©ä»–ä»¬æˆåŠŸå‘å°„ç«ç®­ï¼Œå‡å°‘ç¢³æ’æ”¾ï¼Œç”šè‡³å¸®åŠ©å¹³è¡¡å›½å®¶ç”µç½‘ã€‚è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ä»Šå¹´çœ‹åˆ°çš„ä¸€äº›æœ€ä»¤äººéš¾å¿˜çš„ä»ªè¡¨æ¿ï¼š\n\n## è·å¥–è€…\n\nGrafana åœ¨å…­æœˆä»½è¿æ¥äº† 10 å²çš„ç”Ÿæ—¥ï¼Œä¸ºäº†åº†ç¥è¿™ä¸€æ—¶åˆ»ï¼Œæˆ‘ä»¬é¦–æ¬¡æ¨å‡ºäº† [Golden Grot å¥–é¡¹](https:\/\/grafana.com\/about\/events\/grafanacon\/2023\/golden-grot-awards\/?pg=blog\u0026plcmt=body-txt)ï¼Œè¿™äº›å¥–é¡¹å¸®åŠ©çªå‡ºæ˜¾ç¤ºäº†æˆ‘ä»¬ç¤¾åŒºåˆ›å»ºçš„ä»¤äººæƒŠå¹çš„ Grafana ä»ªè¡¨æ¿ã€‚ä½†ä»Šå¹´å¹¶ä¸æ˜¯å”¯ä¸€ä¸€ä¸ªä¸ä»ªè¡¨æ¿ç›¸å…³çš„èƒœåˆ©ï¼šä»Šå¹´ä¸‰æœˆï¼ŒåŠ å·å¤§å­¦æ´›æ‰çŸ¶åˆ†æ ¡çš„ç«ç®­å·¥ç¨‹å›¢é˜Ÿä½¿ç”¨ Grafana ä½œä¸ºæµ‹è¯•å’Œå‘å°„è¿‡ç¨‹ä¸­çš„å¯è§†åŒ–å·¥å…·ï¼Œåœ¨ä¸€æ¬¡ä¸šä½™ç«ç®­ç«èµ›ä¸­èµ¢å¾—äº†å† å†›ï¼Œå¹¶æ‰“ç ´äº†ä¸–ç•Œçºªå½•ã€‚\n\n### [ç›‘æ§èƒ½æºåŸºç¡€è®¾æ–½](https:\/\/grafana.com\/blog\/2023\/06\/15\/meet-our-golden-grot-awards-grand-prize-winners\/?pg=blog\u0026plcmt=body-txt)\n\nGolden Grot å¥–é¡¹æœ‰ä¸¤ä½å¤§å¥–å¾—ä¸»ï¼Œåœ¨ä¸ªäººä»ªè¡¨æ¿ç±»åˆ«ä¸­ï¼Œå¥–é¡¹æˆäºˆäº†è·å…° Erasmus ç»æµå­¦é™¢çš„ç ”ç©¶ç”Ÿ Nicky Sonnemansã€‚ä»–ç”¨ä»ªè¡¨æ¿ç›‘æ§ [æ¬§æ´²èƒ½æºåŸºç¡€è®¾æ–½çš„å½“å‰çŠ¶æ€](https:\/\/grafana.sonnem.nl\/d\/uCV3CiPVz\/european-energy-infastructure-golden-grot?orgId=2) â€” å…·ä½“åŒ…æ‹¬æœ‰å…³å¤©ç„¶æ°”å‚¨å­˜ã€å¤©ç„¶æ°”åœ¨æ¬§æ´²çš„å®é™…æµåŠ¨ã€ç”µåŠ›ç”Ÿæˆå’Œèƒ½æºä»·æ ¼çš„å½“å‰å’Œå†å²ä¿¡æ¯ã€‚Sonnemans åˆ›å»ºè¿™ä¸ªä»ªè¡¨æ¿çš„çµæ„Ÿæ¥è‡ªäºä»–æƒ³è¦å°†èƒ½æºæ•°æ®å¯è§†åŒ–åˆ°ä¸€ä¸ªé›†ä¸­çš„åœ°æ–¹ï¼Œä»¥ä¾¿ä»–å¯ä»¥è½»æ¾åœ°å®æ—¶å‘ç°ä»»ä½•å¼‚å¸¸æƒ…å†µå¹¶æ”¶åˆ°ä»»ä½•å¿…è¦çš„è­¦æŠ¥ã€‚ä»–è¡¥å……è¯´ï¼šâ€œæˆ‘çš„ä¸»è¦åŠ¨æœºæ˜¯å±•ç¤º Grafana å¯ä»¥ç”¨ä½œå•†ä¸šæ™ºèƒ½å·¥å…·ï¼Œè€Œä¸ä»…ä»…æ˜¯ç”¨äºæŠ€æœ¯ç›‘æ§å’ŒæœåŠ¡å™¨ç›‘æ§ã€‚â€\n\n![Nicky Sonnemans çš„ Golden Grot å¥–è·å¥–ä»ªè¡¨æ¿](f1.jpg)\n\n### [è§£å†³å·¥ä½œä¸­çš„å¯è§‚æµ‹æ€§é—®é¢˜](https:\/\/grafana.com\/blog\/2023\/06\/15\/meet-our-golden-grot-awards-grand-prize-winners\/?pg=blog\u0026plcmt=body-txt)\n\nåœ¨ä»Šå¹´çš„ Golden Grot å¥–é¡¹çš„ä¸“ä¸šä»ªè¡¨æ¿ç±»åˆ«ä¸­ï¼Œè·å¥–è€…æ˜¯å—éçº¦ç¿°å†…æ–¯å ¡çš„ IT ä¸“ä¸šäººå‘˜ Raymond Sowdenã€‚ä»–æ˜¯ RadixTrie PTY LTD çš„ CNC å›¢é˜Ÿè´Ÿè´£äººï¼Œä¸“æ³¨äº Oracle çš„ JD Edwards EnterpriseOne ERP (JDE)ã€‚ä»–åˆ›å»ºäº†è·å¥–çš„ Grafana ä»ªè¡¨æ¿æ¥è§£å†³å·¥ä½œä¸­çš„ä¸€ä¸ªé‡å¤§å¯è§‚æµ‹æ€§é—®é¢˜ï¼šâ€œæˆ‘ä»¬æ²¡æœ‰ä¸€ä¸ªå•ä¸€çš„ç›‘æ§è§†å›¾æ¥ç›‘æ§ JDEï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ä»ªè¡¨æ¿ä¸ºæˆ‘ä»¬æä¾›äº†å¯¹ JDE çš„æ•´ä½“å¥åº·å’Œæ€§èƒ½çš„æ— ä¸ä¼¦æ¯”çš„è§è§£ã€‚â€ä»–è¯´ï¼Œä¸€ä¸ªé‡è¦æ—¶åˆ»æ˜¯å½“ä»–ä»¬èƒ½å¤Ÿçœ‹åˆ°åç«¯å’Œå‰ç«¯å‘ç”Ÿäº†ä»€ä¹ˆæ—¶ï¼šâ€œé‚£æ—¶æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬æœ‰äº†ç‰¹åˆ«çš„ä¸œè¥¿ã€‚â€\n\nRaymond çš„ä»ªè¡¨æ¿æä¾›äº†å¯¹ç³»ç»Ÿå¥åº·çŠ¶å†µçš„é«˜çº§æ¦‚è¿°ï¼Œä½†å„ç§å°éƒ¨ä»¶é“¾æ¥åˆ°äº†æ›´å¤šæŠ€æœ¯æ•°æ®çš„è¯¦ç»†ä»ªè¡¨æ¿ã€‚å®ƒè¢«ä»–å…¬å¸çš„ JDE æŠ€æœ¯äººå‘˜ä½¿ç”¨ï¼Œä»¥åŠä»–ä»¬å®¢æˆ·çš„æŠ€æœ¯äººå‘˜ï¼Œä¸€ç›´åˆ°æ‰§è¡Œå±‚çº§ã€‚ä»–è¯´ï¼šâ€œæˆ‘ä»¬é€šè¿‡æä¾›å®æ—¶è§è§£å’ŒæŒ‡æ ‡æ¥å‡å°‘äº†æ—¥å¸¸æ£€æŸ¥ã€æ—¥å¸¸æŠ¥å‘Šç­‰äººå·¥å·¥ä½œçš„å·¥ä½œé‡ã€‚â€\n\n![Raymond Sowden çš„ Golden Grot å¥–è·å¥–ä»ªè¡¨æ¿](f2.jpg)\n\n### [åœ¨ç«ç®­å‘å°„è¿‡ç¨‹ä¸­æä¾›æ•°æ®å¯è§æ€§](https:\/\/grafana.com\/blog\/2023\/04\/21\/how-grafana-helped-a-rocket-engineering-team-break-a-world-record\/?pg=blog\u0026plcmt=body-txt)\n\nåœ¨ä¸€ç¯‡å…³äºèµ¢å¾— [Dollar Per Foot æŒ‘æˆ˜](https:\/\/friendsofamateurrocketry.org\/dpf-challenge\/) å¹¶åˆ›ä¸‹æ¶²ä½“ç«ç®­æœ€é«˜é«˜åº¦çš„å¤§å­¦ç”Ÿå’Œè½¯ä»¶å·¥ç¨‹å¸ˆ Philip Do çš„åšå®¢æ–‡ç« ä¸­ï¼Œä»–å’Œæ¥è‡ª [UCLA ç«ç®­é¡¹ç›®](http:\/\/rocketproject.seas.ucla.edu\/) çš„é˜Ÿå‹è§£é‡Šäº†ä»–ä»¬æ˜¯å¦‚ä½•ä¾èµ– [Grafana](https:\/\/grafana.com\/oss\/grafana?pg=blog\u0026plcmt=body-txt) æ¥è¿›è¡Œå·¥ä½œçš„ã€‚â€œé€šè¿‡æˆ‘ä»¬çš„ä»ªè¡¨æ¿ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿå¯è§†åŒ–æ•°æ®ï¼Œå¹¶åœ¨æµ‹è¯•å’Œå‘å°„çš„å…³é”®é˜¶æ®µç›‘æ§æ½œåœ¨çš„ç¡¬ä»¶é—®é¢˜ï¼Œâ€ä»–è¯´ã€‚\n\n![Rocket Project çš„å‘å°„ä»ªè¡¨æ¿ä¸­çš„ä¼ æ„Ÿå™¨å’Œé˜€é—¨æ•°æ®](f3.jpg)\n\n## å®¶å±…\n\nGrafana Labs åšå®šåœ°ç›¸ä¿¡å·¥ä½œä¸ç”Ÿæ´»çš„å¹³è¡¡ï¼Œä½†å½“ä½ å¯¹ Grafana ä»ªè¡¨æ¿çš„å¸å¼•åŠ›å’Œä¿¡æ¯ä¸°å¯Œæ€§å¦‚æ­¤ç†Ÿæ‚‰æ—¶ï¼Œéš¾ä»¥æŠµæŒ¡åˆ›å»ºä¸€ä¸ªç”¨äºç›‘è§†å®¶åº­äº‹ç‰©çš„è¯±æƒ‘ã€‚æˆ‘ä»¬åœ¨ 2023 å¹´å±•ç¤ºçš„ Grafanista åˆ¶ä½œçš„é¡¹ç›®åŒ…æ‹¬ä¸€ä¸ª[å¯è§†åŒ–å®¶ç”¨ç‚‰å­çš„è¿è¡Œæ—¶é—´](https:\/\/grafana.com\/blog\/2023\/05\/19\/monitoring-a-furnace-with-home-assistant-prometheus-and-grafana\/?pg=blog\u0026plcmt=body-txt)ã€ä¸€ä¸ª[ç›‘æ§ç©ºæ°”è´¨é‡](https:\/\/grafana.com\/blog\/2023\/02\/15\/breathing-easy-with-grafana-dashboards-and-3d-printing\/?pg=blog\u0026plcmt=body-txt)çš„é¡¹ç›®ï¼ŒåŒæ—¶ä½¿ç”¨ 3D æ‰“å°æœºï¼Œä»¥åŠä¸€ä¸ª[è·Ÿè¸ªæ¸©åº¦å’Œæ¹¿åº¦](https:\/\/grafana.com\/blog\/2023\/10\/23\/monitor-temperature-and-humidity-with-grafana-and-raspberry-pi\/?pg=blog\u0026plcmt=body-txt)çš„é¡¹ç›®ï¼Œç”¨äºç›‘æ§æ»¨æµ·å®¶åº­ã€‚è¿˜æœ‰ä¸€ä¸ªæ—¨åœ¨ç›‘æ§ [Plex åª’ä½“æœåŠ¡å™¨](https:\/\/www.plex.tv\/your-media\/) çš„é¡¹ç›®ï¼Œæ˜¯ [å†…éƒ¨ homelab Slack é¢‘é“çš„ä¸‰ä½ Grafanista åœ¨ä¸€æ¬¡é»‘å®¢é©¬æ‹‰æ¾æœŸé—´åˆ›å»ºçš„](https:\/\/grafana.com\/blog\/2023\/04\/28\/plexporters-energize-how-we-monitor-plex-with-grafana\/?pg=blog\u0026plcmt=body-txt)ã€‚\n\nå¦ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„å®¶åº­é¡¹ç›®æ¥è‡ªå…¬å¸å¤–éƒ¨ï¼š[GrafanaCON 2023](https:\/\/grafana.com\/about\/events\/grafanacon\/2023\/) ä¸Šï¼ŒToyota Racing Development çš„é«˜çº§ DevOps å·¥ç¨‹å¸ˆ Kyle Shelton æä¾›äº†ä¸€ä¸ªæ¼”ç¤ºï¼Œä»–ä»‹ç»äº†å¦‚ä½•å°†ä»–åœ¨å·¥ä½œä¸­ä½¿ç”¨çš„ [Grafana Cloud](https:\/\/grafana.com\/products\/cloud\/?pg=blog\u0026plcmt=body-txt) ç»éªŒï¼Œç”¨äºåœ¨å®¶ä¸­ä½¿ç”¨ Grafana Cloud Free [ç›‘æ§ä¸ªäººä¸‰é¡¹é“äººè®­ç»ƒ](https:\/\/grafana.com\/about\/events\/grafanacon\/2023\/session\/triathlon-training-with-prometheus-python-grafana-cloud\/?pg=blog\u0026plcmt=body-txt)ã€‚\n\n### ä»ä»»ä½•åœ°æ–¹ç›‘æµ‹æ¸¸æ³³æ± æ°´ä½\n\né«˜çº§è§£å†³æ–¹æ¡ˆå·¥ç¨‹å¸ˆ Brian LeBlanc åˆ›å»ºäº†ä¸€ä¸ª Grafana ä»ªè¡¨æ¿ï¼Œä»¥ä¾¿ä»–å¯ä»¥ç›‘æµ‹è‡ªå®¶æ¸¸æ³³æ± çš„æ°´ä½ã€‚è¿™ä½¿ä»–å¯ä»¥å®‰å¿ƒåœ°è¿›è¡Œäº†ä¸€æ¬¡ä¸ºæœŸ 10 å¤©çš„æ—…è¡Œï¼Œè€Œä¸ä¼šè¿‡åº¦æ‹…å¿ƒæ¸¸æ³³æ± æ°´æ³µå¯èƒ½é­å—çš„æ½œåœ¨æŸå®³ï¼ˆæ›´æ¢è´¹ç”¨ï¼š1000 ç¾å…ƒï¼‰ã€‚åœ¨[ä¸€ç¯‡åšå®¢æ–‡ç« ](https:\/\/grafana.com\/blog\/2023\/08\/14\/how-to-monitor-pool-water-levels-from-anywhere-with-grafana\/?pg=blog\u0026plcmt=body-txt)ä¸­ï¼Œä»–è§£é‡Šäº†ä»–å¦‚ä½•å»ºç«‹ä¸€ä¸ªç³»ç»Ÿï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€ä¸ªåä¸º [Pool Sentry](https:\/\/www.rola-chem.com\/m-3000-pool-sentry\/) çš„æœºæ¢°è®¾å¤‡ï¼Œä¸€ä¸ª [LinkTap G2S](https:\/\/www.link-tap.com\/)ï¼ˆä¸€ä¸ªè¿æ¥åˆ°èŠ±å›­æ°´ç®¡çš„ç‰©è”ç½‘æ™ºèƒ½æ°´æ§åˆ¶å™¨ï¼‰ï¼Œä»¥åŠä¸€ä¸ª [Tempest å¤©æ°”ç«™](https:\/\/weatherflow.com\/tempest-home-weather-system\/)ã€‚ä»–ä½¿ç”¨ Docker è¿è¡Œäº†ä¸€ä¸ªåœ¨ GitHub ä¸Šæ‰¾åˆ°çš„ [exporter](https:\/\/github.com\/nalbury\/tempest-exporter)ï¼Œå¹¶å°†æ•°æ®å¯¼å‡ºåˆ° [Prometheus](https:\/\/grafana.com\/oss\/prometheus\/?pg=blog\u0026plcmt=body-txt)ï¼Œç„¶åè¿œç¨‹å°†æŒ‡æ ‡æ•°æ®å†™å…¥äº†ç”± Grafana Mimir æä¾›æ”¯æŒçš„ [Grafana Cloud Metrics](https:\/\/grafana.com\/products\/cloud\/metrics\/)ã€‚ä»–è§£é‡Šè¯´ï¼šâ€œTempest exporter ä» Tempest Cloud ä¸­è·å–æ•°æ®ã€‚ç„¶åï¼Œæˆ‘çš„æœ¬åœ° Prometheus å®ä¾‹ä¼šæŠ“å–è¿™äº›æ•°æ®å¹¶å°†å…¶å‘å¸ƒåˆ° Grafana Cloud Metrics ä¸­ï¼Œä»¥ä¾¿æˆ‘å¯ä»¥åœ¨ Grafana Cloud ä¸­å¯è§†åŒ–å®ƒã€‚â€ç»“æœï¼Œä»–è¯´ï¼šâ€œæˆ‘å¯ä»¥å°†ä¸¤ä¸ªç‰©è”ç½‘è®¾å¤‡çš„æ•°æ®æ±‡æ€»åˆ°ä¸€ä¸ªçª—å£ä¸­ï¼Œä»¥è¯„ä¼°æ°´çš„æ¶ˆè€—ã€é™é›¨é‡å’Œç¯å¢ƒæ¸©åº¦ã€‚â€\n\nè¿™ä¸ªé¡¹ç›®åœ¨å¤šä¸ªæ–¹é¢éƒ½å–å¾—äº†æˆåŠŸï¼šâ€œä½œä¸ºä¸€åæ–°çš„ Grafanistaï¼Œå®ƒä¸ºæˆ‘æä¾›äº†ä¸€äº›å®é™…çš„ç”¨ä¾‹ï¼Œè®©æˆ‘æœ‰æœºä¼šäº²è‡ªå­¦ä¹ æˆ‘ä»¬çš„äº§å“ï¼Œâ€ä»–è¯´ã€‚â€œåœ¨æˆ‘å’Œå®¶äººåº¦å‡æœŸé—´ï¼Œå®ƒä¹Ÿä¸€ç›´è¿è¡Œå¾—éå¸¸é¡ºåˆ©ã€‚â€\n\n![ä¸€ä¸ª Grafana ä»ªè¡¨æ¿çš„æˆªå›¾ï¼Œæ¶µç›–äº†å¤§èŒƒå›´çš„æ—¶é—´ï¼ŒåŒ…æ‹¬æ°´çš„ä½¿ç”¨æ•°æ®ã€é™æ°´å’Œæ¸©åº¦ã€‚](f4.jpg)\n\n## ç¯å¢ƒã€æ°”å€™å’Œèƒ½æºæ¶ˆè€—\n\nä»Šå¹´çš„è®¸å¤šæ°å‡ºä»ªè¡¨æ¿æ˜¯ä½œä¸ºç¯ä¿ä½¿å‘½çš„ä¸€éƒ¨åˆ†åˆ›å»ºçš„ã€‚Grafana Labs çš„ä¸€ä¸ªå®¢æˆ·è½¬å‘ Grafanaï¼Œå¸®åŠ©å‡å°‘å¯¹ç¯å¢ƒçš„å½±å“ã€‚åœ¨å¦ä¸€ä¸ªç”¨ä¾‹ä¸­ï¼Œæˆ‘ä»¬äº†è§£åˆ° Grafana Cloud åœ¨ä¸€æ¬¡èƒ½æºå±æœºæœŸé—´å‘æŒ¥äº†å…³é”®ä½œç”¨ã€‚æˆ‘ä»¬è¿˜å‘ç°ï¼ŒGrafana Labs çš„ä¸€åå·¥ç¨‹å¸ˆæ›¾ç»å°† Grafana ä½œä¸ºå¯æŒç»­å†œä¸šç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ä½¿ç”¨ã€‚\n\n### å‡å°‘æ•°æ®ä¸­å¿ƒçš„ç¢³æ’æ”¾\n\n[Sentry Software](https:\/\/www.sentrysoftware.com\/) æ˜¯ Hardware Sentry çš„åˆ¶é€ å•†ï¼Œå®ƒæ˜¯ä¸€æ¬¾ IT ç›‘æ§è½¯ä»¶ï¼Œå…¶ä¸šåŠ¡çš„å¾ˆå¤§ä¸€éƒ¨åˆ†ä¾èµ–äºåœ¨å…¶æ•°æ®ä¸­å¿ƒä¸­ç»´æŒæœ€ä½³çš„æ¸©åº¦æ¡ä»¶ï¼Œè¿™ä¸€æ“ä½œå¯¹å…¬å¸çš„æ•´ä½“ç¢³è¶³è¿¹æœ‰æ‰€è´¡çŒ®ã€‚\n\næœ€è¿‘ï¼ŒSentry Software å¼€å§‹é‡‡å–æªæ–½ï¼Œåœ¨ä½äºå·´é»çš„ä¸»è¦æ•°æ®ä¸­å¿ƒä¸­é™ä½ç”µåŠ›æ¶ˆè€—ï¼Œä»¥å‡å°‘å…¶ç¢³æ’æ”¾ã€‚é€šè¿‡å®æ–½å¼€æ”¾æ ‡å‡†å’Œ Grafana Labs æŠ€æœ¯ï¼Œä»–ä»¬å¼€å‘äº†ä¸€ä¸ª[ä½¿ç”¨ Grafana ä»ªè¡¨æ¿ç›‘æ§ç”µåŠ›ä½¿ç”¨æƒ…å†µ](https:\/\/grafana.com\/grafana\/dashboards\/17229-hardware-sentry-site\/?pg=blog\u0026plcmt=body-txt)çš„ç›‘æ§ç³»ç»Ÿï¼Œä»¥æ›´é«˜æ•ˆåœ°ç›‘æµ‹ç”µåŠ›ä½¿ç”¨æƒ…å†µã€‚æœ€ç»ˆç»“æœæ˜¯æ•°æ®ä¸­å¿ƒçš„ç©ºè°ƒèƒ½æºä½¿ç”¨å‡å°‘äº† 19%ï¼Œå¹´åº¦äºŒæ°§åŒ–ç¢³æ’æ”¾é‡å‡å°‘äº† 7%ã€‚\n\næœ€å¥½çš„éƒ¨åˆ†æ˜¯ï¼Œç”±äºæ•´ä¸ªç›‘æ§ç³»ç»Ÿæ˜¯å»ºç«‹åœ¨å¼€æºè§£å†³æ–¹æ¡ˆå’Œå¼€æ”¾æ ‡å‡†ä¹‹ä¸Šçš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥å¤åˆ¶è¯¥å…¬å¸çš„æˆåŠŸç»éªŒã€‚Sentry Software CEO Bertrand Martin åœ¨[GrafanaCON 2023 æ¼”è®²](https:\/\/grafana.com\/about\/events\/grafanacon\/2023\/session\/grafana-opentelemetry-to-reduce-electricity-usage-at-sentry-software\/?pg=blog\u0026plcmt=body-txt)ä¸­è¡¨ç¤ºï¼šâ€œè¿™ä¸ªæ•…äº‹å¯ä»¥æˆä¸ºä½ çš„æ•…äº‹ï¼Œä½ ä¸éœ€è¦å¤æ‚çš„ä¼ä¸šè§£å†³æ–¹æ¡ˆã€‚â€\n\n![Sentry Software çš„ Grafana ä»ªè¡¨æ¿ä¸ºæ›´æœ‰æ•ˆåœ°è·Ÿè¸ªå…¶æ•°æ®ä¸­å¿ƒçš„ç¢³è¶³è¿¹æä¾›äº†æœ‰å…³èƒ½æºæ¶ˆè€—ã€æˆæœ¬å’Œæ’æ”¾çš„å®æ—¶å’Œç´¯ç§¯æ•°æ®ã€‚](f5.jpg)\n\n### åœ¨æ³•å›½å¹³è¡¡ç”µç½‘\n\nå»å¹´å†¬å¤©ï¼ŒFlexcity â€”â€” ç”µåŠ¨çµæ´»æ€§å¸‚åœºçš„å¸‚åœºé¢†å¯¼è€… â€”â€” é¢ä¸´äº†å‰æ‰€æœªæœ‰çš„æŒ‘æˆ˜ï¼šå¸®åŠ©æ³•å›½ç”µç½‘è¿è¥å•† [RTE](https:\/\/www.rte-france.com\/en\/home) åœ¨æ¬§æ´²æ™®éçš„èƒ½æºå±æœºé˜´äº‘ç¬¼ç½©ä¸‹ç¨³å®šæ³•å›½å›½å®¶ç”µç½‘ã€‚éšç€å…¬å¸å› å…¶åŠªåŠ›è€Œä¸Šäº†æ–°é—»å¤´æ¡ï¼ŒFlexcity çš„æŠ€æœ¯å›¢é˜Ÿå°† [Grafana Cloud](https:\/\/grafana.com\/products\/cloud\/?pg=blog\u0026plcmt=body-txt) å½’åŠŸäºå¸®åŠ©æ³•å›½æ¸¡è¿‡äº†é‚£ä¸ªç‰¹åˆ«è‰°éš¾çš„æ—¶æœŸã€‚åˆ©ç”¨ Grafana ä»ªè¡¨æ¿ï¼ŒFlexcity å›¢é˜Ÿå¯ä»¥å®æ—¶è·Ÿè¸ªå®¢æˆ·çš„èƒ½æºæ¶ˆè€—æ•°æ®ï¼Œä»è€Œåœ¨ç”µç½‘æœ€éœ€è¦çš„å…³é”®æ—¶åˆ»èŠ‚çœäº†æ•°åƒåƒç“¦æ—¶ç”µåŠ›ã€‚\n\nFlexcity çš„ CTO Mathias Deshayes è¡¨ç¤ºï¼šâ€œå½“æˆ‘ä»¬æ”¶åˆ°ç”µç½‘è¿è¥å•†çš„è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ Grafana ä»ªè¡¨æ¿å®æ—¶æŸ¥çœ‹å®¢æˆ·åŸºç¡€çš„èƒ½æºå’ŒåŠŸç‡æ¶ˆè€—å’Œäº§é‡æ°´å¹³ã€‚æˆ‘ä»¬åœ¨å®¢æˆ·ç°åœºå®‰è£…äº†å°å‹è®¾å¤‡ï¼Œæ¯éš”å››ç§’ï¼Œæˆ‘ä»¬çš„å¹³å°å°±ä¼šå°†ä»–ä»¬çš„æ¶ˆè€—å‘é€åˆ°æˆ‘ä»¬çš„å¹³å°ï¼Œå¹¶åœ¨ Grafana ä¸­æ˜¾ç¤ºå‡ºæ¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ Grafana ä¸­æœ‰äº†æˆ‘ä»¬ç»„åˆçš„æ€»å’Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¿€æ´»æœŸé—´è·Ÿè¸ªæ¶ˆè€—ï¼Œå³å½“ç”µç½‘è¿è¥å•†è¦æ±‚è®¾å¤‡ä¸Šä¸‹è°ƒæ•´åŠŸç‡ä»¥å¸®åŠ©å¹³è¡¡ç”µç½‘æ—¶ã€‚â€\n\n![Flexcity æ¯”åˆ©æ—¶ç»„åˆçš„ Grafana Cloud ä»ªè¡¨æ¿ï¼Œæ˜¾ç¤ºäº†å…¬å¸å®¢æˆ·å’ŒæœåŠ¡ KPI çš„å…¨çƒæ¶ˆè€—ã€‚](f6.jpg)\n\n### ç›‘ç®¡å°å†œåœº\n\nåœ¨åŠ å…¥ Grafana Labs ä¹‹å‰ï¼Œé«˜çº§è§£å†³æ–¹æ¡ˆå·¥ç¨‹å¸ˆ Chris Wilkes ç»è¥äº†ä¸€ä¸ªé±¼å¡˜å†œåœº â€”â€” ä¸¥æ ¼æ¥è¯´æ˜¯ä¸€ä¸ªæ°´è€•å†œåœºã€‚ ï¼ˆæ°´è€•å†œä¸šç»“åˆäº†å…»é±¼ä¸šå’Œæ°´åŸ¹ï¼Œå³åœ¨æ¶²ä½“åŸ¹å…»åŸºä¸­ç§æ¤è”¬èœã€‚ï¼‰Wilkes æ˜¯ä¸€ååˆå­¦è€…å†œæ°‘ï¼Œå¦è¨€åœ¨å¼€å§‹æ—¶é‡åˆ°äº†å¾ˆå¤šé—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæœ‰ä¸€æ¬¡ï¼Œä»–çš„æ‰€æœ‰é±¼åœ¨æ™šä¸Šä¸€å°ç©ºæ°”æ³µå‘ç”Ÿæ•…éšœåæ­»äº¡ã€‚\n\nåœ¨æ·±å…¥ç ”ç©¶ç‰©è”ç½‘é¢†åŸŸä¹‹åï¼Œä»–è¯´ï¼šâ€œå†œåœºä¸Šçš„æ¯ä¸€å°æœºå™¨éƒ½æœ‰ä¸€ä¸ªå¾®æ§åˆ¶å™¨ã€‚â€éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå†œåœºä¸Šå‘å±•å‡ºäº†ä¸€ä¸ªæ§åˆ¶å’Œç›‘æ§ç³»ç»Ÿï¼Œä»–ä½¿ç”¨ PubNub æŸ¥è¯¢äº†æ‰€æœ‰æ¿ï¼Œå¹¶å°†æ•°æ®è½¬å‚¨åˆ°è¿è¡Œåœ¨ä¸­å¤®æœåŠ¡å™¨ä¸Šï¼ˆä¸€å°æ—§çš„ç¬”è®°æœ¬ç”µè„‘æ”¾åœ¨é›†è£…ç®±ä¸­ï¼‰çš„ PostgreSQL æ•°æ®åº“ä¸­ã€‚å½“ä»–å¶ç„¶å‘ç° Grafana æ—¶ï¼Œä»–è¯´ï¼šâ€œå°±åƒèµ°å‡ºé»‘æš—æ´ç©´è¿›å…¥å…‰æ˜ã€‚â€\n\nWilkes ç»è¥äº†è¿™ä¸ªå†œåœºçº¦äº”å¹´ã€‚ä»–è¯´ï¼šâ€œGrafana çš„ç›‘æ§èƒ½åŠ›åœ¨æˆ‘ç®¡ç†å’Œæ”¹è¿›å†œä¸šæŠ€æœ¯æ–¹é¢å‘æŒ¥äº†é‡è¦ä½œç”¨ã€‚â€ä»–è¡¥å……è¯´ï¼Œä»–è®¡åˆ’æœ‰ä¸€å¤©å›åˆ°å†œä¸šé¢†åŸŸï¼Œå°†æ›´åŠ é«˜çº§çš„ Grafana æŠ€èƒ½ä¸ä»–å¯¹å¯æŒç»­æ€§çš„çƒ­æƒ…ç»“åˆèµ·æ¥ã€‚ä»–è¯´ï¼šâ€œæˆ‘ä»¬éœ€è¦æ”¹å˜ç§æ¤é£Ÿç‰©çš„æ–¹å¼ï¼Œç‰¹åˆ«æ˜¯åœ¨é£Ÿç‰©ç¨€ç¼ºå’Œä¸ç¡®å®šçš„åœ°æ–¹ã€‚â€\n\n![2016 å¹´å·¦å³çš„ Grafana ä»ªè¡¨æ¿ï¼Œè·Ÿè¸ªäº†å†œåœºçš„ç‰©è”ç½‘æ•°æ®ã€‚](f7.jpg)\n\n## æˆ·å¤–\n\næˆ‘ä»¬ç»å¸¸çœ‹åˆ° Grafana ä»ªè¡¨æ¿çªç„¶å‡ºç°ï¼Œä½†ä»Šå¹´æœ‰ä¸¤ä¸ªç‰¹åˆ«å¼•äººæ³¨ç›®ã€‚\n\n### The Ocean Race\n\nå‚èµ›è€…åœ¨è¿™ä¸ªå…¨çƒå¸†èˆ¹æ¯”èµ›ä¸­ç¯ç»•ä¸–ç•Œæ¯”èµ›ï¼Œè¿™æ„å‘³ç€ä»–ä»¬éœ€è¦å…¨å¤©å€™ç›‘æµ‹åŒ…æ‹¬ GPS ä½ç½®ã€é£é€Ÿä»¥åŠç©ºæ°”å’Œæ°´æ¸©åœ¨å†…çš„æ•°æ®ã€‚ä»£è¡¨å¾·å›½çš„ [Team Malizia](https:\/\/www.theoceanrace.com\/en\/teams\/team-malizia)åˆ†äº«äº†[å¸®åŠ©ä»–ä»¬åœ¨è‰°éš¾çš„å…­ä¸ªæœˆå†’é™©ä¸­è·Ÿè¸ªè¿›å±•çš„ Grafana ä»ªè¡¨æ¿](https:\/\/exocet.cloud\/grafana\/d\/bsbc_7MGx\/malizia-public-dashboard-the-ocean-race?orgId=15)ã€‚The Ocean Race æ€»éƒ¨è¿˜å±•ç¤ºäº†ä¸€äº›ä»¤äººå°è±¡æ·±åˆ»çš„ Grafana ä»ªè¡¨æ¿ï¼Œä»¥ç›‘æµ‹æ•´ä¸ªæ¯”èµ›ã€‚\n\n### Call of Duty\n\nGrafana ä»ªè¡¨æ¿çš„ç°å®ä¸–ç•Œç¤ºä¾‹å¹¶ä¸æ–°é²œï¼Œä½†å®ƒä»¬ä¹Ÿåœ¨è™šæ‹Ÿä¸–ç•Œä¸­ä½¿ç”¨ã€‚ä¸‹é¢çš„å›¾åƒæ¥è‡ªè§†é¢‘æ¸¸æˆ Call of Duty: Modern Warfare 2ã€‚\n\nGrafana Labs çš„é¦–å¸­æ‰§è¡Œå®˜å…¼è”åˆåˆ›å§‹äºº Raj Dutt åœ¨[GrafanaCON 2023 ä¸»é¢˜æ¼”è®²](https:\/\/grafana.com\/about\/events\/grafanacon\/2023\/session\/keynote-grafana-10\/?pg=blog\u0026plcmt=body-txt)ä¸­è¯´ï¼šâ€œå¯¹äºé‚£äº›äº†è§£ Grafana çš„äººæ¥è¯´ï¼Œè¿™æ˜¾ç„¶éå¸¸åƒ Grafanaï¼Œä»æŒ‡é’ˆçš„æ ·å¼ã€é¢œè‰²æ–¹æ¡ˆä»¥åŠä¸€åˆ‡éƒ½æ¸…æ™°å¯è§ã€‚â€â€œæ‰€ä»¥æ— è®ºæ˜¯è°åœ¨ Activision æ˜¯ Grafana çš„ç²‰ä¸å¹¶ä¸”è´Ÿè´£è¿™ä¸ªï¼Œè°¢è°¢ä½ ï¼æˆ‘ä»¬æ‰€æœ‰äººéƒ½è¡¨ç¤ºç”±è¡·çš„æ•¬æ„ã€‚â€\n\n![Call of Duty è§†é¢‘æ¸¸æˆä¸­çš„ Grafana ä»ªè¡¨æ¿æˆªå›¾](f8.jpg)\n\næˆ‘ä»¬æœŸå¾…åœ¨ 2024 å¹´çœ‹åˆ°æ›´å¤šä»¤äººæƒŠå¹çš„ä»ªè¡¨æ¿ï¼\n\næƒ³è¦ä¸ç¤¾åŒºåˆ†äº«æ‚¨çš„ Grafana æ•…äº‹å’Œä»ªè¡¨æ¿å—ï¼Ÿç»™æˆ‘ä»¬å‘é€é‚®ä»¶ï¼š[stories@grafana.com](mailto:stories@grafana.com)ã€‚\n', '\/trans\/grafana-dashboards-in-2023-memorable-use-cases-of-the-year\/')">
                <i class="fas fa-file-download"></i>
              </a>
             </li>
          </ul>
      </div>
      <p class="card-text">è¿™ç¯‡æ–‡ç« å›é¡¾äº† 2023 å¹´ç¤¾åŒºä¸­ä¸€äº›ä»¤äººå°è±¡æ·±åˆ»çš„ Grafana ä»ªè¡¨ç›˜çš„ç”¨ä¾‹ï¼Œå®ƒä»¬å±•ç¤ºäº† Grafana çš„å¤šæ ·æ€§å’Œåˆ›é€ åŠ›ï¼Œä»¥åŠå¦‚ä½•ç”¨å¯è§†åŒ–çš„æ–¹å¼ç›‘æ§å’Œåˆ†æå„ç§æ•°æ®å’Œåœºæ™¯ã€‚</p>
    </div>
  </article>
</div>


<script>
  function convertImageLinks(rawContent, permalink) {
      
      const baseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const blogPath = permalink.replace(/^\/|\/$/g, ''); 
      return rawContent.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, function(match, altText, relativePath) {
          
          if (relativePath.startsWith('http://') || relativePath.startsWith('https://')) {
              return match; 
          }
          return `![${altText}](${baseUrl}${blogPath}/${relativePath})`;
      });
  }
  
  function convertRelativeLinks(rawContent) {
      
      const domain = 'https://jimmysong.io'; 
      return rawContent.replace(/\[([^\]]+)\]\((\/[^)]+)\)/g, function(match, linkText, relativePath) {
          return `[${linkText}](${domain}${relativePath})`;
      });
  }
  
  function exportToMarkdown(title, description, rawContent, permalink) {
      const githubBaseUrl = 'https://raw.githubusercontent.com/rootsongjc/rootsongjc.github.io/master/'; 
      const filename = title + '.md';
  
      
      const convertedContent = convertImageLinks(rawContent, permalink);
      
      
      const contentWithLinks = convertRelativeLinks(convertedContent);
  
      
      const contentWithHeader = `> ${description}\n>\n> é˜…è¯»åŸæ–‡è¯·è½¬åˆ°ï¼šhttps://jimmysong.io${permalink}\n${contentWithLinks}`;
  
      
      const contentWithFooter = `${contentWithHeader}\n\n---\n`;
  
      
      const element = document.createElement('a');
      element.setAttribute('href', 'data:text/markdown;charset=utf-8,' + encodeURIComponent(contentWithFooter));
      element.setAttribute('download', filename);
  
      element.style.display = 'none';
      document.body.appendChild(element);
  
      element.click();
  
      document.body.removeChild(element);
  }
  
  
  if (window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1") {
      document.querySelectorAll('.export-button').forEach(function(button) {
          button.style.display = 'inline';
      });
  }
</script>
          
          <div class="col-12">
 
 
 
 
 
 
 
 
 
 
 
 <nav aria-label="Page navigation">
   <ul class="pagination justify-content-center">
     
     
     <li class="page-item">
       <a class="page-link" href="/blog/">
         Â«Â«
       </a>
     </li>
     
     
     
     <li class="page-item">
       <a href="/blog/page/7/" class="page-link">
         Â«
       </a>
     </li>
     
     
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
             
           
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/6/" class="page-link">
             6
           </a>
         </li>
       
     
       
       
       
         
         
         
           
             
           
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/7/" class="page-link">
             7
           </a>
         </li>
       
     
       
       
       
         
         
         
           
             
           
         
       
       
       
       
         <li class="page-item page-item active ">
           <a href="/blog/page/8/" class="page-link">
             8
           </a>
         </li>
       
     
       
       
       
         
         
         
           
             
           
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/9/" class="page-link">
             9
           </a>
         </li>
       
     
       
       
       
         
         
         
           
             
           
         
       
       
       
       
         <li class="page-item">
           <a href="/blog/page/10/" class="page-link">
             10
           </a>
         </li>
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
       
       
       
         
         
         
           
         
       
       
       
       
     
     
     
     <li class="page-item">
       <a href="/blog/page/9/" class="page-link">
         Â»
       </a>
     </li>
     
     
     
     <li class="page-item">
       <a class="page-link" href="/blog/page/27/">
         Â»Â»
       </a>
     </li>
     
   </ul>
 </nav>
 
</div>

        </div>
      </div>
      <!-- sidebar -->
      <aside class="col-lg-4 order-1 order-lg-2 d-none d-sm-block">
          <div class="sidebar">
          <!-- categories -->
<div class="blog-categories mb-4">
  <p class="sidebar-title">
      ä¸“æ 
  </p>
  
  
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
  
  <div class="bg-gray">
      
        <a href="/categories/istio" class="sidebar-item">
            <span>Istio</span>
            <span>(75)</span>
        </a>
      
        <a href="/categories/service-mesh" class="sidebar-item">
            <span>Service Mesh</span>
            <span>(42)</span>
        </a>
      
        <a href="/categories/kubernetes" class="sidebar-item">
            <span>Kubernetes</span>
            <span>(25)</span>
        </a>
      
        <a href="/categories/%e9%9a%8f%e7%ac%94" class="sidebar-item">
            <span>éšç¬”</span>
            <span>(22)</span>
        </a>
      
        <a href="/categories/%e5%85%b6%e4%bb%96" class="sidebar-item">
            <span>å…¶ä»–</span>
            <span>(18)</span>
        </a>
      
        <a href="/categories/envoy" class="sidebar-item">
            <span>Envoy</span>
            <span>(17)</span>
        </a>
      
        <a href="/categories/%e4%b8%9a%e6%80%81" class="sidebar-item">
            <span>ä¸šæ€</span>
            <span>(17)</span>
        </a>
      
        <a href="/categories/%e4%ba%91%e5%8e%9f%e7%94%9f" class="sidebar-item">
            <span>äº‘åŸç”Ÿ</span>
            <span>(14)</span>
        </a>
      
        <a href="/categories/ai" class="sidebar-item">
            <span>AI</span>
            <span>(9)</span>
        </a>
      
        <a href="/categories/%e5%ae%89%e5%85%a8" class="sidebar-item">
            <span>å®‰å…¨</span>
            <span>(9)</span>
        </a>
      
        <a href="/categories/%e5%bc%80%e6%ba%90" class="sidebar-item">
            <span>å¼€æº</span>
            <span>(9)</span>
        </a>
      
        <a href="/categories/%e6%97%85%e8%a1%8c" class="sidebar-item">
            <span>æ—…è¡Œ</span>
            <span>(7)</span>
        </a>
      
        <a href="/categories/%e5%8f%af%e8%a7%82%e6%b5%8b%e6%80%a7" class="sidebar-item">
            <span>å¯è§‚æµ‹æ€§</span>
            <span>(5)</span>
        </a>
  </div>
</div>

<div class="blog-categories mb-4">
  <p class="sidebar-title">
      èµ„æ–™
  </p>
  
  
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
        
      
      
  
  <div class="bg-gray">
      
        <a href="/categories/%e5%87%ba%e7%89%88%e7%89%a9" class="sidebar-item">
            <span>å‡ºç‰ˆç‰©</span>
            <span>(8)</span>
        </a>
      
        <a href="/categories/%e7%bf%bb%e8%af%91%e7%94%b5%e5%ad%90%e4%b9%a6" class="sidebar-item">
            <span>ç¿»è¯‘ç”µå­ä¹¦</span>
            <span>(8)</span>
        </a>
      
        <a href="/categories/%e7%bf%bb%e8%af%91%e6%96%87%e6%a1%a3" class="sidebar-item">
            <span>ç¿»è¯‘æ–‡æ¡£</span>
            <span>(7)</span>
        </a>
      
        <a href="/categories/%e7%bf%bb%e8%af%91%e5%9b%be%e4%b9%a6" class="sidebar-item">
            <span>ç¿»è¯‘å›¾ä¹¦</span>
            <span>(6)</span>
        </a>
      
        <a href="/categories/%e5%8e%9f%e5%88%9b%e5%9b%be%e4%b9%a6" class="sidebar-item">
            <span>åŸåˆ›å›¾ä¹¦</span>
            <span>(2)</span>
        </a>
      
        <a href="/categories/%e6%95%99%e7%a8%8b%e6%89%8b%e5%86%8c" class="sidebar-item">
            <span>æ•™ç¨‹æ‰‹å†Œ</span>
            <span>(2)</span>
        </a>
  </div>
</div>





          </div>
      </aside>
      <!-- /sidebar -->
    </div>
  </div>
</section>




<footer>
  
  <div class="footer bg-footer section-sm border-bottom overlay ">
    <div class="container-xl">
      <div class="row">
        <div class="col col-xl-4 d-sm-none mb-2 mb-lg-0 d-xl-block d-none">
          
          <p class="h3 text-white mb-4 text-uppercase">è”ç³»</p>
          
          <ul class="list-unstyled">
            
            
            <li class="mb-4 text-color">å¾®ä¿¡å…¬ä¼—å·</li>
            
            
            <li class="mb-4"><img src="/images/servicemesher-wechat.webp" width="118px" height="118px" alt="footer image"></li>
            
            
            
          
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">åšå®¢</p>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/blog/migrating-from-aws-app-mesh-to-istio-a-comprehensive-guide/">ä» AWS App Mesh è¿ç§»åˆ° Istio å…¨é¢æŒ‡å—</a></li>
            
            <li class="mb-3"><a class="text-color" href="/blog/shanxi-trip/">åœ°ä¸Šæ–‡ç‰©çœ‹å±±è¥¿ï¼šå®è—æ–‡ç‰©å¤§çœä¸è¯¥è¢«åŸ‹æ²¡</a></li>
            
            <li class="mb-3"><a class="text-color" href="/blog/multi-cluster-pki-istio-recipe/">å¤šé›†ç¾¤ PKI ä¸ Istio å®è·µï¼šä¸ºæœåŠ¡ç½‘æ ¼æ„å»ºå¯ä¿¡ä¸”å¯æ‰©å±•çš„ PKI</a></li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">é“¾æ¥</p>
          <ul class="list-unstyled">
            
            <li class="mb-3">
              <a class="text-color" href="https://istio.io/latest/zh/" target="_blank" rel="noopener noreferrer">
                  Istio æœåŠ¡ç½‘æ ¼
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://tetrate.io/?jimmysong" target="_blank" rel="noopener noreferrer">
                  Tetrate å…¬å¸
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://space.bilibili.com/515485124" target="_blank" rel="noopener noreferrer">
                  äº‘åŸç”Ÿå­¦é™¢|Bilibili
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="/awesome-cloud-native/" target="_blank" rel="noopener noreferrer">
                  äº‘åŸç”Ÿå¼€æºé¡¹ç›®å¤§å…¨
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://cloudnative.to" target="_blank" rel="noopener noreferrer">
                  äº‘åŸç”Ÿç¤¾åŒºï¼ˆä¸­å›½ï¼‰
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">æ•™ç¨‹</p>
          <ul class="list-unstyled">
            
            <li class="mb-3">
              <a class="text-color" href="https://academy.tetrate.io/courses/envoy-fundamentals-zh" target="_blank" rel="noopener noreferrer">
                  Envoy åŸºç¡€æ•™ç¨‹
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="https://academy.tetrate.io/courses/istio-fundamentals-zh" target="_blank" rel="noopener noreferrer">
                  Istio åŸºç¡€æ•™ç¨‹
                  
                  <i class="fa-solid fa-arrow-up-right-from-square icon-small"></i>
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="/book/kubernetes-handbook/" >
                  Kubernetes åŸºç¡€æ•™ç¨‹
                  
              </a>
            </li>
            
            <li class="mb-3">
              <a class="text-color" href="/book/envoy-made-simple/" >
                  ç®€æ˜ Envoy æ•™ç¨‹
                  
              </a>
            </li>
            
          </ul>
        </div>

        
        <div class="col col-xl-2 col-6 col-sm-3 mb-2">
          <p class="h3 text-white mb-4 text-uppercase">é€šçŸ¥</p>
          <ul class="list-unstyled">
            
            <li class="mb-3"><a class="text-color" href="/notice/nist-sp-800-233-service-mesh-proxy-models/">èµ„æ–™åˆ†äº«ï¼šäº‘åŸç”Ÿåº”ç”¨æœåŠ¡ç½‘æ ¼ä»£ç†æ¨¡å‹çš„å¨èƒåˆ†ææŒ‡å—</a></li>
            
            <li class="mb-3"><a class="text-color" href="/notice/kubecon-china-2024-panel/">KubeCon China 2024ï¼ˆé¦™æ¸¯ï¼‰</a></li>
            
            <li class="mb-3"><a class="text-color" href="/notice/website-revamp-notice/">ç½‘ç«™æ”¹ç‰ˆé€šçŸ¥</a></li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>

  
  <div class="copyright py-4 bg-footer overlay">
    <div class="container-xl">
      <div class="row">
        <div class="col-sm-6 text-sm-left text-center">
          <p class="mb-0 text-color">Â© 2017-2024 Jimmy Song ä¿ç•™æ‰€æœ‰æƒåˆ©</p>
        </div>
        <div class="col-sm-6 text-sm-right text-center">
          <ul class="list-inline">
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://twitter.com/jimmysongio" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-x-twitter text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="/contact/" >
                    <i class="fa-brands fa-weixin text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://github.com/rootsongjc" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-github text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="https://linkedin.com/in/jimmysongio" target="_blank" title="Social link" rel="noopener noreferrer">
                    <i class="fa-brands fa-linkedin text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="mailto:rootsongjc@gmail.com" >
                    <i class="fa-solid fa-envelope text-white"></i>
              </a>
            </li>
            
            <li class="list-inline-item">
              <a class="d-inline-block p-2" href="/blog/index.xml" >
                    <i class="fa-solid fa-rss text-white"></i>
              </a>
            </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<!-- JS Plugins -->

<script src="/plugins/popper/popper.min.js"></script>

<script src="/plugins/bootstrap/bootstrap.min.js"></script>

<script src="/plugins/slick/slick.min.js"></script>

<script src="/plugins/filterizr/jquery.filterizr.min.js"></script>

<script src="/plugins/search/fuse.min.js"></script>

<script src="/plugins/search/mark.js"></script>

<script src="/plugins/hex_md5/hex_md5.js"></script>

<script src="/plugins/anchor/anchor.min.js"></script>

<script src="/plugins/tocbot/tocbot.min.js"></script>

<script src="/plugins/bigger-picture/bigger-picture.min.js"></script>


<!-- Main Script -->

<script src="/js/script.min.f94c22b1d478bfc9e2e0a7d954429e47b7e6d36edd423758482e04154ae1842e.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-ESY906ZWZ0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ESY906ZWZ0');
</script>


<!-- Baidu analysis -->
<meta name="baidu-site-verification" content="g8IYR9SNLF" />





<script>
    anchors.add();
</script>






<script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script>










<script src="/js/wowchemy-search.min.7a37268e7bbe4a9160c2e4c33b749816.js" type="module"></script>
<script id="search-hit-fuse-template" type="text/x-template">
  <div class="search-hit" id="summary-{{key}}">
    <div class="search-hit-content border-bottom">
      <div class="search-hit-name">
        <div class='search-hit-link'><a href="{{relpermalink}}">{{title}}</a></div>
        <div class="search-hit-metadata d-flex">
            <span class="mr-1"><i class="fa-regular fa-calendar mr-1"></i>{{date}}</span>
            <span class="mr-1"><i class="fa-regular fa-folder-open mr-1"></i>{{section}}</span>
            <span class="d-sm-block d-none"><i class="fa-solid fa-link mr-1"></i>{{relpermalink}}</span>
        </div>
        <div class="search-hit-description">{{snippet}}</div>
      </div>
    </div>
  </div>
</script>



    </body>
</html>
