(()=>{var o={notice:"",post:"博客"},n={no_results:"没有找到相关内容",placeholder:"请输入搜索词",results:"个相关搜索结果"},e={indexURI:"/index.json",minLength:1,threshold:.3},s={shouldSort:!0,includeMatches:!0,tokenize:!0,threshold:e.threshold,location:0,distance:100,maxPatternLength:32,minMatchCharLength:e.minLength,keys:[{name:"title",weight:.99},{name:"summary",weight:.6},{name:"content",weight:.2}]},i=10;function a(e){return decodeURIComponent((location.search.split(e+"=")[1]||"").split("&")[0]).replace(/\+/g," ")}function r(e){history.replaceState&&window.history.replaceState({path:e},"",e)}function t(e,t){let n=$("#search-query").val();if(n.length<1&&($("#search-hits").empty(),$("#search-common-queries").show()),!e&&n.length<s.minMatchCharLength)return;$("#search-hits").empty(),$("#search-common-queries").hide(),c(n,t);let o=`${window.location.protocol}//${window.location.host}${window.location.pathname}?q=${encodeURIComponent(n)}${window.location.hash}`;r(o)}function c(e,t){let s=t.search(e).slice(0,i);s.length>0?($("#search-hits").append('<p class="mt-0 hits-title">'+s.length+" "+n.results+"</p>"),l(e,s)):$("#search-hits").append('<div class="search-no-results">'+n.no_results+"</div>")}function l(e,t){$.each(t,function(t,n){let s=n.item.section,i=n.item.summary||"",a=$("#search-hit-fuse-template").html(),r={key:t,title:n.item.title,type:o[s]||s,relpermalink:n.item.relpermalink,snippet:i},c=d(a,r);$("#search-hits").append(c),$("#summary-"+t).mark(e)})}function d(e,t){let n,s,o;for(n in t)s="\\{\\{\\s*"+n+"\\s*\\}\\}",o=new RegExp(s,"g"),e=e.replace(o,t[n]);return e}typeof Fuse=="function"&&$.getJSON(e.indexURI,function(e){let n=new Fuse(e,s),o=a("q");o&&($("body").addClass("searching"),$(".search-results").css({opacity:0,visibility:"visible"}).animate({opacity:1},200),$("#search-query").val(o),$("#search-query").focus(),t(!0,n)),$("#search-query").keyup(function(e){clearTimeout($.data(this,"searchTimer")),e.keyCode==13?t(!0,n):$(this).data("searchTimer",setTimeout(function(){t(!1,n)},250))})})})()