(function(e){"use strict";e(window).on("load",function(){e(".preloader").fadeOut(100)}),e(window).scroll(function(){var t=e(".top-header").innerHeight();e("header").offset().top>10?(e(".top-header").addClass("hide"),e(".navigation").addClass("nav-bg"),e(".navigation").css("margin-top","-"+t+"px")):(e(".top-header").removeClass("hide"),e(".navigation").removeClass("nav-bg"),e(".navigation").css("margin-top","-"+0+"px"))}),e("[data-background]").each(function(){e(this).css({"background-image":"url("+e(this).data("background")+")"})}),e("#searchOpen").on("click",function(){e(".search-wrapper").addClass("open"),setTimeout(function(){e(".search-box").focus()},500)}),e("#searchClose").on("click",function(){e(".search-wrapper").removeClass("open")}),e(".hero-slider").slick({autoplay:!0,autoplaySpeed:6500,pauseOnFocus:!1,pauseOnHover:!1,infinite:!0,arrows:!0,fade:!0,prevArrow:"<button type='button' class='prevArrow'><i class='fa-solid fa-angle-left'></i></button>",nextArrow:"<button type='button' class='nextArrow'><i class='fa-solid fa-angle-right'></i></button>",dots:!0}),e(".hero-slider").slickAnimation(),e(document).ready(function(){var n,t=document.querySelector(".filtr-container");t&&(n=e(".filtr-container").filterizr({})),e(".filter-controls li").on("click",function(){e(".filter-controls li").removeClass("active"),e(this).addClass("active")})});function t(){var t;e(".count").length!==0&&(t=e(".count").offset().top-window.innerHeight),e(window).scrollTop()>t&&e(".count").each(function(){var t=e(this),n=t.attr("data-count");e({countNum:t.text()}).animate({countNum:n},{duration:1e3,easing:"swing",step:function(){t.text(Math.floor(this.countNum))},complete:function(){t.text(this.countNum)}})})}e(window).on("scroll",function(){t()}),e(document).ready(function(){e(".has-animation").each(function(){e(this).delay(e(this).data("delay")).queue(function(){e(this).addClass("animate-in")})})})})(jQuery);const bp=BiggerPicture({target:document.body}),imageLinks=document.querySelectorAll(".content img");for(let e of imageLinks)e.addEventListener("click",openGallery);function openGallery(e){e.preventDefault(),bp.open({items:imageLinks,el:e.currentTarget,maxZoom:4})}function toggleCollapse(e){const t=document.getElementById(e),i=document.getElementById(t.getAttribute("aria-controls")),n=t.classList.contains("fa-angle-right"),s=n?"fa-angle-down":"fa-angle-right",o=n?"fa-angle-right":"fa-angle-down";t.classList.add(s),t.classList.remove(o)}function removeQueryParamsFromUrl(){if(window.history.replaceState){let e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.hash;window.history.replaceState({path:e},"",e)}}function toggleSearchDialog(){if($("body").hasClass("searching"))$("[id=search-query]").blur(),$("body").removeClass("searching compensate-for-scrollbar"),removeQueryParamsFromUrl(),$("#fancybox-style-noscroll").remove();else{!$("#fancybox-style-noscroll").length&&document.body.scrollHeight>window.innerHeight&&($("head").append('<style id="fancybox-style-noscroll">.compensate-for-scrollbar{margin-right:'+(window.innerWidth-document.documentElement.clientWidth)+"px;}</style>"),$("body").addClass("compensate-for-scrollbar")),$("body").addClass("searching"),$(".search-results").css({opacity:0,visibility:"visible"}).animate({opacity:1},200);let e=document.querySelector(".ais-SearchBox-input");e?e.focus():$("#search-query").focus()}}$(window).on("load",function(){document.addEventListener("keydown",e=>{if(e.code==="Escape"){const e=document.body;e.classList.contains("searching")&&toggleSearchDialog()}if((e.metaKey||e.ctrlKey)&&e.code==="KeyK"){let t=document.activeElement,n=t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement;n||(e.preventDefault(),toggleSearchDialog())}}),!0&&$(".js-search").click(function(e){e.preventDefault(),toggleSearchDialog()}),$('[data-toggle="tooltip"]').tooltip()}),function(){"use strict";if(!document.queryCommandSupported("copy"))return;function e(e,t){e.className="highlight-copy-btn",e.textContent=t,setTimeout(function(){e.textContent="",e.className="highlight-copy-btn fa-regular fa-copy"},1e3)}function t(e){var t=window.getSelection(),n=document.createRange();return n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n),t}function n(n){var o,i,s=document.createElement("button");s.className="highlight-copy-btn fa-regular fa-copy",s.textContent="",s.title="copy",o=n.querySelectorAll(".lntd"),o.length>0?i=o[o.length-1].querySelector("code"):i=n.querySelector("code"),s.addEventListener("click",function(){try{var n=t(i);document.execCommand("copy"),n.removeAllRanges(),e(s,"已复制")}catch(t){console&&console.log(t),e(s,"Failed :'(")}}),n.appendChild(s)}var s=document.getElementsByClassName("highlight");Array.prototype.forEach.call(s,n)}();var mybutton=document.getElementById("backTopBtn");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?mybutton.style.display="block":mybutton.style.display="none"}function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}document.addEventListener("DOMContentLoaded",function(){var n,s=60,o=60,i=5,a=2,r=".aside-toc #TableOfContents",c=".mobile-toc #TableOfContents",e=window.innerWidth<768?c:r,l=document.querySelector(e),t=window.innerWidth<768?s:o,d=window.innerWidth<768?i:a;l&&(tocbot.init({tocSelector:e,contentSelector:".content",headingSelector:"h2, h3, h4, h5",hasInnerContainers:!1,collapseDepth:d,headingsOffset:t,scrollSmoothOffset:-t}),n=document.querySelectorAll(".aside-toc"),n.forEach(function(e){e.classList.add("loaded")}))});function applyLineClamp(e){if(e instanceof Element){const t=window.getComputedStyle(e);let n=e.clientHeight||e.offsetHeight;const s=parseFloat(t.lineHeight),o=Math.floor(n/s);e.style.webkitLineClamp=o}}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".card-text, .notice-text, .publication-card-text");e.forEach(e=>{applyLineClamp(e)})}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".content table");e.forEach(function(e){var t=document.createElement("div");t.className="data-table",e.parentNode.insertBefore(t,e),t.appendChild(e)})}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("figure img").forEach(e=>{e.src.endsWith(".svg")||(e.onload=function(){e.hasAttribute("data-width")||e.setAttribute("data-width",e.naturalWidth),e.hasAttribute("data-height")||e.setAttribute("data-height",e.naturalHeight)},(!e.hasAttribute("data-width")||!e.hasAttribute("data-height"))&&(e.src=e.src+"?"+(new Date).getTime()))})})